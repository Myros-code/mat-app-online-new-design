{"version":3,"sources":["redux/store/project/actionTypes.js","redux/store/project/actions.js","components/common/app-common/AlertDialog/AlertDialog.js","components/app-components/ClearStorageAlertDialog/ClearStorageAlertDialog.js","components/app-components/AppFooter/AppFooter.js","components/app-components/AppHeader/AppHeader.js","components/app-components/AppSidebar/AppSidebar.js","redux/actionTypes/actionTypes.js","redux/store/rooms/actions.js","components/newWallItemModal/ComponentData/fieldsData.js","components/newWallItemModal/ComponentData/ModalInputComponents/TextInp.js","components/newWallItemModal/ComponentData/ModalInputComponents/SelectInp.js","components/newWallItemModal/ComponentData/ModalInputComponents/NumberInp.js","components/newWallItemModal/ComponentData/ModalInputComponents/DropdownInp.js","components/newWallItemModal/WallItemModal.js","components/newWallItemModal/ComponentData/formData.js","components/newWallItemModal/ComponentData/fieldsUi.js","math/index.js","assets/images/svg/edit.svg","components/common/heatLossCalcCommon/InfoTable/InfoTableHeader.js","components/common/heatLossCalcCommon/InfoTable/InfoTable.js","components/common/heatLossCalcCommon/InfoTable/functions/getUi.js","components/heatLossCalc/RoomBuilding/RoomBuldingInfoTable/RoomBuildingInfoTable.js","components/heatLossCalc/RoomBuilding/RoomBuldingInfoTable/functions/getTableData.js","components/common/heatLossCalcCommon/NavigationPanel/NavigationPanel.js","components/heatLossCalc/RoomBuilding/RoomBuildingNavigationPanel/RoomBuildingNavigationPanel.js","components/common/heatLossCalcCommon/ItemTable/ItemTable.js","components/common/heatLossCalcCommon/ItemTable/functions/getUi.js","components/heatLossCalc/RoomBuildingOpening/RoomBuildingOpeningItemTable/RoomBuildingOpeningItemTable.js","components/heatLossCalc/RoomBuildingOpening/RoomBuildingOpeningItemTable/functions/getTableData.js","components/heatLossCalc/RoomBuildingOpening/RoomBuldingOpeningTables/RoomBuldingOpeningTables.js","pages/WallPage.js","ReportTables/charts/NewCharts/ReportChart1.js","calculation/calc_group.js","ReportTables/charts/NewCharts/ReportChart2.js","ReportTables/charts/NewCharts/ReportChart3.js","ReportTables/pdfTable/ProjectTableDoc.js","ReportTables/pdfTable/RoomsTableDoc.js","ReportTables/ReportDocument.js","assets/images/brand.jpg","ReportTables/ReportFunk.js","components/heatLossCalc/Project/ProjectInfoTable/ProjectInfoTable.js","components/heatLossCalc/Project/ProjectInfoTable/functions/getTableData.js","components/heatLossCalc/Room/RoomItemTable/RoomItemTable.js","components/heatLossCalc/Room/RoomItemTable/functions/getTableData.js","components/heatLossCalc/Room/RoomItemTables/RoomItemTables.js","components/common/heatLossCalcCommon/ModalWindow/ModalWindow.js","components/heatLossCalc/Room/RoomModalWindow/functions/reheatData.js","components/heatLossCalc/Room/RoomModalWindow/RoomModalForm.js","components/heatLossCalc/Room/RoomModalWindow/functions/getFormData.js","components/heatLossCalc/Room/RoomModalWindow/functions/getFormUi.js","components/heatLossCalc/Room/RoomModalWindow/RoomModalWindow.js","components/heatLossCalc/Room/RoomModalWindow/functions/getInitialFormValues.js","components/heatLossCalc/Room/RoomModalWindow/functions/getRoomData.js","components/heatLossCalc/Project/ProjectModalWindow/ProjectModalWindow.js","components/heatLossCalc/Project/ProjectModalWindow/functions/getFormData.js","components/heatLossCalc/Project/ProjectModalWindow/functions/getProjectData.js","components/heatLossCalc/Project/ProjectModalWindow/functions/getFormUi.js","pages/Project.js","components/newRoomItemModal/ComponentData/inputs/inputs.js","components/newRoomItemModal/ComponentData/ModalInputComponents/DropdownInp.js","components/newRoomItemModal/ComponentData/ModalInputComponents/SelectInp.js","components/newRoomItemModal/ModalForm.js","components/newRoomItemModal/newRoomItemModal.js","components/newRoomItemModal/ComponentData/formData.js","components/heatLossCalc/Room/RoomInfoTable/RoomInfoTable.js","components/heatLossCalc/Room/RoomInfoTable/functions/getTableData.js","components/heatLossCalc/RoomBuilding/RoomBuildingItemTable/RoomBuildingItemTable.js","components/heatLossCalc/RoomBuilding/RoomBuildingItemTable/functions/getTableData.js","components/heatLossCalc/RoomBuilding/RoomBildingItemTables/RoomBildingItemTables.js","components/heatLossCalc/Room/RoomNavigationPanel/RoomNavigationPanel.js","pages/RoomPage.js","components/app-components/AppCard/AppCard.js","pages/StartPage.js","ReportTables/RoomsTable.js","ReportTables/ProjectTable.js","ReportTables/charts/UiCharts/chart1.js","ReportTables/charts/UiCharts/chart2.js","ReportTables/charts/UiCharts/chart3.js","pages/Report.js","components/nomograph-app-components/NomographCard/NomographCard.js","pages/Nomograph.js","nomographExample/settings.js","nomographExample/brine.js","nomographExample/scales.js","nomographExample/Matrix.js","nomographExample/DataPoint.js","nomographExample/PolynomialRegression.js","nomographExample/coreFunctions.js","nomographExample/MassFlowNomographUpdated/ChildComponents/NomographScales.js","nomographExample/MassFlowNomographUpdated/ChildComponents/NomographRuler.js","nomographExample/MassFlowNomographUpdated/ChildComponents/NomographLabels.js","nomographExample/MassFlowNomographUpdated/ChildComponents/NomographDrugBtn.js","nomographExample/MassFlowNomographUpdated/MassFlowNomographUpdated.js","nomographExample/MassFlowNomographUpdated/MassFlowNomographContent.js","routes.js","pages/NomographExample.js","layouts/Main.js","App.js","calculation/calc_room_data.js","calculation/calc_hight_ceiling.js","calculation/calc_ground_floor_heatLoss.js","calculation/calc_wall_data.js","redux/store/rooms/reducers.js","math/validate_numbers.js","calculation/calculate_project_data.js","redux/store/project/reducers.js","redux/store/app/reducers.js","redux/store/rootReducer.js","redux/store/store.js","index.js"],"names":["CALCULATE_PROJECT_DATA","EDIT_PROJECT_DATA","calculate_project_data","rooms","type","payload","data","AlertDialog","props","open","dialogTitle","setOpen","onSubmit","dialogDesc","handleSubmit","handleClose","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","onClick","color","autoFocus","ClearStorageAlertDialog","appId","lastAppId","JSON","parse","localStorage","getItem","useState","resetStoreDialogOpen","setResetStoreDialogOpen","currAppId","isAppIdEqual","closeDialog","setItem","stringify","removeItem","window","location","reload","useEffect","Component","AppHeader","sidebarBtn","Navbar","collapseOnSelect","expand","variant","className","Container","fluid","Brand","to","activeClassName","Toggle","aria-controls","Collapse","Nav","Link","href","eventKey","AppSidebar","name","routes","show","setShow","useLocation","s","Offcanvas","style","width","onHide","scroll","backdrop","Header","closeButton","Title","Body","display","paddingLeft","map","prop","key","redirect","upgrade","routeName","layout","path","pathname","indexOf","icon","fontWeight","fontSize","RESET_STORE","delete_room_action","roomId","calculate_room_data","calculate_item_data","itemId","calculate_wallItem_data","wallId","getFieldsData","state","buildingTypes","elementExternal","constructionTypeOptions","group_0","items","externalWall","items_group_0","filter","el","external","Object","values","reduce","c","e","group_1","option","img","file","get_construction_type_options","exWallGroup","variantBuildingOptions","group_2","get_variant_building_options","exWallGroup1","placeholder","value","step","height","options","exWallGroup2","uValue","TextInp","handlerChange","Form","Group","Label","Control","size","onChange","SelectInp","as","NumberInp","DropdownInp","Dropdown","Item","alt","src","process","Menu","WallItemModal","dispatch","useDispatch","wallTypes","uValueList","opening","choosedElement","setChoosedElement","useFormik","initialValues","obj","itemName","Number","area","heatLoss","tempNroom","getFormData","isEdit","roomIdx","wallIdx","itemIdx","edit_wallItem_action","curRoomIdx","curWallIdx","editedRoomBuildingOpening","idx","uuidv4","deltaT","add_wallItem_action","handleChange","resetForm","setValues","setFieldValue","fieldsUi","handlerDropdownChange","handlerTypeChange","handlerVariantChange","Col","sm","xs","getFieldsUi","results","preventDefault","choosedValue","target","closest","getAttribute","element","find","setTimeout","choosedRoomBuildingOpeningData","console","log","Modal","centered","Row","Figure","Image","Caption","Footer","toSiPrefix","decimals","prefix","lowerDecimals","upperDecimals","breakDecimals","cb","undefined","toPrecision","factor","Infinity","String","toFixed","a","checkPrefData","prefData","InfoTableHeader","Card","InfoTableHeaderEditable","setModalOpen","float","editIcon","InfoTable","tableData","isEditable","tableUi","colSpan","unit","tableHeader","Table","striped","bordered","hover","RoomBuildingInfoTable","roomBuilding","roomType","length","expPerimeter","thermInsul","thickInsul","getTableData","NavigationPanel","pageLevelLinks","neighbourPagesLinks","NavBtn","goToLink","buttonLabel","createLinksUi","linkArray","linkObj","history","push","link","pageLevelLinksUi","neighbourPagesLinksUi","withRouter","navData","prevPageId","nextPageId","ItemTable","tableId","tableName","goToInfoTable","editTable","deleteTable","hasInfoTable","acTogleTxt","acSetTogleTxt","CustomToggle","children","decoratedOnClick","useAccordionButton","innerText","goToBtn","tableButtons","Accordion","defaultActiveKey","RoomBuildingOpeningItemTable","editRoomBuildingOpening","curRoomBuildingIdx","openingIdx","openingItem","buildingTypeValue","calculateData","col","colN","class","calculateOpening","confirm","item","document","getElementById","classList","add","wallItemIdx","remove","RoomBuldingOpeningTables","wallItem","xl","lg","md","WallPage","useSelector","project","match","params","pageData","findIndex","room","toString","wall","currentWall","roomNavData","walls","prewIdx","nextIdx","getNavData","getPageData","currentRoom","IsModalShow","setModalShow","isModalEdit","setModalEdit","setEditedRoomBuildingOpening","groundFloorType","disabled","alignItems","borderWidth","roomBuildingOpening","buildingType","QuickChart","require","ReportChart1","reportChart1","transmissionLoss","venHeatLoss","setConfig","labels","datasets","backgroundColor","borderColor","scales","yAxes","ticks","beginAtZero","xAxes","barPercentage","plugins","datalabels","anchor","align","formatter","borderRadius","font","title","legend","setWidth","setHeight","setBackgroundColor","url","getUrl","calc_group","arr","groupName","prev","cur","ReportChart2","wallH","windowDoorH","roofH","forEach","wallItemsH","wallHeatLoss","windowDoorHeatLoss","roofHeatLoss","getData","reportChart2","ReportChart3","reportChart3","wallYearH","ventYearH","vYearH","rYearH","w_dYearH","wYearH","tableStyle","tableRowStyle","flexDirection","firstTableColHeaderStyle","borderStyle","borderBottomColor","tableColHeaderStyle","borderLeftWidth","firstTableColStyle","borderTopWidth","tableColStyle","tableCellHeaderStyle","textAlign","marginTop","tableCellHeaderStyleUnit","marginBottom","tableCellStyle","margin","ProjectTableDocument","fixed","outsideT","groundT","dDays","totalFloorArea","specHeatLoss","totalHeatLoss","RoomsTableDocument","rows","roomT","roomVolume","respCapacity","styles","StyleSheet","create","paddingTop","paddingBottom","page","paddingRight","section","padding","sectionTitle","brandingImg","ReportDoc","wrap","ProjectTableDoc","RoomsTableDoc","generatePdfDocument","setLoading","pdf","toBlob","blob","saveAs","ProjectInfoTable","yearlyHeat","ceilingHeatLoss","editRoom","removeRoom","calculateRoom","currDeltaT","calcRoomData","calcRoomBuildingData","wallItemId","airExRate","heatingPover","reheatPover","RoomItemTables","roomsUi","ModalWindow","modalBodyContent","editStateTitle","normalStateTitle","reheatData","0","low","0.5","1","2","3","4","6","12","high","8","11","14","62","168","RoomModalForm","heatPower","setheatPower","reheatLabels","reheatTime","disusePeriod","bAir","bMass","calculateHeating","reheatObj","formUi","respCapSelectClass","transition","Divider","required","subtype","subType","Feedback","getFormUi","RoomModalWindow","editedRoom","heatingPower","roomData","totalWallArea","airHeated","airEx","hightCeilingF","add_room_action","choosedRoomData","ProjectModalWindow","initialFormValues","edit_project_action","Project","setEditedRoom","IsProjectModalShow","setProjectModalShow","loading","Input","NumberInput","TextInput","dropdownItems","label","btnLabel","isHidden","ConstructionTypeDropdown","isExternal","SelectInput","isDisabled","RoomBuildingsTypeSelect","selected","ConstructionVariantSelect","SimpleRoomGroundFloor","SimpleRoomPartyFloor","ComplexRoomPartyFloor","floorArea","ComplexRoomGroundFloor","SimpleRoomRoof","choosedObj","ComplexRoomRoof","ExternalWall","InternallWall","ModalForm","RoomItemModal","openings","setChoosedObj","edit_item_action","editedRoomBuilding","add_item_action","choosedRoomBuildingData","RoomInfoTable","editRoomBuilding","projectBuildingType","calculateRoomBuilding","RoomBuildingItemTables","roomItem","RoomPage","currentIdx","currentPos","choosedRoom","roomItems","setEditedRoomBuilding","pos","AppCard","desc","Img","objectFit","Text","minHeight","StartPage","content","justifyContent","showUnit","hasOwnProperty","RoomsTable","columnsData","tableHeaderElements","verticalAlign","tableBodyRows","tableCells","entries","createTable","field","responsive","ProjectTable","innerWidth","VerticalBar","VerticalBar2","VerticalBar3","Report","maxWidth","elevation","NomographCard","flexGrow","Nomograph","userSettings","renderWidth","renderHeight","headSize","labelSize","headPositionY","strokeWidth","dashLength","userInput","unitConverter","temperature","brineType","brineRatio","rulerPositions","flowRate","weight","pressure","kg","lbs","g","daN","t","Pa","bar","psi","mm","m","ft","in","massFlowCalculation","deltaTemp","power","pipeCalculation","pipeDiameter","pipeLength","pressureDrop","velocity","roughness","pipeCalculation2","radiatorCalculation","roomTemp","inflowTemp","outflowTemp","powerFactor","oversizeFactor","radiator","f_2","f_3","f_4","hotWaterStorage","source1","source2","source3","cylinder","userTemp","userFlowRate","userDrawOff","coldWaterTemp","timestepMax","timestepAuto","timestepConfinement","hotWaterStorage3","source","hotWaterStorage4","userVolume","expansionVessel1","systemVolume","systemSafetyPressure","systemPrechargePressure","maxTemp","expansionVessel2","expansionVesselVolume","floorHeating1","systemType","pipeDistance","mwt","R_lambdaB","s_E","lambda_E","s_WL","lambda_WL","width_WL","floorHeating2","floorHeating3","floorHeating4","uValue1","wallThickness","relativePerimeter","lambda","ownEquation5","table321","userSetup","radiators","radiator1","nominalPower","nominalTemp","exponent","heatGenerators","heatGenerator1","hgNomPower","hgNomTemp","hgOffTemp","hgOnTemp","hgTemp","hgConnectionLength","hgConnectionDiameter","hgConnectionResistance","heatGenerator2","heatGenerator3","heatGenerator4","heatGenerator5","storageCylinders","storageCylinder1","cylRho","cylTemp","cylVolume","storageCylinder2","storageCylinder5","units","volumeFlow","speed","scaling","paddingX","paddingY","reverse","siMin","siMax","offsetX","deviders","scaleSteps","labelSteps","position","scalePower","xType","positionX","positionY","head","min","max","scaleVolumeFlow","scaleTemperature","safeArea","minPressure","maxPressure","minVelocity","maxVelocity","minDiameter","maxDiameter","scalePressureDrop","scalePressureDrop2","scaleVelocity","scaleFlowRate","scaleDiameter","scalePipeLength","scaleVolume","allowExtrapolation","scaleInflow","scaleOutflow","scaleMeanTemp","scaleOversizeFactor","scaleStorageVolume","scaleUsageVolume","scaleUsageTime","scaleMinimumTemperature","yDegree","xSpread","scaleGrid","scaleHgPower","xDegree","labelOffsetY","scaleReheatTime","labelOffsetX","labelRotation","scaleSysVolume","scalePrechargePressure","scaleExpansionVesselVolume","scaleMaximumTemp","scalePipeDistance","scaleFloorArea","tension","scalePipeVolume","scaleFloorCoverResistance","scaleFloorTemp","scaleRelativePerimeter","scaleWallThicknes","scaleUValue","scaleU00Value","stat","setData","brine","ratio","rho","parameter","ethylenGlycol","cp","ny","Pr","Tf","propylenGlycol","Math","pow","exp","linTesselation","tessArray","i","j","linTess","round","logTesselation","tesselationValue","logTess","LogStart","floor","log10","LogEnd","index","manTesselation","manTess","start","end","concat","tableLookup","table","order","keys","val","interpolate","drawScale","scale","tempsettings","slice","y_position","x_position","pos_x","pos_y","dashWidth","scaleValues","labelValues","points","centered_dash_factor","n","minMax2parameter","p","q","polynom","v","x","y","stroke","innerHeight","text","offset","isNaN","niceRounding","offsetY","rotation","Matrix","anyMatrix","row","cols","current","counter","this","backwardSubstitution","left","right","returnMatrix","matrix","z","result","leftMatrix","rightMatrix","combined","combineMatrices","fwdIntegration","forwardElimination","identityMatrix","matrix1","matrix2","numCols1","numRows2","product","doMultiplication","numCol","rowNum","multiplier","mMatrix","DataPoint","PolynomialRegression","data_points","degrees","degree","generateLeftMatrix","generateRightMatrix","anyData","sum","sumX","sumY","sumXTimesY","gaussianJordanElimination","terms","list","britishStandard","points2intersection","value2pos","pos2value","scaleProps","y_min","y_max","x_min","x_max","points2parameter","input","r2","poly","pList","read","Sy","yfx","fx","fx2","Syfx","Sfx","Sfx2","atan","lnVal","lnY","getTerms","mean","maxErr","yInterpol","sr","st","ssr","sst","abs","err","points2parameterErrorCheck","toSiUnits","cbValue","toUserUnits","x1","y1","x2","y2","sim","PI","diameter","k","my","Re","lookback","verboseLevel","calcType","error","status","status2","pipeVolume","startvalue","sf","cancel","simCopy","unshift","heatStorageSimulation","endType","endValue","active","distToEndValue","frf","deltaTrip","timestep","time","hgResistance","hgPower","hgEnergy","cylLossPower","cylLossResistance","cylLossEnergy","userPower","userCp","userRho","cylCp","userEnergy","hwEnergy","hwPower","hwFlowRate","hwVolume","sumPower","sumEnergy","reheatStart","reheatStop","usageStart","usageStop","usageTime","cylMinTemp","userMinTemp","heatStorageCalculation","hgName","cylName","nomoName","scaleMinimumTemperature_1","scaleMinimumTemperature_2","scaleMinimumTemperature_3","userFlowRateSetting","userMinTempOld","oldUsageTime","sma4","scaleReheatTime1","oldReheatTime","status3","scaleDeltaT","cylDeltaT","hotWaterStorage5","thermalEnergy","scaleThermalEnergy","expansionVesselCalculation","prechargePressure","safetyPressure","rho_rt","rho_hot","expansionVolume","vesselOutput","rho_temp","interpolate1D","x0","interpolate2D","y0","dimension","a1","a2","a3","b2","c1","c2","c3","u","w","interpolate3D","z0","z_u","z_l","part_table","val_z_l","bs_1264_calculation","alpha","lambda_u0","s_u0","a_T","a_u","T","a_D","B_0","a_B","m_T","m_u","m_D","floorTemp","b_u","K_WL","a_WL","D","a_WL_inf","a_WL_null","a_K","sqrt","floorHeatingCalculation","uValueCalculation","fp","b1","b3","n1","n2","n3","u00","m1","m2","m3","kValueCalculation","scaleKV","kValue","kValue1","dP","scaleZeta","zeta","kValue2","scaleDeltaPCircuit","scaleDeltaPValve","dpv","dpc","scaleAuthority","NomographScales","parameterSet","d","scale1","scale2","name1","name2","scale3","name3","threshold","errorRate","valuename1","valuename2","valuename3","value1_0","value2_0","value3_0","value1_1","value2_1","value3_1","value1_2","value2_2","value3_2","error_0","error_1","error_2","status_0","status_1","status_2","message","x3","y3","b","r","tempArr","getAutoScaleParameter","lines","line","draggable","bezier","opacity","fill","closed","React","NomographRuler","massFlowCalculationS","drawRuler","ruler","drawRuller","NomographLabels","NomographDrugBtn","btnState","setBtnState","skaleProps","minValue","maxValue","valueName","radius","isDragging","onDragStart","onDragEnd","dragBoundFunc","newValue","prevState","currentValue","startPos","endPos","yPos","newDataTemp","SetNomorgaphValue","setMassFlowCalculationS","NomographDeltaTDrugBtn","deltaTDrugBtnState","setDeltaTDrugBtnState","NomographPowerBtn","powerDrugBtnState","setPowerDrugBtnState","MassFlowNomographUpdated","MassFlowNomographContent","customHandleChange","component","MainLayout","render","App","Main","from","calc_room_data","h","areaAll","calc_ground_floor_heatLoss","P","calc_wall_data","bTypeValue","initialState","validate_numbers","number","numberName","objName","isFinite","SyntaxError","warn","clearStore","combineReducers","app","action","newState","roomBuildingIdx","newItems","newWallItems","persistedState","store","createStore","rootReducer","__REDUX_DEVTOOLS_EXTENSION__","subscribe","getState","ReactDOM"],"mappings":"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","file":"static/js/main.942f1129.chunk.js","sourcesContent":["export const CALCULATE_PROJECT_DATA = \"CALCULATE_PROJECT_DATA\";\r\nexport const EDIT_PROJECT_DATA = \"EDIT_PROJECT_DATA\";\r\n\r\n\r\n","import { CALCULATE_PROJECT_DATA, EDIT_PROJECT_DATA } from \"./actionTypes\";\r\n\r\nexport const calculate_project_data = (rooms) => {\r\n  return {\r\n    type: CALCULATE_PROJECT_DATA,\r\n    payload: {\r\n      data: rooms,\r\n    },\r\n  };\r\n};\r\n\r\nexport const edit_project_action = (data) => {\r\n  return {\r\n    type: EDIT_PROJECT_DATA,\r\n    payload: {\r\n      data: data,\r\n    },\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nexport default function AlertDialog(props) {\r\n  const {\r\n    open,\r\n    setOpen,\r\n    onSubmit,\r\n    dialogTitle,\r\n    dialogDesc,\r\n    handleSubmit,\r\n    handleClose,\r\n  } = props;\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">{dialogTitle}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText id=\"alert-dialog-description\">\r\n          {dialogDesc}\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Close\r\n        </Button>\r\n        <Button onClick={handleSubmit} color=\"primary\" autoFocus>\r\n          Ok\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import AlertDialog from \"../../common/app-common/AlertDialog/AlertDialog\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nconst ClearStorageAlertDialog = (props) => {\r\n  const appId = \"mc76g63\";\r\n  const lastAppId = JSON.parse(localStorage.getItem(\"appId\"));\r\n  const [resetStoreDialogOpen, setResetStoreDialogOpen] = useState(false);\r\n\r\n  const [currAppId, setCurrAppId] = useState(lastAppId);\r\n  const isAppIdEqual = currAppId === appId;\r\n\r\n  const openDialog = () => {\r\n    setResetStoreDialogOpen(true);\r\n  };\r\n\r\n  const closeDialog = () => {\r\n    setResetStoreDialogOpen(false);\r\n    localStorage.setItem(\"appId\", JSON.stringify(appId));\r\n  };\r\n\r\n  const onSubmit = () => {\r\n    localStorage.removeItem(\"reduxState\");\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    onSubmit();\r\n    closeDialog();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isAppIdEqual) {\r\n      openDialog();\r\n    }\r\n  }, [isAppIdEqual]);\r\n\r\n  const dialogTitle = \"App updated, clear cache?\";\r\n  const dialogDesc =\r\n    \"The application may not work correctly if you do not clear the cache\";\r\n\r\n  return (\r\n    <AlertDialog\r\n      {...props}\r\n      dialogDesc={dialogDesc}\r\n      dialogTitle={dialogTitle}\r\n      open={resetStoreDialogOpen}\r\n      onSubmit={onSubmit}\r\n      setOpen={setResetStoreDialogOpen}\r\n      handleClose={closeDialog}\r\n      handleSubmit={handleSubmit}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ClearStorageAlertDialog;\r\n","import React, { Component } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <footer className=\"footer px-0 px-lg-3\">\r\n        <Container fluid>\r\n          <nav>\r\n            <p className=\"copyright text-center\">\r\n              © {new Date().getFullYear()} Lago Con\r\n            </p>\r\n          </nav>\r\n        </Container>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Footer;\r\n","import { useState } from \"react\";\r\nimport { Navbar, Container, Nav, NavDropdown } from \"react-bootstrap\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst AppHeader = (props) => {\r\n  const { sidebarBtn } = props;\r\n\r\n  const [activeLink, setActiveLink] = useState();\r\n\r\n  return (\r\n    <Navbar collapseOnSelect expand=\"md\" variant=\"dark\" className=\"app-header\">\r\n      <Container fluid>\r\n        {sidebarBtn}\r\n        <Navbar.Brand>\r\n          <NavLink\r\n            to=\"/main/start\"\r\n            activeClassName=\"app-header__nav-item_active\"\r\n            className=\"nav-item app-header__nav-item\"\r\n          >\r\n            APPLICATION\r\n          </NavLink>\r\n        </Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n          <Nav className=\"me-auto app-header__nav nav ms-4\">\r\n            <NavLink\r\n              to=\"/main/mat-app\"\r\n              activeClassName=\"app-header__nav-item_active\"\r\n              className=\"nav-item app-header__nav-item me-3\"\r\n            >\r\n              Mat-app\r\n            </NavLink>\r\n            <NavLink\r\n              to=\"/main/nomograph\"\r\n              activeClassName=\"app-header__nav-item_active\"\r\n              className=\"nav-item app-header__nav-item me-3\"\r\n            >\r\n              Nomographs\r\n            </NavLink>\r\n          </Nav>\r\n          <Nav>\r\n            <Nav.Link href=\"#deets\">More deets</Nav.Link>\r\n            <Nav.Link eventKey={2} href=\"#memes\">\r\n              Dank memes\r\n            </Nav.Link>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default AppHeader;\r\n","import { useState } from \"react\";\r\nimport { Button, Offcanvas } from \"react-bootstrap\";\r\nimport { useLocation, NavLink } from \"react-router-dom\";\r\n\r\nimport { Nav } from \"react-bootstrap\";\r\n\r\nfunction AppSidebar({ name, routes, ...props }) {\r\n  const [show, setShow] = useState(false);\r\n  const location = useLocation();\r\n\r\n  const activeRoute = (routeName) => {\r\n    return location.pathname.indexOf(routeName) > -1 ? \"active\" : \"\";\r\n  };\r\n\r\n  const handleClose = () => setShow(false);\r\n  const toggleShow = () => setShow((s) => !s);\r\n\r\n  return (\r\n    <>\r\n      <Button variant=\"primary\" onClick={toggleShow} className=\"me-2\">\r\n        {name}\r\n      </Button>\r\n      <Offcanvas\r\n        style={{ width: \"260px\" }}\r\n        show={show}\r\n        onHide={handleClose}\r\n        {...props}\r\n        scroll={false}\r\n        backdrop={false}\r\n      >\r\n        <Offcanvas.Header closeButton>\r\n          <Offcanvas.Title></Offcanvas.Title>\r\n        </Offcanvas.Header>\r\n        <Offcanvas.Body>\r\n          <Nav style={{ display: \"flex\", paddingLeft: \"30px\" }}>\r\n            {routes.map((prop, key) => {\r\n              if (!prop.redirect)\r\n                return (\r\n                  <li\r\n                    className={\r\n                      prop.upgrade\r\n                        ? \"active active-pro\"\r\n                        : activeRoute(prop.layout + prop.path)\r\n                    }\r\n                    key={key}\r\n                  >\r\n                    <NavLink\r\n                      to={prop.layout + prop.path}\r\n                      className=\"nav-link\"\r\n                      activeClassName=\"active\"\r\n                      onClick={handleClose}\r\n                    >\r\n                      <i className={prop.icon} />\r\n                      <p\r\n                        style={{\r\n                          fontWeight: \"600\",\r\n                          color: \"#3f4254\",\r\n                          fontSize: \"17px\",\r\n                        }}\r\n                      >\r\n                        {prop.name}\r\n                      </p>\r\n                    </NavLink>\r\n                  </li>\r\n                );\r\n              return null;\r\n            })}\r\n          </Nav>\r\n        </Offcanvas.Body>\r\n      </Offcanvas>\r\n    </>\r\n  );\r\n}\r\nexport default AppSidebar;\r\n","export const RESET_STORE = 'RESET_STORE';\r\nexport const ADD_ROOM = \"ADD_ROOM\";\r\nexport const DELETE_ROOM = \"DELETE_ROOM\";\r\nexport const SET_ROOM_DATA = \"SET_ROOM_DATA\";\r\nexport const SET_ITEM_DATA = \"SET_ITEM_DATA\";\r\nexport const DELETE_ITEM = \"DELETE_ITEM\";\r\nexport const ADD_ITEM = \"ADD_ITEM\";\r\nexport const CLEAR_ROOM_DATA = \"CLEAR_ROOM_DATA\";\r\nexport const TOGGLE_ROOM_MODAL_SHOW = \"TOGGLE_ROOM_MODAL_SHOW\";\r\nexport const CHANGE_ROOM_MODAL_TYPE = \"CHANGE_ROOM_MODAL_TYPE\";\r\nexport const EDIT_ROOM = \"EDIT_ROOM\";\r\nexport const EDIT_ROOM_ITEM = \"EDIT_ROOM_ITEM\";\r\nexport const CHANGE_ROOM_VALUE = \"CHANGE_ROOM_VALUE\";\r\nexport const CALCULATE_ROOM_DATA = \"CALCULATE_ROOM_DATA\";\r\nexport const CALCULATE_PROJECT_DATA = \"CALCULATE_PROJECT_DATA\";\r\nexport const CALCULATE_ITEM_DATA = \"CALCULATE_ITEM_DATA\";\r\nexport const ADD_WALLITEM = \"ADD_WALLITEM\";\r\nexport const DELETE_WALLITEM = \"DELETE_WALLITEM\";\r\nexport const EDIT_ROOM_WALL_ITEM = \"EDIT_ROOM_WALL_ITEM\";\r\n","import {\r\n  ADD_ROOM,\r\n  DELETE_ROOM,\r\n  ADD_ITEM,\r\n  DELETE_ITEM,\r\n  EDIT_ROOM,\r\n  EDIT_ROOM_ITEM,\r\n  CALCULATE_ROOM_DATA,\r\n  CALCULATE_ITEM_DATA,\r\n  ADD_WALLITEM,\r\n  DELETE_WALLITEM,\r\n  EDIT_ROOM_WALL_ITEM,\r\n} from \"../../actionTypes/actionTypes\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\n\r\nexport const add_room_action = (data) => {\r\n  return {\r\n    type: ADD_ROOM,\r\n    payload: {\r\n      data: {\r\n        id: uuidv4(),\r\n        name: data.name,\r\n        type: data.type,\r\n        roomT: data.roomT,\r\n        deltaT: 0,\r\n        height: data.height,\r\n        length: data.length,\r\n        area: data.area,\r\n        width: data.width,\r\n        totalWallArea: 0,\r\n        specHeatLoss: 0,\r\n        totalHeatLoss: 0,\r\n        transmissionLoss: 0,\r\n        airHeated: 0,\r\n        airExRate: data.airExRate,\r\n        airEx: 0,\r\n        roomVolume: 0,\r\n        venHeatLoss: 0,\r\n        yearlyHeat: 0,\r\n        hightCeilingF: 0,\r\n        ceilingHeatLoss: 0,\r\n        disusePeriod: data.disusePeriod,\r\n        bAir: data.bAir,\r\n        bMass: data.bMass,\r\n        reheatTime: data.reheatTime,\r\n        heatingPover: data.heatingPover,\r\n        reheatPover: 0,\r\n        items: [],\r\n      },\r\n    },\r\n  };\r\n};\r\n\r\nexport const edit_room_action = (roomId, data) => {\r\n  return {\r\n    type: EDIT_ROOM,\r\n    payload: {\r\n      roomId: roomId,\r\n      data: data,\r\n    },\r\n  };\r\n};\r\n\r\nexport const edit_item_action = (roomId, itemId, data) => {\r\n  return {\r\n    type: EDIT_ROOM_ITEM,\r\n    payload: {\r\n      roomId: roomId,\r\n      itemId: itemId,\r\n      data: data,\r\n    },\r\n  };\r\n};\r\n\r\nexport const edit_wallItem_action = (data, roomIdx, wallIdx, itemIdx) => {\r\n  return {\r\n    type: EDIT_ROOM_WALL_ITEM,\r\n    payload: {\r\n      roomIdx,\r\n      wallIdx,\r\n      itemIdx,\r\n      data: data,\r\n    },\r\n  };\r\n};\r\n\r\nexport const delete_room_action = (roomId) => {\r\n  return {\r\n    type: DELETE_ROOM,\r\n    payload: roomId,\r\n  };\r\n};\r\n\r\nexport const add_item_action = (data, roomIdx) => {\r\n  return {\r\n    type: ADD_ITEM,\r\n    payload: {\r\n      roomIdx,\r\n      data,\r\n    },\r\n  };\r\n};\r\n\r\nexport const add_wallItem_action = (data, roomIdx, wallIdx) => {\r\n  return {\r\n    type: ADD_WALLITEM,\r\n    payload: {\r\n      roomIdx,\r\n      wallIdx,\r\n      data: {\r\n        id: uuidv4(),\r\n        name: data.name,\r\n        itemName: data.itemName,\r\n        exWallGroup: data.exWallGroup,\r\n        exWallGroup1: data.exWallGroup1,\r\n        exWallGroup2: data.exWallGroup2,\r\n        uValue: data.uValue,\r\n        height: data.height,\r\n        width: data.width,\r\n        area: data.area,\r\n        deltaT: data.deltaT,\r\n        heatLoss: data.heatLoss,\r\n      },\r\n    },\r\n  };\r\n};\r\n\r\nexport const delete_wallItem_action = (roomIdx, wallIdx, wallItemIdx) => {\r\n  return {\r\n    type: DELETE_WALLITEM,\r\n    payload: {\r\n      roomIdx,\r\n      wallIdx,\r\n      wallItemIdx,\r\n    },\r\n  };\r\n};\r\n\r\nexport const delete_item_action = (roomId, itemId) => {\r\n  return {\r\n    type: DELETE_ITEM,\r\n    payload: {\r\n      roomId,\r\n      itemId,\r\n    },\r\n  };\r\n};\r\n\r\nexport const calculate_room_data = (roomId, data) => {\r\n  return {\r\n    type: CALCULATE_ROOM_DATA,\r\n    roomId: roomId,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const calculate_all_app_data = (state) => {\r\n  return {\r\n    type: \"CALCULATE_ALL_APP_DATA\",\r\n    payload: {\r\n      state,\r\n    },\r\n  };\r\n};\r\n\r\nexport const calculate_item_data = (roomId, itemId, data) => {\r\n  return {\r\n    type: CALCULATE_ITEM_DATA,\r\n    roomId: roomId,\r\n    itemId: itemId,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const calculate_wallItem_data = (roomId, wallId, itemId, data) => {\r\n  return {\r\n    type: \"CALCULATE_WALL_ITEM_DATA\",\r\n    roomId: roomId,\r\n    wallId: wallId,\r\n    itemId: itemId,\r\n    payload: data,\r\n  };\r\n};\r\n","export const get_construction_type_options = (group_0, items, externalWall) => {\r\n  //safe for ground floor bug\r\n  if (group_0 === \"ground floor\") {\r\n    return;\r\n  }\r\n\r\n  // files that sort with group 0\r\n  const items_group_0 = items.filter((el) => {\r\n    return el.group_0 === group_0 && el.external === externalWall;\r\n  });\r\n\r\n  // unique files that sort with group 1, need for generating options\r\n  const options_group_1 = Object.values(\r\n    items_group_0.reduce((c, e) => {\r\n      if (!c[e.group_1]) c[e.group_1] = e;\r\n      return c;\r\n    }, {})\r\n  );\r\n\r\n  const options_group_1_clear = options_group_1.map((el) => {\r\n    return {\r\n      option: el.group_1,\r\n      img: el.file,\r\n      name: el.name,\r\n    };\r\n  });\r\n\r\n  return options_group_1_clear;\r\n};\r\n\r\nexport const get_variant_building_options = (\r\n  group_0,\r\n  group_1,\r\n  items,\r\n  externalWall\r\n) => {\r\n  //safe for ground floor bug\r\n  if (group_0 === \"ground floor\") {\r\n    return;\r\n  }\r\n\r\n  const options_group_2 = items.filter((el) => {\r\n    return (\r\n      el.group_0 === group_0 &&\r\n      el.group_1 === group_1 &&\r\n      el.external === externalWall\r\n    );\r\n  });\r\n\r\n  const options_group_2_clear = options_group_2.map((el) => {\r\n    return {\r\n      name: el.group_2,\r\n    };\r\n  });\r\n\r\n  return options_group_2_clear;\r\n};\r\n\r\nexport const getFieldsData = (state, buildingTypes, elementExternal) => {\r\n  const constructionTypeOptions = get_construction_type_options(\r\n    state.exWallGroup,\r\n    buildingTypes,\r\n    elementExternal\r\n  );\r\n  \r\n  const variantBuildingOptions = get_variant_building_options(\r\n    state.exWallGroup,\r\n    state.exWallGroup1,\r\n    buildingTypes,\r\n    elementExternal\r\n  );\r\n\r\n  return [\r\n    {\r\n      type: \"text\",\r\n      placeholder: \"Name\",\r\n      value: state.name,\r\n      name: \"name\",\r\n    },\r\n    {\r\n      type: \"number\",\r\n      placeholder: \"Width [m]\",\r\n      value: state.width,\r\n      name: \"width\",\r\n      step: 0.1,\r\n    },\r\n    {\r\n      type: \"number\",\r\n      placeholder: \"Height [m]\",\r\n      value: state.height,\r\n      name: \"height\",\r\n      step: 0.1,\r\n    },\r\n    {\r\n      type: \"select\",\r\n      placeholder: \"Type\",\r\n      value: state.exWallGroup,\r\n      name: \"exWallGroup\",\r\n      options: [\r\n        {\r\n          name: \"window\",\r\n          value: \"\",\r\n        },\r\n        {\r\n          name: \"door\",\r\n          value: \"\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      type: \"dropdown\",\r\n      placeholder: \"Construction type\",\r\n      value: state.exWallGroup1,\r\n      name: \"exWallGroup1\",\r\n      items: constructionTypeOptions,\r\n    },\r\n    {\r\n      type: \"select\",\r\n      placeholder: \"Variant\",\r\n      value: state.exWallGroup2,\r\n      name: \"exWallGroup2\",\r\n      options: variantBuildingOptions,\r\n    },\r\n    {\r\n      type: \"number\",\r\n      placeholder: \"U-value [W/m²K]\",\r\n      value: state.uValue,\r\n      name: \"uValue\",\r\n      step: 0.1,\r\n    },\r\n  ];\r\n};\r\n","import { Form } from \"react-bootstrap\";\r\n\r\nconst TextInp = (props) => {\r\n  const { el, handlerChange } = props;\r\n  return (\r\n    <Form.Group>\r\n      <Form.Label>{el.placeholder}</Form.Label>\r\n      <Form.Control\r\n        size=\"sm\"\r\n        type={el.type}\r\n        placeholder={el.placeholder}\r\n        value={el.value}\r\n        name={el.name}\r\n        onChange={handlerChange}\r\n      />\r\n    </Form.Group>\r\n  );\r\n};\r\n\r\nexport default TextInp;\r\n","import { Form } from \"react-bootstrap\";\r\n\r\nconst SelectInp = (props) => {\r\n  const { el, handlerChange } = props;\r\n\r\n  const getOptions = () => {\r\n    return el.options.map((el, id) => {\r\n      return (\r\n        <option value={el.name} key={id}>\r\n          {el.name}\r\n        </option>\r\n      );\r\n    });\r\n  };\r\n\r\n  const options = getOptions();\r\n\r\n  return (\r\n    <Form.Group>\r\n      <Form.Label>{el.placeholder}</Form.Label>\r\n      <Form.Control\r\n        size=\"sm\"\r\n        as={el.type}\r\n        name={el.name}\r\n        value={el.value}\r\n        onChange={handlerChange}\r\n      >\r\n        {options}\r\n      </Form.Control>\r\n    </Form.Group>\r\n  );\r\n};\r\n\r\nexport default SelectInp;\r\n","import { Form } from \"react-bootstrap\";\r\n\r\nconst NumberInp = (props) => {\r\n  const { el, handlerChange } = props;\r\n  return (\r\n    <Form.Group>\r\n      <Form.Label>{el.placeholder}</Form.Label>\r\n      <Form.Control\r\n        size=\"sm\"\r\n        type={el.type}\r\n        placeholder={el.placeholder}\r\n        value={el.value}\r\n        name={el.name}\r\n        step={el.step}\r\n        onChange={handlerChange}\r\n      />\r\n    </Form.Group>\r\n  );\r\n};\r\n\r\nexport default NumberInp;\r\n","import { Form, Dropdown } from \"react-bootstrap\";\r\n\r\nconst DropdownInp = (props) => {\r\n  const { el, handlerChange } = props;\r\n\r\n  const options = el.items.map((el, id) => {\r\n    return (\r\n      <Dropdown.Item\r\n        className=\"wall-dropdown-item\"\r\n        key={id}\r\n        value={el.option}\r\n        img={el.img}\r\n        name=\"exWallGroup1\"\r\n        onClick={handlerChange}\r\n      >\r\n        <img\r\n          alt=\"wall item img\"\r\n          src={process.env.PUBLIC_URL + `/images/WallType/${el.img}`}\r\n          style={{ width: \"250px\", height: \"200px\" }}\r\n          className=\"mr-2\"\r\n        />\r\n        {el.option}\r\n      </Dropdown.Item>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <Form.Group>\r\n      <Form.Label>Construction type</Form.Label>\r\n      <Dropdown style={{ width: \"100%\" }}>\r\n        <Dropdown.Toggle\r\n          style={{ width: \"100%\" }}\r\n          id=\"dropdown-basic\"\r\n          className=\"items-type-dropdown-btn\"\r\n        >\r\n          <div className=\"items-type-dropdown-btn__content\">\r\n            Select construction type\r\n          </div>\r\n        </Dropdown.Toggle>\r\n        <Dropdown.Menu\r\n          className=\"modal-window__dropdown-menu\"\r\n          style={{ width: \"100%\" }}\r\n        >\r\n          {options}\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    </Form.Group>\r\n  );\r\n};\r\n\r\nexport default DropdownInp;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Modal, Row, Figure } from \"react-bootstrap\";\r\nimport {\r\n  add_wallItem_action,\r\n  edit_wallItem_action,\r\n} from \"../../redux/store/rooms/actions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getFieldsData } from \"./ComponentData/fieldsData\";\r\nimport { getFieldsUi } from \"./ComponentData/fieldsUi\";\r\nimport { getFormData } from \"./ComponentData/formData\";\r\nimport { useFormik } from \"formik\";\r\nimport { useEffect, useState } from \"react\";\r\nimport uValueList from \"assets/uValueList/uValueList.json\";\r\n\r\nconst WallItemModal = (props) => {\r\n  const dispatch = useDispatch();\r\n  const wallTypes = uValueList;\r\n\r\n  // state for choosed edited room building element\r\n  const [choosedElement, setChoosedElement] = useState({\r\n    name: \"\",\r\n    file: \"\",\r\n    external: false,\r\n    opening: true,\r\n  });\r\n\r\n  // initial form values\r\n  const initialFormValues = {\r\n    name: \"New openings\",\r\n    uValue: 2.1,\r\n    height: 3,\r\n    width: 3,\r\n    exWallGroup: \"window\",\r\n    exWallGroup1: \"Windows with wood or PVC-U frames\",\r\n    exWallGroup2: \"double, low-E glass, argon filled\",\r\n  };\r\n\r\n  const {\r\n    handleSubmit,\r\n    handleChange,\r\n    values,\r\n    resetForm,\r\n    setValues,\r\n    setFieldValue,\r\n  } = useFormik({\r\n    initialValues: initialFormValues,\r\n    onSubmit: (values) => {\r\n      const data = getFormData(values, choosedElement);\r\n      if (props.isEdit) {\r\n        dispatch(\r\n          edit_wallItem_action(\r\n            data,\r\n            props.curRoomIdx,\r\n            props.curWallIdx,\r\n            props.editedRoomBuildingOpening.idx\r\n          )\r\n        );\r\n      } else {\r\n        dispatch(add_wallItem_action(data, props.curRoomIdx, props.curWallIdx));\r\n      }\r\n      props.onHide();\r\n    },\r\n  });\r\n\r\n  // handler change for dropdown with construction type\r\n  const handlerDropdownChange = (e) => {\r\n    e.preventDefault();\r\n    const choosedElement = e.target.closest(\".wall-dropdown-item\");\r\n    const choosedValue = choosedElement.getAttribute(\"value\");\r\n    const element = wallTypes.results.find((el) => {\r\n      return el.group_0 === values.exWallGroup && el.group_1 === choosedValue;\r\n    });\r\n    setFieldValue(\"exWallGroup1\", choosedValue);\r\n    setFieldValue(\"exWallGroup2\", element.group_2);\r\n    setChoosedElement(element);\r\n  };\r\n\r\n  const handlerTypeChange = (e) => {\r\n    handleChange(e);\r\n    e.preventDefault();\r\n    const choosedValue = e.target.value;\r\n    const element = wallTypes.results.find((el) => {\r\n      return el.group_0 === choosedValue;\r\n    });\r\n    setFieldValue(\"exWallGroup1\", element.group_1);\r\n    setFieldValue(\"exWallGroup2\", element.group_2);\r\n    setFieldValue(\"uValue\", element.uValue);\r\n    setChoosedElement(element);\r\n  };\r\n\r\n  const handlerVariantChange = (e) => {\r\n    handleChange(e);\r\n    e.preventDefault();\r\n    const choosedValue = e.target.value;\r\n    const element = wallTypes.results.find((el) => {\r\n      return (\r\n        el.group_0 === values.exWallGroup &&\r\n        el.group_1 === values.exWallGroup1 &&\r\n        el.group_2 === choosedValue\r\n      );\r\n    });\r\n    setFieldValue(\"uValue\", element.uValue);\r\n    setChoosedElement(element);\r\n  };\r\n\r\n  // get fields data and create UI\r\n  const fieldsData = getFieldsData(\r\n    values,\r\n    wallTypes.results,\r\n    choosedElement.external\r\n  );\r\n  const fieldsUi = getFieldsUi(\r\n    fieldsData,\r\n    handleChange,\r\n    handlerDropdownChange,\r\n    handlerTypeChange,\r\n    handlerVariantChange\r\n  );\r\n\r\n  // useEffect for reseting form values when modal hide\r\n  useEffect(() => {\r\n    if (!props.show) {\r\n      setTimeout(() => {\r\n        resetForm();\r\n      }, 300);\r\n    }\r\n  }, [props.show, resetForm]);\r\n\r\n  // useEffect for putting in form values of element that user want to edit\r\n  useEffect(() => {\r\n    if (props.isEdit) {\r\n      let choosedRoomBuildingOpeningData = {\r\n        name: props.editedRoomBuildingOpening.name,\r\n        uValue: props.editedRoomBuildingOpening.uValue,\r\n        height: props.editedRoomBuildingOpening.height,\r\n        width: props.editedRoomBuildingOpening.width,\r\n        exWallGroup: props.editedRoomBuildingOpening.exWallGroup,\r\n        exWallGroup1: props.editedRoomBuildingOpening.exWallGroup1,\r\n        exWallGroup2: props.editedRoomBuildingOpening.exWallGroup2,\r\n      };\r\n      console.log(choosedRoomBuildingOpeningData);\r\n      setValues(choosedRoomBuildingOpeningData);\r\n\r\n      const element = wallTypes.results.find((el) => {\r\n        return (\r\n          el.group_0 === props.editedRoomBuildingOpening.exWallGroup &&\r\n          el.group_1 === props.editedRoomBuildingOpening.exWallGroup1 &&\r\n          el.group_2 === props.editedRoomBuildingOpening.exWallGroup2\r\n        );\r\n      });\r\n      setChoosedElement(element);\r\n    }\r\n  }, [props.isEdit, setValues]);\r\n\r\n  return (\r\n    <Modal\r\n      show={props.show}\r\n      className=\"modal-window modal-window_wall\"\r\n      onHide={props.onHide}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          {props.isEdit ? `Edit` : \"Add\"}\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <form>\r\n        <Modal.Body>\r\n          <Row>{fieldsUi}</Row>\r\n          <Figure>\r\n            <Figure.Image\r\n              width={171}\r\n              height={180}\r\n              alt=\"No image\"\r\n              src={\r\n                process.env.PUBLIC_URL +\r\n                `/images/WallType/${choosedElement.file}`\r\n              }\r\n            />\r\n            <Figure.Caption>{choosedElement.name}</Figure.Caption>\r\n          </Figure>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <button\r\n            className=\"button button_close\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              props.onHide();\r\n            }}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            className=\"button button_confrim\"\r\n            type=\"submit\"\r\n            onClick={handleSubmit}\r\n          >\r\n            Save\r\n          </button>\r\n        </Modal.Footer>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default WallItemModal;\r\n","export const getFormData = (state, choosedElement) => {\r\n  // state - form values object\r\n  // choosedElement - object with data of choosed room building element\r\n\r\n  //create object data for new wall or roof\r\n  const obj = {\r\n    name: state.name,\r\n    itemName: choosedElement.name,\r\n    uValue: Number(state.uValue),\r\n    exWallGroup: state.exWallGroup,\r\n    exWallGroup1: state.exWallGroup1,\r\n    exWallGroup2: state.exWallGroup2,\r\n    external: choosedElement.external,\r\n    opening: choosedElement.opening,\r\n    height: state.height,\r\n    area: state.height * state.width,\r\n    width: state.width,\r\n    heatLoss: 0,\r\n  };\r\n\r\n  // if wall type = internal, add new entire \"temperature neighbor room\"\r\n  if (!state.external) {\r\n    obj.tempNroom = state.tempNroom;\r\n  }\r\n\r\n  return obj;\r\n};\r\n","import TextInp from \"./ModalInputComponents/TextInp\";\r\nimport SelectInp from \"./ModalInputComponents/SelectInp\";\r\nimport NumberInp from \"./ModalInputComponents/NumberInp\";\r\nimport DropdownInp from \"./ModalInputComponents/DropdownInp\";\r\nimport { Col } from \"react-bootstrap\";\r\n\r\nexport const getFieldsUi = (\r\n  data,\r\n  handlerChange,\r\n  handlerDropdownChange,\r\n  handlerTypeChange,\r\n  handlerVariantChange\r\n) => {\r\n  return data.map((el, id) => {\r\n    if (el.type === \"text\") {\r\n      return (\r\n        <Col key={id} sm={4} xs={6}>\r\n          <TextInp el={el} id={id} handlerChange={handlerChange} />\r\n        </Col>\r\n      );\r\n    }\r\n    if (el.type === \"select\") {\r\n      return (\r\n        <Col key={id} sm={4} xs={6}>\r\n          <SelectInp\r\n            el={el}\r\n            id={id}\r\n            handlerChange={\r\n              el.name === \"exWallGroup\"\r\n                ? handlerTypeChange\r\n                : handlerVariantChange\r\n            }\r\n          />\r\n        </Col>\r\n      );\r\n    }\r\n    if (el.type === \"number\") {\r\n      return (\r\n        <Col key={id} sm={4} xs={6}>\r\n          <NumberInp el={el} id={id} handlerChange={handlerChange} />\r\n        </Col>\r\n      );\r\n    }\r\n    if (el.type === \"dropdown\") {\r\n      return (\r\n        <Col key={id} sm={12}>\r\n          <DropdownInp id={id} el={el} handlerChange={handlerDropdownChange} />\r\n        </Col>\r\n      );\r\n    }\r\n    return 0;\r\n  });\r\n};\r\n","export function toSiPrefix(value, decimals, prefix) {\r\n  // decimals should be a number,\r\n  // if prefix is given, it will be rounded to a fixed number of decimals\r\n  // if no prefix is given, it will be rounded to signifficant decimals\r\n  // prefix should be one of standard SI Prefix: n, μ, m, k, M, G\r\n\r\n  let cb = {};\r\n  var lowerDecimals, upperDecimals, breakDecimals; // these are the standard values for the nice rounding\r\n\r\n  if (typeof value === \"string\") {\r\n    value = Number(value);\r\n  }\r\n\r\n  if (typeof decimals === \"string\") {\r\n    decimals = Number(decimals);\r\n  }\r\n\r\n  if (prefix === undefined) {\r\n    if (decimals === undefined) {\r\n      lowerDecimals = 4;\r\n      upperDecimals = 3;\r\n      breakDecimals = 2;\r\n    } else {\r\n      lowerDecimals = decimals;\r\n      upperDecimals = decimals - 1;\r\n      breakDecimals = 2;\r\n    }\r\n\r\n    if (value <= 1e-9) {\r\n      cb.value = 0;\r\n    }\r\n\r\n    if (value < 1e-6) {\r\n      cb.value = value * 1e9;\r\n      cb.value = cb.value.toPrecision(lowerDecimals);\r\n      cb.prefix = \"n\";\r\n      if (value === 0) {\r\n        cb.prefix = \"\";\r\n        cb.value = 0;\r\n      }\r\n      cb.factor = 1e-9;\r\n    }\r\n\r\n    if (value >= 1e-6 && value < breakDecimals * 1e-6) {\r\n      cb.value = value * 1e9;\r\n      cb.value = cb.value.toPrecision(upperDecimals);\r\n      cb.prefix = \"n\";\r\n      cb.factor = 1e-9;\r\n    }\r\n\r\n    if (value >= breakDecimals * 1e-6 && value < 1e-3) {\r\n      cb.value = value * 1e6;\r\n      cb.value = cb.value.toPrecision(lowerDecimals);\r\n      cb.prefix = \"μ\";\r\n      cb.factor = 1e-6;\r\n    }\r\n\r\n    if (value >= 1e-6 && value < breakDecimals * 1e-3) {\r\n      cb.value = value * 1e6;\r\n      cb.value = cb.value.toPrecision(upperDecimals);\r\n      cb.prefix = \"μ\";\r\n      cb.factor = 1e-6;\r\n    }\r\n\r\n    if (value >= breakDecimals * 1e-3 && value < 1) {\r\n      // cb.value = value * 1e3;\r\n      // cb.value = cb.value.toPrecision( lowerDecimals );\r\n      // cb.prefix = \"m\";\r\n      // cb.factor = 1e-3;\r\n      cb.value = value;\r\n      cb.prefix = \"\";\r\n    }\r\n\r\n    if (Number(value) === 1) {\r\n      cb.value = value;\r\n      cb.value = cb.value.toPrecision(lowerDecimals);\r\n      cb.prefix = \"\";\r\n      cb.factor = 1;\r\n    }\r\n\r\n    if (value > 1 && value < breakDecimals * 1) {\r\n      cb.value = value * 1;\r\n      cb.value = cb.value.toPrecision(upperDecimals);\r\n      cb.prefix = \"\";\r\n      cb.factor = 1e-3;\r\n    }\r\n\r\n    if (value >= breakDecimals * 1 && value < 1e3) {\r\n      cb.value = value * 1;\r\n      cb.value = cb.value.toPrecision(lowerDecimals);\r\n      cb.prefix = \"\";\r\n      cb.factor = 1;\r\n    }\r\n\r\n    if (value >= 1e3 && value < breakDecimals * 1e3) {\r\n      cb.value = value * 1;\r\n      cb.value = cb.value.toPrecision(upperDecimals);\r\n      cb.prefix = \"\";\r\n      cb.factor = 1;\r\n    }\r\n\r\n    if (value >= breakDecimals * 1e3 && value < 1e6) {\r\n      cb.value = value * 1e-3;\r\n      cb.value = cb.value.toPrecision(lowerDecimals);\r\n      cb.prefix = \"k\";\r\n      cb.factor = 1e3;\r\n    }\r\n\r\n    if (value >= 1e6 && value < breakDecimals * 1e6) {\r\n      cb.value = value * 1e-3;\r\n      cb.value = cb.value.toPrecision(upperDecimals);\r\n      cb.prefix = \"k\";\r\n      cb.factor = 1e3;\r\n    }\r\n\r\n    if (value >= breakDecimals * 1e6) {\r\n      cb.value = value * 1e-6;\r\n      cb.value = cb.value.toPrecision(lowerDecimals);\r\n      cb.prefix = \"M\";\r\n      cb.factor = 1e6;\r\n    }\r\n\r\n    if (value > 1e12) {\r\n      cb.value = Infinity;\r\n    }\r\n  }\r\n\r\n  if (prefix !== undefined) {\r\n    switch (String(prefix)) {\r\n      case \"n\":\r\n        cb.factor = 1e-9;\r\n        cb.value = value / cb.factor;\r\n        cb.value = cb.value.toFixed(decimals);\r\n        cb.prefix = prefix;\r\n        break;\r\n      case \"μ\":\r\n        cb.factor = 1e-6;\r\n        cb.value = value / cb.factor;\r\n        cb.value = cb.value.toFixed(decimals);\r\n        cb.prefix = prefix;\r\n        break;\r\n      case \"m\":\r\n        cb.factor = 1e-3;\r\n        cb.value = value / cb.factor;\r\n        cb.value = cb.value.toFixed(decimals);\r\n        cb.prefix = prefix;\r\n        break;\r\n      case \"d\":\r\n        cb.factor = 10;\r\n        cb.value = value / cb.factor;\r\n        cb.value = cb.value.toFixed(decimals);\r\n        cb.prefix = prefix;\r\n        break;\r\n      case \"h\":\r\n        cb.factor = 100;\r\n        cb.value = value / cb.factor;\r\n        cb.value = cb.value.toFixed(decimals);\r\n        cb.prefix = prefix;\r\n        break;\r\n      case \"k\":\r\n        cb.factor = 1000;\r\n        cb.value = value / cb.factor;\r\n        cb.value = cb.value.toFixed(decimals);\r\n        cb.prefix = prefix;\r\n        break;\r\n      case \"M\":\r\n        cb.factor = 1e6;\r\n        cb.value = value / cb.factor;\r\n        cb.value = cb.value.toFixed(decimals);\r\n        cb.prefix = prefix;\r\n        break;\r\n      default:\r\n        cb.factor = 1;\r\n        cb.value = value;\r\n        cb.prefix = \"\";\r\n        console.log(\"WARNING: Unknown prefix: \" + prefix);\r\n    }\r\n  }\r\n\r\n  return cb;\r\n}\r\n\r\nvar a = 123445.44556432345;\r\nvar b = 4;\r\nvar c = \"M\";\r\n\r\nconsole.log(toSiPrefix(a, b, c));\r\nconsole.log(toSiPrefix(a, b));\r\nconsole.log(toSiPrefix(a));\r\nconsole.log(toSiPrefix(a));\r\nconsole.log(toSiPrefix(56325.34));\r\n\r\nconsole.log(\"toSiPrefix(1325.835) :\", toSiPrefix(1325.835));\r\nconsole.log(\r\n  \"toSiPrefix(1325.835, undefined,'') :\",\r\n  toSiPrefix(1325.835, undefined, \" \")\r\n);\r\nconsole.log(\r\n  \"Number(toSiPrefix(1325.835).value) :\",\r\n  Number(toSiPrefix(1325.835).value)\r\n);\r\n\r\nconsole.log(toSiPrefix(a, b, c));\r\nconsole.log(toSiPrefix(a, b, c));\r\nconsole.log(toSiPrefix(a, b, c));\r\n\r\nexport const checkPrefData = (key, obj) => {\r\n  if (key in obj) {\r\n    return `${Number(obj.prefData.value).toFixed(2)} ${obj.prefData.prefix}`;\r\n  } else {\r\n    return obj.value;\r\n  }\r\n};\r\n\r\nexport const checkUnits = (key, obj) => {\r\n  if (key in obj) {\r\n    return `${obj.unit}`;\r\n  } else {\r\n    return \"\";\r\n  }\r\n};\r\n","export default __webpack_public_path__ + \"static/media/edit.1610f3fa.svg\";","import React from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport editIcon from \"assets/images/svg/edit.svg\";\r\n\r\nexport const InfoTableHeader = (props) => {\r\n  const { name } = props;\r\n  return (\r\n    <Card.Header className=\"card__header card_info__header\">{name}</Card.Header>\r\n  );\r\n};\r\n\r\nexport const InfoTableHeaderEditable = (props) => {\r\n  const { name, setModalOpen } = props;\r\n  return (\r\n    <Card.Header className=\"card__header card_info__header\">\r\n      {\" \"}\r\n      <div>\r\n        <span style={{ float: \"left\" }}>\r\n          <button\r\n            className=\"mr-2 button button_edit\"\r\n            style={{ display: \"flex\" }}\r\n            onClick={setModalOpen}\r\n          >\r\n            <img\r\n              className=\"button_img button_edit__img\"\r\n              src={editIcon}\r\n              alt=\"Edit\"\r\n            />\r\n          </button>\r\n        </span>\r\n        <span>{name}</span>\r\n      </div>\r\n    </Card.Header>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Card, Table } from \"react-bootstrap\";\r\nimport { getUi } from \"./functions/getUi\";\r\nimport { InfoTableHeader, InfoTableHeaderEditable } from \"./InfoTableHeader\";\r\n\r\nconst InfoTable = (props) => {\r\n  const { name, tableData, isEditable, setModalOpen } = props;\r\n  const tableUi = getUi(tableData);\r\n\r\n  const tableHeader = isEditable ? (\r\n    <InfoTableHeaderEditable name={name} setModalOpen={setModalOpen} />\r\n  ) : (\r\n    <InfoTableHeader name={name} />\r\n  );\r\n\r\n  return (\r\n    <Card className=\"card card_info\">\r\n      {tableHeader}\r\n      <Card.Body className=\"card__body card_info__body\">\r\n        <Table striped bordered hover>\r\n          <tbody>{tableUi}</tbody>\r\n        </Table>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default InfoTable;\r\n","import { checkPrefData } from \"../../../../../math\";\r\n\r\nexport const getUi = (data) => {\r\n  return data.map((el, id) => {\r\n    return (\r\n      <tr key={id}>\r\n        <td className=\"card__label\" colSpan=\"2\">\r\n          {el.name}\r\n        </td>\r\n        <td>{`${checkPrefData(\"prefData\", el)}${el.unit}`}</td>\r\n      </tr>\r\n    );\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport InfoTable from \"../../../common/heatLossCalcCommon/InfoTable/InfoTable\";\r\nimport { getTableData } from \"./functions/getTableData\";\r\n\r\nconst RoomBuildingInfoTable = (props) => {\r\n  const { roomBuilding, roomType } = props;\r\n  console.log({...roomBuilding});\r\n  const tableData = getTableData(roomBuilding, roomType);\r\n\r\n  return (\r\n    <InfoTable\r\n      name={roomBuilding.name}\r\n      isEditable={false}\r\n      tableData={tableData}\r\n    />\r\n  );\r\n};\r\n\r\nexport default RoomBuildingInfoTable;\r\n","import { toSiPrefix } from \"../../../../../math\";\r\n\r\nexport const getTableData = (state, roomType) => {\r\n  if (state.exWallGroup === \"ground floor\") {\r\n    if (roomType === \"Simple room\") {\r\n      return [\r\n        {\r\n          name: \"Name\",\r\n          value: state.name,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Type\",\r\n          value: state.exWallGroup,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Length\",\r\n          value: state.length,\r\n          unit: \"m\",\r\n          prefData: toSiPrefix(state[\"length\"]),\r\n        },\r\n        {\r\n          name: \"Width\",\r\n          value: state.width,\r\n          unit: \"m\",\r\n          prefData: toSiPrefix(state.width),\r\n        },\r\n        {\r\n          name: \"Exposed perimeter\",\r\n          value: state.expPerimeter,\r\n          prefData: toSiPrefix(state.expPerimeter),\r\n          unit: \"m\",\r\n        },\r\n        {\r\n          name: \"Area\",\r\n          value: state.area,\r\n          prefData: toSiPrefix(state.area),\r\n          unit: \"m²\",\r\n        },\r\n        {\r\n          name: \"Thermal conductivity of insulation\",\r\n          value: state.thermInsul,\r\n          prefData: toSiPrefix(state.thermInsul),\r\n          unit: \"W/mK\",\r\n        },\r\n        {\r\n          name: \"Thickness of insulation\",\r\n          value: state.thickInsul,\r\n          prefData: toSiPrefix(state.thickInsul),\r\n          unit: \"mm\",\r\n        },\r\n        {\r\n          name: \"U-value\",\r\n          value: state.uValue,\r\n          prefData: toSiPrefix(state.uValue),\r\n          unit: \"W/m²K\",\r\n        },\r\n        {\r\n          name: \"Heat loss\",\r\n          value: state.heatLoss,\r\n          prefData: toSiPrefix(state.heatLoss),\r\n          unit: \"W\",\r\n        },\r\n      ];\r\n    }\r\n    if (roomType === \"Complex shaped room\") {\r\n      return [\r\n        {\r\n          name: \"Name\",\r\n          value: state.name,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Type\",\r\n          value: state.exWallGroup,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Exposed perimeter\",\r\n          value: state.expPerimeter,\r\n          prefData: toSiPrefix(state.expPerimeter),\r\n          unit: \"m\",\r\n        },\r\n        {\r\n          name: \"Area\",\r\n          value: state.area,\r\n          prefData: toSiPrefix(state.area),\r\n          unit: \"m²\",\r\n        },\r\n        {\r\n          name: \"Thermal conductivity of insulation\",\r\n          value: state.thermInsul,\r\n          prefData: toSiPrefix(state.thermInsul),\r\n          unit: \"W/mK\",\r\n        },\r\n        {\r\n          name: \"Thickness of insulation\",\r\n          value: state.thickInsul,\r\n          prefData: toSiPrefix(state.thickInsul),\r\n          unit: \"mm\",\r\n        },\r\n        {\r\n          name: \"U-value\",\r\n          value: state.uValue,\r\n          prefData: toSiPrefix(state.uValue),\r\n          unit: \"W/m²K\",\r\n        },\r\n        {\r\n          name: \"Heat loss\",\r\n          value: state.heatLoss,\r\n          prefData: toSiPrefix(state.heatLoss),\r\n          unit: \"W\",\r\n        },\r\n      ];\r\n    }\r\n  } else if (state.exWallGroup === \"roof\") {\r\n    if (roomType === \"Simple room\") {\r\n      return [\r\n        {\r\n          name: \"Name\",\r\n          value: state.name,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Type\",\r\n          value: state.exWallGroup,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Width\",\r\n          value: state.width,\r\n          prefData: toSiPrefix(state.width),\r\n          unit: \"m\",\r\n        },\r\n        {\r\n          name: \"Length\",\r\n          value: state.length,\r\n          prefData: toSiPrefix(state.length),\r\n          unit: \"m\",\r\n        },\r\n        {\r\n          name: \"U-value\",\r\n          value: state.uValue,\r\n          prefData: toSiPrefix(state.uValue),\r\n          unit: \"W/m²K\",\r\n        },\r\n        {\r\n          name: \"Area\",\r\n          unit: \"m²\",\r\n          value: state.area,\r\n          prefData: toSiPrefix(state.area),\r\n        },\r\n        {\r\n          name: \"Heat loss\",\r\n          value: state.heatLoss,\r\n          prefData: toSiPrefix(state.heatLoss),\r\n          unit: \"W\",\r\n        },\r\n        {\r\n          name: \"Description of layers\",\r\n          value: state.itemName,\r\n          unit: \"\",\r\n        },\r\n      ];\r\n    }\r\n    if (roomType === \"Complex shaped room\") {\r\n      return [\r\n        {\r\n          name: \"Name\",\r\n          value: state.name,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Type\",\r\n          value: state.exWallGroup,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"U-value\",\r\n          value: state.uValue,\r\n          prefData: toSiPrefix(state.uValue),\r\n          unit: \"W/m²K\",\r\n        },\r\n        {\r\n          name: \"Area\",\r\n          unit: \"m²\",\r\n          value: state.area,\r\n          prefData: toSiPrefix(state.area),\r\n        },\r\n        {\r\n          name: \"Heat loss\",\r\n          value: state.heatLoss,\r\n          prefData: toSiPrefix(state.heatLoss),\r\n          unit: \"W\",\r\n        },\r\n        {\r\n          name: \"Description of layers\",\r\n          value: state.itemName,\r\n          unit: \"\",\r\n        },\r\n      ];\r\n    }\r\n  } else {\r\n    if (state.external) {\r\n      return [\r\n        {\r\n          name: \"Name\",\r\n          value: state.name,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Type\",\r\n          value: state.exWallGroup,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Length\",\r\n          value: state.length,\r\n          prefData: toSiPrefix(state.length),\r\n          unit: \"m\",\r\n        },\r\n        {\r\n          name: \"Height\",\r\n          value: state.height,\r\n          prefData: toSiPrefix(state.height),\r\n          unit: \"m\",\r\n        },\r\n        {\r\n          name: \"U-value\",\r\n          value: state.uValue,\r\n          prefData: toSiPrefix(state.uValue),\r\n          unit: \"W/m²K\",\r\n        },\r\n        {\r\n          name: \"Area\",\r\n          unit: \"m²\",\r\n          value: state.area,\r\n          prefData: toSiPrefix(state.area),\r\n        },\r\n        {\r\n          name: \"Heat loss\",\r\n          value: state.heatLoss,\r\n          prefData: toSiPrefix(state.heatLoss),\r\n          unit: \"W\",\r\n        },\r\n        {\r\n          name: \"Description of layers\",\r\n          value: state.itemName,\r\n          unit: \"\",\r\n        },\r\n      ];\r\n    } else {\r\n      return [\r\n        {\r\n          name: \"Name\",\r\n          value: state.name,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Type\",\r\n          value: state.exWallGroup,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Length\",\r\n          value: state.length,\r\n          prefData: toSiPrefix(state.length),\r\n          unit: \"m\",\r\n        },\r\n        {\r\n          name: \"Height\",\r\n          value: state.height,\r\n          prefData: toSiPrefix(state.height),\r\n          unit: \"m\",\r\n        },\r\n        {\r\n          name: \"U-value\",\r\n          value: state.uValue,\r\n          prefData: toSiPrefix(state.uValue),\r\n          unit: \"W/m²K\",\r\n        },\r\n        {\r\n          name: \"Area\",\r\n          unit: \"m²\",\r\n          value: state.area,\r\n          prefData: toSiPrefix(state.area),\r\n        },\r\n        {\r\n          name: \"Heat loss\",\r\n          value: state.heatLoss,\r\n          prefData: toSiPrefix(state.heatLoss),\r\n          unit: \"W\",\r\n        },\r\n        {\r\n          name: \"Description of layers\",\r\n          value: state.itemName,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Temperature of neighbor room\",\r\n          value: state.tempNroom,\r\n          prefData: toSiPrefix(state.tempNroom),\r\n          unit: \"°С\",\r\n        },\r\n      ];\r\n    }\r\n  }\r\n};\r\n","import { Nav } from \"react-bootstrap\";\r\n\r\nconst NavigationPanel = (props) => {\r\n  const { pageLevelLinks, neighbourPagesLinks } = props;\r\n\r\n  const NavBtn = (props) => {\r\n    const { goToLink, buttonLabel } = props;\r\n    return (\r\n      <button className=\"button\" onClick={goToLink}>\r\n        {buttonLabel}\r\n      </button>\r\n    );\r\n  };\r\n\r\n  const createLinksUi = (linkArray) => {\r\n    return linkArray.map((linkObj, id) => {\r\n      const goToLink = () => {\r\n        props.history.push(linkObj.link);\r\n      };\r\n      return (\r\n        <Nav.Item key={id} className={id % 2 !== 0 ? \" \" : \"mr-2\"}>\r\n          <NavBtn goToLink={goToLink} buttonLabel={linkObj.buttonLabel} />\r\n        </Nav.Item>\r\n      );\r\n    });\r\n  };\r\n\r\n  const pageLevelLinksUi = createLinksUi(pageLevelLinks);\r\n  const neighbourPagesLinksUi = createLinksUi(neighbourPagesLinks);\r\n\r\n  return (\r\n    <Nav className=\"nav_room\">\r\n      <div className=\"d-flex\">{pageLevelLinksUi}</div>\r\n      <div className=\"d-flex\">{neighbourPagesLinksUi}</div>\r\n    </Nav>\r\n  );\r\n};\r\n\r\nexport default NavigationPanel;\r\n","import NavigationPanel from \"../../../common/heatLossCalcCommon/NavigationPanel/NavigationPanel\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst RoomBuildingNavigationPanel = (props) => {\r\n  const { navData, history, roomId } = props;\r\n\r\n  const pageLevelLinks = [\r\n    {\r\n      link: \"/main/mat-app\",\r\n      buttonLabel: \"Go to project\",\r\n    },\r\n    {\r\n      link: `/main/mat-app/room/${roomId}`,\r\n      buttonLabel: \"Go to room\",\r\n    },\r\n  ];\r\n\r\n  const neighbourPagesLinks = [\r\n    {\r\n      link: `/main/mat-app/room/${roomId}/wall/${navData.prevPageId}`,\r\n      buttonLabel: \"Prev\",\r\n    },\r\n    {\r\n      link: `/main/mat-app/room/${roomId}/wall/${navData.nextPageId}`,\r\n      buttonLabel: \"Next\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <NavigationPanel\r\n      history={history}\r\n      pageLevelLinks={pageLevelLinks}\r\n      neighbourPagesLinks={neighbourPagesLinks}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(RoomBuildingNavigationPanel);\r\n","import React, { useState } from \"react\";\r\nimport editIcon from \"assets/images/svg/edit.svg\";\r\nimport { Card, Table, Accordion, useAccordionButton } from \"react-bootstrap\";\r\nimport { getUi } from \"./functions/getUi\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst ItemTable = (props) => {\r\n  const {\r\n    tableId,\r\n    tableName,\r\n    goToInfoTable,\r\n    editTable,\r\n    deleteTable,\r\n    tableData,\r\n    hasInfoTable,\r\n  } = props;\r\n\r\n  const tableUi = getUi(tableData);\r\n\r\n  const [acTogleTxt, acSetTogleTxt] = useState(\"Show data\");\r\n\r\n  function CustomToggle({ children, eventKey }) {\r\n    const decoratedOnClick = useAccordionButton(eventKey, (e) => {\r\n      e.target.innerText === \"Show data\"\r\n        ? acSetTogleTxt(\"Hide data\")\r\n        : acSetTogleTxt(\"Show data\");\r\n    });\r\n\r\n    return (\r\n      <button className=\"ml-3 button\" eventKey=\"0\" onClick={decoratedOnClick}>\r\n        {acTogleTxt}\r\n      </button>\r\n    );\r\n  }\r\n\r\n  const goToBtn = hasInfoTable ? (\r\n    <button onClick={goToInfoTable} className=\"button mr-3\">\r\n      add/edit elements\r\n    </button>\r\n  ) : (\r\n    \"\"\r\n  );\r\n\r\n  const tableButtons = hasInfoTable ? (\r\n    <div className=\"d-flex justify-content-between align-items-center flex-wrap\">\r\n      <div className=\"card_item__event-btns\">\r\n        <NavLink to=\"/main/mat-app/room/799c2a6a-2afe-4c86-b9e0-4b3076f2d241\">\r\nfrerr\r\n        </NavLink>\r\n        {goToBtn}\r\n        <button className=\"button button_edit\" onClick={editTable}>\r\n          <img\r\n            className=\"button__img button_edit__img\"\r\n            src={editIcon}\r\n            alt=\"Edit\"\r\n          />\r\n        </button>\r\n        <CustomToggle eventKey=\"0\" />\r\n      </div>\r\n      <button\r\n        className=\"button button_delete card_item__button_delete\"\r\n        onClick={deleteTable}\r\n      >\r\n        Delete\r\n      </button>\r\n    </div>\r\n  ) : (\r\n    <div className=\"d-flex justify-content-between align-items-center flex-wrap\">\r\n      <div className=\"card_item__event-btns card_item__event-btns_ended\">\r\n        <button className=\"button button_edit\" onClick={editTable}>\r\n          <img\r\n            className=\"button__img button_edit__img\"\r\n            src={editIcon}\r\n            alt=\"Edit\"\r\n          />\r\n        </button>\r\n        <CustomToggle eventKey=\"0\" />\r\n      </div>\r\n      <button\r\n        className=\"button button_delete card_item__button_delete card_item__button_delete_ended\"\r\n        onClick={deleteTable}\r\n      >\r\n        Delete\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Accordion defaultActiveKey=\"1\">\r\n      <Card className=\"card card_item\" id={tableId}>\r\n        <Card.Header className=\"card__header card_item__header\">\r\n          <div className=\"card_item__name text-center mb-2\">{tableName}</div>\r\n          {tableButtons}\r\n        </Card.Header>\r\n        <Accordion.Collapse eventKey=\"0\">\r\n          <Card.Body className=\"card__body card_item__body\">\r\n            <Table striped bordered hover>\r\n              <tbody>{tableUi}</tbody>\r\n            </Table>\r\n          </Card.Body>\r\n        </Accordion.Collapse>\r\n      </Card>\r\n    </Accordion>\r\n  );\r\n};\r\n\r\nexport default ItemTable;\r\n","import { checkPrefData, checkUnits } from \"../../../../../math\";\r\n\r\nexport const getUi = (data) => {\r\n  return data.map((el, id) => {\r\n    return (\r\n      <tr key={id}>\r\n        <td className=\"card__label\" colSpan=\"2\">\r\n          {el.name}\r\n        </td>\r\n        <td>{`${checkPrefData(\"prefData\", el)}${checkUnits(\"unit\", el)}`}</td>\r\n      </tr>\r\n    );\r\n  });\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport ItemTable from \"../../../common/heatLossCalcCommon/ItemTable/ItemTable\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getTableData } from \"./functions/getTableData\";\r\nimport {\r\n  calculate_item_data,\r\n  calculate_wallItem_data,\r\n  delete_wallItem_action,\r\n} from \"../../../../redux/store/rooms/actions\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst RoomBuildingOpeningItemTable = (props) => {\r\n  const {\r\n    editRoomBuildingOpening,\r\n    curRoomIdx,\r\n    curRoomBuildingIdx,\r\n    openingIdx,\r\n    openingItem,\r\n    buildingTypeValue,\r\n    deltaT,\r\n  } = props;\r\n  const dispatch = useDispatch();\r\n\r\n  const calculateData = {\r\n    deltaT,\r\n    buildingTypeValue,\r\n  };\r\n\r\n  const deleteOpeningItemTable = () => {\r\n    if (window.confirm(`Do you want to delete ${openingItem.name}?`)) {\r\n      const item = document.getElementById(openingItem.id);\r\n      item.classList.add(\"flip-out-diag-2-br\");\r\n      setTimeout(() => {\r\n        dispatch(\r\n          delete_wallItem_action(curRoomIdx, curRoomBuildingIdx, openingIdx)\r\n        );\r\n        dispatch(\r\n          calculate_item_data(curRoomIdx, curRoomBuildingIdx, calculateData)\r\n        );\r\n        item.classList.remove(\"flip-out-diag-2-br\");\r\n      }, 600);\r\n    }\r\n  };\r\n\r\n  const editOpeningItemTable = () => {\r\n    editRoomBuildingOpening({ ...openingItem, idx: openingIdx });\r\n  };\r\n\r\n  const tableData = getTableData(openingItem);\r\n\r\n  const calculateOpening = () => {\r\n    dispatch(\r\n      calculate_wallItem_data(\r\n        curRoomIdx,\r\n        curRoomBuildingIdx,\r\n        openingIdx,\r\n        calculateData\r\n      )\r\n    );\r\n    dispatch(\r\n      calculate_item_data(curRoomIdx, curRoomBuildingIdx, calculateData)\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    calculateOpening();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    calculateOpening();\r\n  }, [\r\n    openingItem.name,\r\n    openingItem[\"length\"],\r\n    openingItem.height,\r\n    openingItem.uValue,\r\n    openingItem.area,\r\n    openingItem.heatLoss,\r\n    openingItem.itemName,\r\n  ]);\r\n\r\n  return (\r\n    <ItemTable\r\n      tableId={openingItem.id}\r\n      tableName={openingItem.name}\r\n      goToInfoTable={null}\r\n      deleteTable={deleteOpeningItemTable}\r\n      hasInfoTable={false}\r\n      editTable={editOpeningItemTable}\r\n      tableData={tableData}\r\n    />\r\n  );\r\n};\r\nexport default RoomBuildingOpeningItemTable;\r\n","import { toSiPrefix } from \"../../../../../math\";\r\n\r\nexport const getTableData = (state) => {\r\n  return [\r\n    {\r\n      name: \"Name\",\r\n      value: state.name,\r\n      col: \"12\",\r\n      colN: \"2\",\r\n      unit: \"\",\r\n    },\r\n    {\r\n      name: \"Length\",\r\n      value: state.width,\r\n      prefData: toSiPrefix(state.width, undefined, \" \"),\r\n      unit: \"m\",\r\n      col: \"4\",\r\n      colN: \"6\",\r\n    },\r\n    {\r\n      name: \"Height\",\r\n      value: state.height,\r\n      prefData: toSiPrefix(state.height, undefined, \" \"),\r\n      unit: \"m\",\r\n      col: \"4\",\r\n      colN: \"6\",\r\n    },\r\n    {\r\n      name: \"U-value\",\r\n      value: state.uValue,\r\n      prefData: toSiPrefix(state.uValue, undefined, \" \"),\r\n      unit: \"W/m²K\",\r\n      col: \"4\",\r\n      colN: \"6\",\r\n    },\r\n    {\r\n      name: \"Area\",\r\n      unit: \"m²\",\r\n      value: state.area,\r\n      prefData: toSiPrefix(state.area, undefined, \" \"),\r\n      col: \"4\",\r\n      colN: \"6\",\r\n      class: \"mb-4\",\r\n    },\r\n    {\r\n      name: \"Heat loss\",\r\n      value: state.heatLoss,\r\n      prefData: toSiPrefix(state.heatLoss, undefined, \" \"),\r\n      unit: \"W\",\r\n      col: \"8\",\r\n      colN: \"3\",\r\n      class: \"mb-4\",\r\n    },\r\n    {\r\n      name: \"Description of layers\",\r\n      value: state.itemName,\r\n      unit: \"\",\r\n      col: \"8\",\r\n      colN: \"3\",\r\n      class: \"mb-4\",\r\n    },\r\n  ];\r\n};\r\n","import React from \"react\";\r\nimport { Col } from \"react-bootstrap\";\r\nimport RoomBuildingOpeningItemTable from \"../RoomBuildingOpeningItemTable/RoomBuildingOpeningItemTable\";\r\n\r\nconst RoomBuldingOpeningTables = (props) => {\r\n  const items = props.items.map((wallItem, id) => {\r\n    return (\r\n      <Col xl={4} xs={12} lg={6} md={12} sm={12} key={id} className=\"mt-5\">\r\n        <RoomBuildingOpeningItemTable\r\n          buildingTypeValue={props.buildingTypeValue}\r\n          deltaT={props.deltaT}\r\n          editRoomBuildingOpening={props.editRoomBuildingOpening}\r\n          curRoomIdx={props.curRoomIdx}\r\n          curRoomBuildingIdx={props.curRoomBuildingIdx}\r\n          openingIdx={id}\r\n          openingItem={wallItem}\r\n        />\r\n      </Col>\r\n    );\r\n  });\r\n  return items;\r\n};\r\n\r\nexport default RoomBuldingOpeningTables;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Row, Button } from \"react-bootstrap\";\r\nimport WallItemModal from \"../components/newWallItemModal/WallItemModal\";\r\nimport RoomBuildingInfoTable from \"../components/heatLossCalc/RoomBuilding/RoomBuldingInfoTable/RoomBuildingInfoTable\";\r\nimport RoomBuildingNavigationPanel from \"../components/heatLossCalc/RoomBuilding/RoomBuildingNavigationPanel/RoomBuildingNavigationPanel\";\r\nimport RoomBuildongOpeningTables from \"../components/heatLossCalc/RoomBuildingOpening/RoomBuldingOpeningTables/RoomBuldingOpeningTables\";\r\n\r\nconst WallPage = (props) => {\r\n  const getNavData = (walls, idx) => {\r\n    let prewIdx = Number(idx - 1);\r\n    let nextIdx = Number(idx + 1);\r\n    if (walls[prewIdx] == null) {\r\n      prewIdx = walls.length - 1;\r\n    }\r\n    if (walls[nextIdx] == null) {\r\n      nextIdx = 0;\r\n    }\r\n    return {\r\n      prevPageId: walls[prewIdx].id,\r\n      nextPageId: walls[nextIdx].id,\r\n    };\r\n  };\r\n\r\n  const getPageData = (rooms, roomId, wallId) => {\r\n    const curRoomIdx = rooms.findIndex((room) => {\r\n      return room.id.toString() === roomId.toString();\r\n    });\r\n\r\n    console.log(curRoomIdx);\r\n\r\n    const curWallIdx = rooms[curRoomIdx].items.findIndex((wall) => {\r\n      return wall.id.toString() === wallId.toString();\r\n    });\r\n\r\n    console.log(curWallIdx);\r\n\r\n    const currentWall = rooms[curRoomIdx].items[curWallIdx];\r\n    const roomNavData = getNavData(rooms[curRoomIdx].items, curWallIdx);\r\n    const { prevPageId, nextPageId } = roomNavData;\r\n\r\n    console.log(currentWall);\r\n\r\n    return { currentWall, curRoomIdx, curWallIdx, prevPageId, nextPageId };\r\n  };\r\n\r\n  const { rooms, project } = useSelector((state) => state);\r\n  const roomId = props.match.params.id;\r\n  const wallId = props.match.params.wallId;\r\n  const pageData = getPageData(rooms, roomId, wallId);\r\n  const { currentWall, curRoomIdx, curWallIdx, ...navData } = pageData;\r\n  const currentRoom = rooms[curRoomIdx];\r\n\r\n  // state for room building opening modal showing/editing\r\n  const [IsModalShow, setModalShow] = useState(false);\r\n  const [isModalEdit, setModalEdit] = useState(false);\r\n\r\n  // state with data of edited room building openings\r\n  const [editedRoomBuildingOpening, setEditedRoomBuildingOpening] = useState(\r\n    {}\r\n  );\r\n\r\n  // function for opening room building modal in editing state\r\n  const editRoomBuildingOpening = (roomBuildingOpening) => {\r\n    setModalEdit(true);\r\n    setEditedRoomBuildingOpening(roomBuildingOpening);\r\n    setModalShow(true);\r\n  };\r\n\r\n  const groundFloorType = currentWall.exWallGroup === \"ground floor\";\r\n  return (\r\n    <div>\r\n      <RoomBuildingInfoTable\r\n        roomBuilding={currentWall}\r\n        roomType={currentRoom.type}\r\n      />\r\n      <div className=\"mt-4\">\r\n        <RoomBuildingNavigationPanel navData={navData} roomId={roomId} />\r\n      </div>\r\n      <div className=\"mt-4\">\r\n        {groundFloorType ? (\r\n          <Button\r\n            disabled={true}\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            size=\"large\"\r\n            onClick={() => setModalShow(true)}\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"100%\",\r\n              borderWidth: \"2px\",\r\n              fontSize: \"20px\",\r\n            }}\r\n          >\r\n            Sorry, now you can't add openings to ground floor\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            variant=\"primary\"\r\n            size=\"lg\"\r\n            onClick={() => setModalShow(true)}\r\n            style={{\r\n              width: \"100%\",\r\n            }}\r\n          >\r\n            Add/edit openings\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      <WallItemModal\r\n        editedRoomBuildingOpening={editedRoomBuildingOpening}\r\n        isEdit={isModalEdit}\r\n        curRoomIdx={curRoomIdx}\r\n        curWallIdx={curWallIdx}\r\n        roomId={roomId}\r\n        show={IsModalShow}\r\n        onHide={() => {\r\n          setModalEdit(false);\r\n          setModalShow(false);\r\n        }}\r\n      />\r\n\r\n      <div className=\"mt-4\">\r\n        <Row>\r\n          <RoomBuildongOpeningTables\r\n            editRoomBuildingOpening={editRoomBuildingOpening}\r\n            curRoomIdx={curRoomIdx}\r\n            curRoomBuildingIdx={curWallIdx}\r\n            items={currentWall.items}\r\n            deltaT={currentRoom.deltaT}\r\n            buildingTypeValue={project.buildingType}\r\n          />\r\n        </Row>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WallPage;\r\n","import { Image } from \"@react-pdf/renderer\";\r\nimport { toSiPrefix } from \"math\";\r\nconst QuickChart = require(\"quickchart-js\");\r\n\r\nconst ReportChart1 = (props) => {\r\n  const reportChart1 = new QuickChart();\r\n\r\n  const data = [\r\n    Number(\r\n      toSiPrefix(props.project.transmissionLoss, undefined, \" \").value\r\n    ).toFixed(2),\r\n    Number(toSiPrefix(props.project.venHeatLoss, undefined, \" \").value).toFixed(\r\n      2\r\n    ),\r\n    0,\r\n  ];\r\n\r\n  reportChart1\r\n    .setConfig({\r\n      type: \"bar\",\r\n      data: {\r\n        labels: [\r\n          \"Transmission heat loss\",\r\n          \"Ventilation heat loss\",\r\n          \"Response capacity\",\r\n        ],\r\n        datasets: [\r\n          {\r\n            data: data,\r\n            backgroundColor: \"rgba(54, 162, 235, 0.5)\",\r\n            borderColor: \"rgb(54, 162, 235)\",\r\n            borderWidth: 1.5,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        scales: {\r\n          yAxes: [\r\n            {\r\n              ticks: {\r\n                beginAtZero: true,\r\n              },\r\n            },\r\n          ],\r\n          xAxes: [\r\n            {\r\n              barPercentage: 0.6,\r\n            },\r\n          ],\r\n        },\r\n        plugins: {\r\n          datalabels: {\r\n            anchor: \"end\",\r\n            align: \"top\",\r\n            formatter: (value) => {\r\n              return value + \" W\";\r\n            },\r\n            color: \"white\",\r\n            backgroundColor: \"#0D47A1\",\r\n            borderRadius: 5,\r\n            font: {\r\n              size: 14,\r\n            },\r\n            labels: {\r\n              title: {\r\n                font: {},\r\n              },\r\n              value: {},\r\n            },\r\n          },\r\n        },\r\n        legend: {\r\n          display: false,\r\n        },\r\n      },\r\n    })\r\n    .setWidth(800)\r\n    .setHeight(400)\r\n    .setBackgroundColor(\"transparent\");\r\n\r\n  const url = reportChart1.getUrl();\r\n\r\n  return <Image alt=\"chart1\" src={url} />;\r\n};\r\n\r\nexport default ReportChart1;\r\n","export const calc_group = (arr, groupName) => {\r\n  console.log(arr);\r\n  if (arr.length === 0) {\r\n    return 0;\r\n  } else {\r\n    return arr.reduce((prev, cur) => {\r\n      return Number(prev) + Number(cur[groupName]);\r\n    }, 0);\r\n  }\r\n};\r\n","import { Image } from \"@react-pdf/renderer\";\r\nimport { calc_group } from \"../../../calculation/calc_group\";\r\nimport { toSiPrefix } from \"math\";\r\nconst QuickChart = require(\"quickchart-js\");\r\n\r\nconst ReportChart2 = (props) => {\r\n  const getData = () => {\r\n    let wallH = 0;\r\n    let windowDoorH = 0;\r\n    let roofH = 0;\r\n\r\n    props.rooms.forEach((room) => {\r\n      room.items.forEach((wall) => {\r\n        let wallItemsH = calc_group(wall.items, \"heatLoss\");\r\n        wallH += wall.heatLoss - wallItemsH;\r\n\r\n        wall.items.forEach((item) => {\r\n          if (item.exWallGroup === \"roof\") {\r\n            roofH += item.heatLoss;\r\n          }\r\n          if (item.exWallGroup === \"windows and doors\") {\r\n            windowDoorH += item.heatLoss;\r\n          }\r\n        });\r\n\r\n        // windowDoorH += wallItemsH;\r\n      });\r\n    });\r\n\r\n    return {\r\n      wallHeatLoss: Number(toSiPrefix(wallH).value).toFixed(2),\r\n      windowDoorHeatLoss: Number(toSiPrefix(windowDoorH).value).toFixed(2),\r\n      roofHeatLoss: Number(toSiPrefix(roofH).value).toFixed(2),\r\n    };\r\n  };\r\n  const data = getData();\r\n  const reportChart2 = new QuickChart();\r\n  reportChart2\r\n    .setConfig({\r\n      type: \"bar\",\r\n      data: {\r\n        labels: [\"Walls\", \"Windows/doors\", \"Floors\", \"Roof\"],\r\n        datasets: [\r\n          {\r\n            data: [\r\n              data.wallHeatLoss,\r\n              data.windowDoorHeatLoss,\r\n              0,\r\n              data.roofHeatLoss,\r\n            ],\r\n            backgroundColor: \"rgba(54, 162, 235, 0.5)\",\r\n            borderColor: \"rgb(54, 162, 235)\",\r\n            borderWidth: 1.5,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        scales: {\r\n          yAxes: [\r\n            {\r\n              ticks: {\r\n                beginAtZero: true,\r\n              },\r\n            },\r\n          ],\r\n          xAxes: [\r\n            {\r\n              barPercentage: 0.6,\r\n            },\r\n          ],\r\n        },\r\n        plugins: {\r\n          datalabels: {\r\n            anchor: \"end\",\r\n            align: \"top\",\r\n            formatter: (value) => {\r\n              return value + \" W\";\r\n            },\r\n            color: \"white\",\r\n            backgroundColor: \"#0D47A1\",\r\n            borderRadius: 5,\r\n            font: {\r\n              size: 14,\r\n            },\r\n            labels: {\r\n              title: {\r\n                font: {},\r\n              },\r\n              value: {},\r\n            },\r\n          },\r\n        },\r\n        legend: {\r\n          display: false,\r\n        },\r\n      },\r\n    })\r\n    .setWidth(800)\r\n    .setHeight(400)\r\n    .setBackgroundColor(\"transparent\");\r\n  const url = reportChart2.getUrl();\r\n  return <Image alt=\"chart2\" src={url} />;\r\n};\r\n\r\nexport default ReportChart2;\r\n","import { Image } from \"@react-pdf/renderer\";\r\nimport { calc_group } from \"../../../calculation/calc_group\";\r\nimport { toSiPrefix } from \"math\";\r\nconst QuickChart = require(\"quickchart-js\");\r\n\r\nconst ReportChart3 = (props) => {\r\n  const reportChart3 = new QuickChart();\r\n\r\n  const getData = () => {\r\n    let wallYearH = 0;\r\n    let windowDoorH = 0;\r\n    let roofH = 0;\r\n    let ventYearH = 0;\r\n\r\n    props.rooms.forEach((room) => {\r\n      ventYearH += (room.venHeatLoss / room.deltaT) * 24 * 2000;\r\n\r\n      room.items.forEach((wall) => {\r\n        let wallItemsH = calc_group(wall.items, \"heatLoss\");\r\n\r\n        wallYearH += ((wall.heatLoss - wallItemsH) / room.deltaT) * 24 * 2000;\r\n\r\n        wall.items.forEach((item) => {\r\n          if (item.exWallGroup === \"roof\") {\r\n            roofH += (item.heatLoss / room.deltaT) * 24 * 2000;\r\n          }\r\n          if (item.exWallGroup === \"windows and doors\") {\r\n            windowDoorH += (item.heatLoss / room.deltaT) * 24 * 2000;\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    return {\r\n      vYearH: Number(toSiPrefix(ventYearH, undefined, \" \").value).toFixed(2),\r\n      rYearH: Number(toSiPrefix(roofH, undefined, \" \").value).toFixed(2),\r\n      w_dYearH: Number(toSiPrefix(windowDoorH, undefined, \" \").value).toFixed(\r\n        2\r\n      ),\r\n      wYearH: Number(toSiPrefix(wallYearH, undefined, \" \").value).toFixed(2),\r\n    };\r\n  };\r\n\r\n  const data = getData();\r\n\r\n  reportChart3\r\n    .setConfig({\r\n      type: \"bar\",\r\n      data: {\r\n        labels: [\"Walls\", \"Windows/doors\", \"Floors\", \"Roof\", \"Ventilation\"],\r\n        datasets: [\r\n          {\r\n            data: [data.wYearH, data.w_dYearH, 3, data.rYearH, data.vYearH],\r\n            backgroundColor: \"rgba(54, 162, 235, 0.5)\",\r\n            borderColor: \"rgb(54, 162, 235)\",\r\n            borderWidth: 1.5,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        scales: {\r\n          yAxes: [\r\n            {\r\n              ticks: {\r\n                beginAtZero: true,\r\n              },\r\n            },\r\n          ],\r\n          xAxes: [\r\n            {\r\n              barPercentage: 0.6,\r\n            },\r\n          ],\r\n        },\r\n        plugins: {\r\n          datalabels: {\r\n            anchor: \"end\",\r\n            align: \"top\",\r\n            formatter: (value) => {\r\n              return value + \" W\";\r\n            },\r\n            color: \"white\",\r\n            backgroundColor: \"#0D47A1\",\r\n            borderRadius: 5,\r\n            font: {\r\n              size: 14,\r\n            },\r\n            labels: {\r\n              title: {\r\n                font: {},\r\n              },\r\n              value: {},\r\n            },\r\n          },\r\n        },\r\n        legend: {\r\n          display: false,\r\n        },\r\n      },\r\n    })\r\n    .setWidth(800)\r\n    .setHeight(400)\r\n    .setBackgroundColor(\"transparent\");\r\n  const url = reportChart3.getUrl();\r\n  return <Image alt=\"chart3\" src={url} />;\r\n};\r\n\r\nexport default ReportChart3;\r\n","import React from \"react\";\r\nimport { Text, View } from \"@react-pdf/renderer\";\r\nimport { toSiPrefix } from \"math\";\r\n\r\nconst ProjectTableDocument = (props) => {\r\n  const project = props.project;\r\n  const createTableHeader = () => {\r\n    return (\r\n      <View style={tableRowStyle} fixed>\r\n        <View style={firstTableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Name</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Outside temp</Text>\r\n          <Text style={tableCellHeaderStyleUnit}>[°C]</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Ground temp</Text>\r\n          <Text style={tableCellHeaderStyleUnit}>[°C]</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Degree days</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Total floor area</Text>\r\n          <Text style={tableCellHeaderStyleUnit}>[m²]</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Specific heat loss</Text>\r\n          <Text style={tableCellHeaderStyleUnit}>[W/m²]</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Total-heat-loss</Text>\r\n          <Text style={tableCellHeaderStyleUnit}>[W]</Text>\r\n        </View>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  const createTableRow = () => {\r\n    return (\r\n      <View style={tableRowStyle}>\r\n        <View style={firstTableColStyle}>\r\n          <Text style={tableCellStyle}>{project.name}</Text>\r\n        </View>\r\n\r\n        <View style={tableColStyle}>\r\n          <Text style={tableCellStyle}>{project.outsideT}</Text>\r\n        </View>\r\n\r\n        <View style={tableColStyle}>\r\n          <Text style={tableCellStyle}>{project.groundT}</Text>\r\n        </View>\r\n\r\n        <View style={tableColStyle}>\r\n          <Text style={tableCellStyle}>\r\n            {Number(toSiPrefix(project.dDays, undefined, \" \").value).toFixed(2)}\r\n          </Text>\r\n        </View>\r\n\r\n        <View style={tableColStyle}>\r\n          <Text style={tableCellStyle}>\r\n            {Number(\r\n              toSiPrefix(project.totalFloorArea, undefined, \" \").value\r\n            ).toFixed(2)}\r\n          </Text>\r\n        </View>\r\n\r\n        <View style={tableColStyle}>\r\n          <Text style={tableCellStyle}>\r\n            {Number(\r\n              toSiPrefix(project.specHeatLoss, undefined, \" \").value\r\n            ).toFixed(2)}\r\n          </Text>\r\n        </View>\r\n\r\n        <View style={tableColStyle}>\r\n          <Text style={tableCellStyle}>\r\n            {Number(\r\n              toSiPrefix(project.totalHeatLoss, undefined, \" \").value\r\n            ).toFixed(2)}\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <View style={tableStyle}>\r\n      {createTableHeader()}\r\n      {createTableRow()}\r\n    </View>\r\n  );\r\n};\r\n\r\n// const pageStyle = {\r\n//   paddingTop: 16,\r\n//   paddingHorizontal: 40,\r\n//   paddingBottom: 56,\r\n// };\r\n\r\nconst tableStyle = {\r\n  display: \"table\",\r\n  width: \"auto\",\r\n};\r\n\r\nconst tableRowStyle = {\r\n  flexDirection: \"row\",\r\n};\r\n\r\nconst firstTableColHeaderStyle = {\r\n  width: \"20%\",\r\n  borderStyle: \"solid\",\r\n  borderColor: \"#000\",\r\n  borderBottomColor: \"#000\",\r\n  borderWidth: 1,\r\n  backgroundColor: \"#325ea8\",\r\n  color: \"#fff\",\r\n  fontSize: \"10px\",\r\n};\r\n\r\nconst tableColHeaderStyle = {\r\n  width: \"20%\",\r\n  borderStyle: \"solid\",\r\n  borderColor: \"#000\",\r\n  borderBottomColor: \"#000\",\r\n  borderWidth: 1,\r\n  borderLeftWidth: 0,\r\n  backgroundColor: \"#325ea8\",\r\n  color: \"#fff\",\r\n  fontSize: \"10px\",\r\n};\r\n\r\nconst firstTableColStyle = {\r\n  width: \"20%\",\r\n  borderStyle: \"solid\",\r\n  borderColor: \"#000\",\r\n  borderWidth: 1,\r\n  borderTopWidth: 0,\r\n};\r\n\r\nconst tableColStyle = {\r\n  width: \"20%\",\r\n  borderStyle: \"solid\",\r\n  borderColor: \"#000\",\r\n  borderWidth: 1,\r\n  borderLeftWidth: 0,\r\n  borderTopWidth: 0,\r\n};\r\n\r\nconst tableCellHeaderStyle = {\r\n  textAlign: \"center\",\r\n  marginTop: 4,\r\n  fontWeight: \"bold\",\r\n  fontSize: \"10px\",\r\n};\r\nconst tableCellHeaderStyleUnit = {\r\n  textAlign: \"center\",\r\n  marginBottom: 4,\r\n  fontWeight: \"bold\",\r\n  fontSize: \"8px\",\r\n};\r\n\r\nconst tableCellStyle = {\r\n  textAlign: \"center\",\r\n  margin: 5,\r\n  fontSize: \"10px\",\r\n};\r\n\r\nexport default ProjectTableDocument;\r\n","import React from \"react\";\r\nimport { Text, View } from \"@react-pdf/renderer\";\r\nimport { toSiPrefix } from \"math\";\r\n\r\nconst RoomsTableDocument = (props) => {\r\n  const rooms = props.rooms;\r\n  const createTableHeader = () => {\r\n    return (\r\n      <View style={tableRowStyle} fixed>\r\n        <View style={firstTableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>ID</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Name</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Room temp</Text>\r\n          <Text style={tableCellHeaderStyleUnit}>[°C]</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Floor area</Text>\r\n          <Text style={tableCellHeaderStyleUnit}>[m²]</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Room volume</Text>\r\n          <Text style={tableCellHeaderStyleUnit}>[m³]</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Ventilation-loss</Text>\r\n          <Text style={tableCellHeaderStyleUnit}>[W]</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Transmission-loss</Text>\r\n          <Text style={tableCellHeaderStyleUnit}>[W]</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Specific heat loss</Text>\r\n          <Text style={tableCellHeaderStyleUnit}>[W/m²]</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Response capacity</Text>\r\n          <Text style={tableCellHeaderStyleUnit}>[W]</Text>\r\n        </View>\r\n\r\n        <View style={tableColHeaderStyle}>\r\n          <Text style={tableCellHeaderStyle}>Total heat loss</Text>\r\n          <Text style={tableCellHeaderStyleUnit}>[W]</Text>\r\n        </View>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  const createTableRows = () => {\r\n    return rooms.map((room, id) => {\r\n      return (\r\n        <View style={tableRowStyle} key={id}>\r\n          <View style={firstTableColStyle}>\r\n            <Text style={tableCellStyle}>{id}</Text>\r\n          </View>\r\n\r\n          <View style={tableColStyle}>\r\n            <Text style={tableCellStyle}>{room.name}</Text>\r\n          </View>\r\n\r\n          <View style={tableColStyle}>\r\n            <Text style={tableCellStyle}>{room.roomT}</Text>\r\n          </View>\r\n\r\n          <View style={tableColStyle}>\r\n            <Text style={tableCellStyle}>\r\n              {Number(toSiPrefix(room.area, undefined, \" \").value).toFixed(2)}\r\n            </Text>\r\n          </View>\r\n\r\n          <View style={tableColStyle}>\r\n            <Text style={tableCellStyle}>\r\n              {Number(\r\n                toSiPrefix(room.roomVolume, undefined, \" \").value\r\n              ).toFixed(2)}\r\n            </Text>\r\n          </View>\r\n\r\n          <View style={tableColStyle}>\r\n            <Text style={tableCellStyle}>\r\n              {Number(\r\n                toSiPrefix(room.venHeatLoss, undefined, \" \").value\r\n              ).toFixed(2)}\r\n            </Text>\r\n          </View>\r\n\r\n          <View style={tableColStyle}>\r\n            <Text style={tableCellStyle}>\r\n              {Number(\r\n                toSiPrefix(room.transmissionLoss, undefined, \" \").value\r\n              ).toFixed(2)}\r\n            </Text>\r\n          </View>\r\n\r\n          <View style={tableColStyle}>\r\n            <Text style={tableCellStyle}>\r\n              {Number(\r\n                toSiPrefix(room.specHeatLoss, undefined, \" \").value\r\n              ).toFixed(2)}\r\n            </Text>\r\n          </View>\r\n\r\n          <View style={tableColStyle}>\r\n            <Text style={tableCellStyle}>\r\n              {Number(\r\n                toSiPrefix(room.respCapacity || 0, undefined, \" \").value\r\n              ).toFixed(2)}\r\n            </Text>\r\n          </View>\r\n\r\n          <View style={tableColStyle}>\r\n            <Text style={tableCellStyle}>\r\n              {Number(\r\n                toSiPrefix(room.totalHeatLoss, undefined, \" \").value\r\n              ).toFixed(2)}\r\n            </Text>\r\n          </View>\r\n        </View>\r\n      );\r\n    });\r\n  };\r\n\r\n  const rows = createTableRows();\r\n\r\n  return (\r\n    <View style={tableStyle}>\r\n      {createTableHeader()}\r\n      {rows}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst tableStyle = {\r\n  display: \"table\",\r\n  width: \"auto\",\r\n};\r\n\r\nconst tableRowStyle = {\r\n  flexDirection: \"row\",\r\n};\r\n\r\nconst firstTableColHeaderStyle = {\r\n  width: \"20%\",\r\n  borderStyle: \"solid\",\r\n  borderColor: \"#000\",\r\n  borderBottomColor: \"#000\",\r\n  borderWidth: 1,\r\n  backgroundColor: \"#325ea8\",\r\n  color: \"#fff\",\r\n};\r\n\r\nconst tableColHeaderStyle = {\r\n  width: \"20%\",\r\n  borderStyle: \"solid\",\r\n  borderColor: \"#000\",\r\n  borderBottomColor: \"#000\",\r\n  borderWidth: 1,\r\n  borderLeftWidth: 0,\r\n  backgroundColor: \"#325ea8\",\r\n  color: \"#fff\",\r\n};\r\n\r\nconst firstTableColStyle = {\r\n  width: \"20%\",\r\n  borderStyle: \"solid\",\r\n  borderColor: \"#000\",\r\n  borderWidth: 1,\r\n  borderTopWidth: 0,\r\n};\r\n\r\nconst tableColStyle = {\r\n  width: \"20%\",\r\n  borderStyle: \"solid\",\r\n  borderColor: \"#000\",\r\n  borderWidth: 1,\r\n  borderLeftWidth: 0,\r\n  borderTopWidth: 0,\r\n};\r\n\r\nconst tableCellHeaderStyle = {\r\n  textAlign: \"center\",\r\n  marginTop: 4,\r\n  fontWeight: \"bold\",\r\n  fontSize: \"10px\",\r\n};\r\nconst tableCellHeaderStyleUnit = {\r\n  textAlign: \"center\",\r\n  marginBottom: 4,\r\n  fontWeight: \"bold\",\r\n  fontSize: \"8px\",\r\n};\r\n\r\nconst tableCellStyle = {\r\n  textAlign: \"center\",\r\n  margin: 5,\r\n  fontSize: \"8px\",\r\n};\r\n\r\nexport default RoomsTableDocument;\r\n","import React from \"react\";\r\nimport {\r\n  Page,\r\n  Text,\r\n  View,\r\n  Document,\r\n  StyleSheet,\r\n  Image,\r\n} from \"@react-pdf/renderer\";\r\nimport ReportChart1 from \"./charts/NewCharts/ReportChart1\";\r\nimport ReportChart2 from \"./charts/NewCharts/ReportChart2\";\r\nimport ReportChart3 from \"./charts/NewCharts/ReportChart3\";\r\nimport ProjectTableDocument from \"./pdfTable/ProjectTableDoc\";\r\nimport RoomsTableDocument from \"./pdfTable/RoomsTableDoc\";\r\nimport brandingImg from \"assets/images/brand.jpg\";\r\n\r\n// Create styles\r\nconst styles = StyleSheet.create({\r\n  document: {\r\n    paddingTop: \"2cm\",\r\n    paddingBottom: \"2cm\",\r\n  },\r\n  page: {\r\n    paddingLeft: \"2cm\",\r\n    paddingRight: \"1cm\",\r\n  },\r\n  section: {\r\n    margin: 15,\r\n    padding: 10,\r\n  },\r\n  sectionTitle: {\r\n    padding: 2,\r\n    fontSize: 18,\r\n    textAlign: \"center\",\r\n  },\r\n  brandingImg: {\r\n    height: 120,\r\n    width: \"100%\",\r\n  },\r\n});\r\n\r\n// Create Document Component\r\nconst ReportDoc = (props) => {\r\n  return (\r\n    <Document style={styles.document}>\r\n      <Page size=\"A4\" style={styles.page}>\r\n        <View wrap={false}>\r\n          <View wrap={false}>\r\n            <Image\r\n              style={styles.brandingImg}\r\n              alt=\"branding\"\r\n              src={brandingImg}\r\n            />\r\n          </View>\r\n        </View>\r\n        <View style={styles.section} wrap={false}>\r\n          <Text style={styles.sectionTitle}>Project table</Text>\r\n          <View>\r\n            <ProjectTableDocument project={props.project} />\r\n          </View>\r\n        </View>\r\n        <View style={styles.section} wrap={false}>\r\n          <Text style={styles.sectionTitle}>Rooms table</Text>\r\n          <View>\r\n            <RoomsTableDocument rooms={props.rooms} />\r\n          </View>\r\n        </View>\r\n        <View style={styles.section} wrap={false}>\r\n          <Text style={styles.sectionTitle}>Heat loss summary</Text>\r\n          <View>\r\n            <ReportChart1 project={props.project} />\r\n          </View>\r\n        </View>\r\n      </Page>\r\n      <Page size=\"A4\" style={styles.page}>\r\n        <View style={styles.section} wrap={false}>\r\n          <Text style={styles.sectionTitle}>Heat loss (building elements)</Text>\r\n          <View>\r\n            <ReportChart2 rooms={props.rooms} />\r\n          </View>\r\n        </View>\r\n        <View style={styles.section} wrap={false}>\r\n          <Text style={styles.sectionTitle}>Annual heating consumption</Text>\r\n          <View>\r\n            <ReportChart3 rooms={props.rooms} />\r\n          </View>\r\n        </View>\r\n      </Page>\r\n    </Document>\r\n  );\r\n};\r\n\r\nexport default ReportDoc;\r\n","export default \"data:image/jpeg;base64,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2a7Ri6MHadOkn2CQC0Olby0qUurJQObtW10NbssulWbA4mIJreWlby0prrbiMFrHeajzAffXn/1WYUyd81/epwQC2FwMabj0rcOlbh0pLuQST5WwociUrkivbQus9rTJaY9K3DpSBKZtw4QEAYwy5mtxpE5S3xvD4fVIgkvH663DpW4dKse1AfXRl1bMAA9cfnn3+KtaQcoAzE5q6mpbAxcqxMwcwbRzfQmO2pEqREkviPDClkd4/wAt7jAksY4RHF9+UWMzJK6o5o3LZJFOPB8MKsqTMga1HSDKB/aX/9oADAMBAAIAAwAAABDzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzy3u4Egg/Yonzzy9lGdpKmzPPzzy5ba9uu4//AO8889N888Oc888888888888888888888888888888888888888888888888888888888//EACcRAQABAwIFAwUAAAAAAAAAAAERACExQXFRYZGhwSDR8RBQYLHw/9oACAEDAQE/EPwIWZGY4kk9qBNgAEiGnIaWBQsDWKSHgNwECHkqE2HBlwMZlGJopNqYQuD+mlWEhkslHrASEwXXOuL0heLFBBSaoCIwNsXOno38XonxWwx6T8FO45uiS2JDah/FpITKNp2rZM9go14WIwhazHKmGWgEYBo7NMESr7UKsv8AVyqHtjRyKJHr6Oaw7R5oRCoEgOCXDq0WkyJdCZwRSBgO72KjRc0NrzMkYutACWGdB1zNEBJlJ0IunO9AFZklRJiePCvkHtUgGcWFVjHC3osDsS5Ij04V8wplLVbrL9Q7AEZaUbwiUAQE5dW8cfvX/8QAJBEBAAIBAQcFAAAAAAAAAAAAAQARIUEQIFFhkaGxMVBgcfD/2gAIAQIBAT8Q+BWA4QzX0l+9yeeCDbZYIbH3CodyFA1BS77xlbXcdQyf7SJqDMHivMwKCSOsBCuOy5TlusRYcXcVKMxlwYGDDWgXeqiWPCDe6TOlbJnC3dwc9gENNq7eYO8fvX//xAAoEAEAAgECBQQDAAMAAAAAAAABESEAMVEQQWFxwSChsfBwgZEw0fH/2gAIAQEAAT8Q/PvOp69A2MOHlrkySZHID5YM2VyARjszOk4tcRIr5EEg6y7rn0zzn0zzn0zzifgHCErgSqq2ynTAxQJZVaImZYnki8WZ/n/uz6Z5z6Z5xCMSeDnJCP6dkzmiGaDR+pzRFoJNTQLVXXQCs+mec+mec+mecl3BgLd1QEM3ERc+qxY/Yw8KbgW6X+05oAe5xhxSqQS3mOlsMhhcCeD5CTPcpUQfzk8mhvcPjlwTS7TknUeDyi0ADQezh8RA0m0JAVKTZwrdYxssB/Tg8DoODBGgLFrpw+Xd+hEHQL+soObLafXcfsMJuH+TlF4ZIHYkzdJ98UhNP+3EuycKJPIRnc895c0mWqi9Oe83guCHJFphD7gec5a99oTBnyUuqwYQ8EHQIPjhAbMibIPtim+f7R+sgN0N2B8srKTsc4dy8lzEoI10osVo5cJ7UMCQTOSEd9AUPUEMpOLXeMkDMEXQB7BhsWOoiSDTfwnocjIm0qSbBBOVFIsdE32y2YT+ufAWilBRwW0NHGfPBO2sHWFhKE32yQjW3YT4eu6eU9/CYSYB2APbA1RExnAbAoYlsdBjjgyZAqWAB1EB1UMcVhYhSPMFB5xj5Uu20gQg2rHhkVBhKsRwGsKgJNnTRRQDcwZpZ0zZm6ZEObDnjAOgAj14smR2yScrgh1uxAzFaFbU1H1xKzTbTnr3PiiSM2zW2mf8fhnN2tHvCRqOXqL9uB3BsTaJdcsVFEQCEkTMSd+ErFBdSvuv+V+h3ANBGihzTM1n2Tzn2TziEIjExIecBl09QDCzAoYQkzo59k84AlYefuQJdJRGsOmFIMLQUB+gPyl//9k=\"","import { saveAs } from \"file-saver\";\r\nimport { pdf } from \"@react-pdf/renderer\";\r\nimport ReportDoc from \"./ReportDocument\";\r\n\r\nconst generatePdfDocument = async (project, rooms, setLoading) => {\r\n  setLoading(true);\r\n  const blob = await pdf(\r\n    <ReportDoc title=\"My PDF\" project={project} rooms={rooms} />\r\n  ).toBlob();\r\n  saveAs(blob, \"report.pdf\");\r\n  setLoading(false);\r\n};\r\n\r\nexport default generatePdfDocument;\r\n","import React from \"react\";\r\nimport InfoTable from \"../../../common/heatLossCalcCommon/InfoTable/InfoTable\";\r\nimport { getTableData } from \"./functions/getTableData\";\r\n\r\nconst ProjectInfoTable = (props) => {\r\n  const { project, setModalOpen } = props;\r\n  const tableData = getTableData(project);\r\n\r\n  return (\r\n    <InfoTable\r\n      name={project.name}\r\n      isEditable={true}\r\n      tableData={tableData}\r\n      setModalOpen={setModalOpen}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProjectInfoTable;\r\n","import { toSiPrefix } from \"../../../../../math\";\r\n\r\nexport const getTableData = (state) => {\r\n  return [\r\n    {\r\n      name: \"Temp outside\",\r\n      value: state.outsideT,\r\n      unit: \"°С\",\r\n    },\r\n    {\r\n      name: \"Ground temp\",\r\n      value: state.groundT,\r\n      unit: \"°С\",\r\n    },\r\n    {\r\n      name: \"Degree-days\",\r\n      value: state.dDays,\r\n      unit: \"\",\r\n    },\r\n    {\r\n      name: \"Total floor area\",\r\n      value: state.totalFloorArea,\r\n      prefData: toSiPrefix(state.totalFloorArea, undefined, \" \"),\r\n      unit: \"m²\",\r\n    },\r\n    {\r\n      name: \"Annual heating consumption\",\r\n      value: state.yearlyHeat,\r\n      prefData: toSiPrefix(state.yearlyHeat, 0, \"k\"),\r\n      unit: \"Wh\",\r\n    },\r\n    {\r\n      name: \"Height correction\",\r\n      value: state.ceilingHeatLoss,\r\n      prefData: toSiPrefix(state.ceilingHeatLoss, undefined, \" \"),\r\n      unit: \"W\",\r\n    },\r\n    {\r\n      name: \"Ventilation-loss\",\r\n      value: state.venHeatLoss,\r\n      prefData: toSiPrefix(state.venHeatLoss, undefined, \" \"),\r\n      unit: \"W\",\r\n    },\r\n    {\r\n      name: \"Transmission-loss\",\r\n      value: state.transmissionLoss,\r\n      prefData: toSiPrefix(state.transmissionLoss, undefined, \" \"),\r\n      unit: \"W\",\r\n    },\r\n    {\r\n      name: \"Total-heat-loss\",\r\n      value: state.totalHeatLoss,\r\n      prefData: toSiPrefix(state.totalHeatLoss, undefined, \" \"),\r\n      unit: \"W\",\r\n    },\r\n    {\r\n      name: \"Specific heat loss\",\r\n      value: state.specHeatLoss,\r\n      prefData: toSiPrefix(state.specHeatLoss, undefined, \" \"),\r\n      unit: \"W/m²\",\r\n    },\r\n    {\r\n      name: \"Thermal bridges\",\r\n      value: state.buildingType,\r\n      prefData: toSiPrefix(state.buildingType, undefined, \" \"),\r\n      unit: \"W/m²K\",\r\n    },\r\n  ];\r\n};\r\n","import ItemTable from \"components/common/heatLossCalcCommon/ItemTable/ItemTable\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getTableData } from \"./functions/getTableData\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\nimport {\r\n  calculate_item_data,\r\n  calculate_room_data,\r\n  calculate_wallItem_data,\r\n} from \"redux/store/rooms/actions\";\r\n\r\nconst RoomItemTable = (props) => {\r\n  const { editRoom, idx, removeRoom, room, outsideT, buildingType } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const goToRoomInfoTable = () => {\r\n    props.history.push(`/main/mat-app/room/${room.id}`);\r\n  };\r\n\r\n  const calculateRoom = () => {\r\n    const currDeltaT = room.roomT - outsideT;\r\n\r\n    const calcRoomData = {\r\n      roomT: room.roomT,\r\n      outsideT: outsideT,\r\n    };\r\n\r\n    const calcRoomBuildingData = {\r\n      deltaT: currDeltaT,\r\n      buildingTypeValue: buildingType,\r\n    };\r\n\r\n    room.items.forEach((wall, wallId) => {\r\n      dispatch(calculate_item_data(idx, wallId, calcRoomBuildingData));\r\n      wall.items.forEach((el, wallItemId) => {\r\n        dispatch(\r\n          calculate_wallItem_data(idx, wallId, wallItemId, calcRoomBuildingData)\r\n        );\r\n      });\r\n    });\r\n    dispatch(calculate_room_data(idx, calcRoomData));\r\n  };\r\n\r\n  useEffect(() => {\r\n    calculateRoom();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    calculateRoom();\r\n  }, [\r\n    outsideT,\r\n    room.width,\r\n    room[\"length\"],\r\n    room.height,\r\n    room.airExRate,\r\n    room.roomT,\r\n    room.heatingPover,\r\n  ]);\r\n\r\n  const deleteRoomItemTable = () => {\r\n    if (window.confirm(`Do you want to delete ${room.name}?`)) {\r\n      let card = document.getElementById(room.id);\r\n      card.classList.add(\"flip-out-diag-2-br\");\r\n      setTimeout(() => {\r\n        dispatch(removeRoom(room.id));\r\n      }, 600);\r\n    }\r\n  };\r\n\r\n  const editRoomItemTable = () => {\r\n    editRoom(room);\r\n  };\r\n\r\n  const tableData = getTableData(room);\r\n\r\n  return (\r\n    <ItemTable\r\n      tableId={room.id}\r\n      tableName={room.name}\r\n      goToInfoTable={goToRoomInfoTable}\r\n      deleteTable={deleteRoomItemTable}\r\n      hasInfoTable={true}\r\n      editTable={editRoomItemTable}\r\n      tableData={tableData}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(RoomItemTable);\r\n","import { toSiPrefix } from \"../../../../../math\";\r\n\r\nexport const getTableData = (state) => {\r\n  if (state.type === \"Simple room\") {\r\n    return [\r\n      {\r\n        name: \"Name\",\r\n        value: state.name,\r\n        unit: \"\",\r\n      },\r\n      {\r\n        name: \"Type\",\r\n        value: state.type,\r\n        unit: \"\",\r\n      },\r\n      {\r\n        name: \"Width\",\r\n        value: state.width,\r\n        prefData: toSiPrefix(state.width, undefined, \" \"),\r\n        unit: \"m\",\r\n      },\r\n      {\r\n        name: \"Length\",\r\n        value: state[\"length\"],\r\n        prefData: toSiPrefix(state[\"length\"], undefined, \" \"),\r\n        unit: \"m\",\r\n      },\r\n      {\r\n        name: \"Height\",\r\n        value: state.height,\r\n        prefData: toSiPrefix(state.height, undefined, \" \"),\r\n        unit: \"m\",\r\n      },\r\n      {\r\n        name: \"Room temp\",\r\n        value: state.roomT,\r\n        unit: \"°С\",\r\n      },\r\n      {\r\n        name: \"Room volume\",\r\n        value: state.roomVolume,\r\n        prefData: toSiPrefix(state.roomVolume, undefined, \" \"),\r\n        unit: \"m³\",\r\n      },\r\n      {\r\n        name: \"Room floor area\",\r\n        value: state.area,\r\n        prefData: toSiPrefix(state.area, undefined, \" \"),\r\n        unit: \"m²\",\r\n      },\r\n      {\r\n        name: \"Exchange-rate\",\r\n        value: state.airExRate,\r\n        prefData: toSiPrefix(state.airExRate, undefined, \" \"),\r\n        unit: \"AC/h\",\r\n      },\r\n      {\r\n        name: \"Annual heating consumption\",\r\n        value: state.yearlyHeat,\r\n        prefData: toSiPrefix(state.yearlyHeat, 0, \"k\"),\r\n        unit: \"Wh\",\r\n      },\r\n      {\r\n        name: \"Height correction\",\r\n        value: state.ceilingHeatLoss,\r\n        prefData: toSiPrefix(state.ceilingHeatLoss, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n      {\r\n        name: \"Ventilation-loss\",\r\n        value: state.venHeatLoss,\r\n        prefData: toSiPrefix(state.venHeatLoss, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n      {\r\n        name: \"Transmission-loss\",\r\n        value: state.transmissionLoss,\r\n        prefData: toSiPrefix(state.transmissionLoss, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n      {\r\n        name: \"Specific heat loss\",\r\n        value: state.specHeatLoss,\r\n        prefData: toSiPrefix(state.specHeatLoss, undefined, \" \"),\r\n        unit: \"W/m²\",\r\n      },\r\n      {\r\n        name: \"Total-heat-loss\",\r\n        value: state.totalHeatLoss,\r\n        prefData: toSiPrefix(state.totalHeatLoss, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n      {\r\n        name: \"Reheat Power\",\r\n        value: state.reheatPover,\r\n        prefData: toSiPrefix(state.reheatPover, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n    ];\r\n  }\r\n\r\n  if (state.type === \"Complex shaped room\") {\r\n    return [\r\n      {\r\n        name: \"Name\",\r\n        value: state.name,\r\n        unit: \"\",\r\n      },\r\n      {\r\n        name: \"Type\",\r\n        value: state.type,\r\n        unit: \"\",\r\n      },\r\n      {\r\n        name: \"Height\",\r\n        value: state.height,\r\n        prefData: toSiPrefix(state.height, undefined, \" \"),\r\n        unit: \"m\",\r\n      },\r\n      {\r\n        name: \"Room temp\",\r\n        value: state.roomT,\r\n        unit: \"°С\",\r\n      },\r\n      {\r\n        name: \"Room volume\",\r\n        value: state.roomVolume,\r\n        prefData: toSiPrefix(state.roomVolume, undefined, \" \"),\r\n        unit: \"m³\",\r\n      },\r\n      {\r\n        name: \"Room floor area\",\r\n        value: state.area,\r\n        prefData: toSiPrefix(state.area, undefined, \" \"),\r\n        unit: \"m²\",\r\n      },\r\n      {\r\n        name: \"Exchange-rate\",\r\n        value: state.airExRate,\r\n        prefData: toSiPrefix(state.airExRate, undefined, \" \"),\r\n        unit: \"AC/h\",\r\n      },\r\n      {\r\n        name: \"Annual heating consumption\",\r\n        value: state.yearlyHeat,\r\n        prefData: toSiPrefix(state.yearlyHeat, 0, \"k\"),\r\n        unit: \"Wh\",\r\n      },\r\n      {\r\n        name: \"Height correction\",\r\n        value: state.ceilingHeatLoss,\r\n        prefData: toSiPrefix(state.ceilingHeatLoss, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n      {\r\n        name: \"Ventilation-loss\",\r\n        value: state.venHeatLoss,\r\n        prefData: toSiPrefix(state.venHeatLoss, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n      {\r\n        name: \"Transmission-loss\",\r\n        value: state.transmissionLoss,\r\n        prefData: toSiPrefix(state.transmissionLoss, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n\r\n      {\r\n        name: \"Specific heat loss\",\r\n        value: state.specHeatLoss,\r\n        prefData: toSiPrefix(state.specHeatLoss, undefined, \" \"),\r\n        unit: \"W/m²\",\r\n      },\r\n\r\n      {\r\n        name: \"Total-heat-loss\",\r\n        value: state.totalHeatLoss,\r\n        prefData: toSiPrefix(state.totalHeatLoss, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n      {\r\n        name: \"Reheat Power\",\r\n        value: state.reheatPover,\r\n        prefData: toSiPrefix(state.reheatPover, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n    ];\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Col } from \"react-bootstrap\";\r\nimport { delete_room_action } from \"redux/store/rooms/actions\";\r\nimport RoomItemTable from \"../RoomItemTable/RoomItemTable\";\r\n\r\nconst RoomItemTables = (props) => {\r\n  const { rooms, buildingType, outsideT, editRoom } = props;\r\n  const roomsUi = rooms.map((room, id) => {\r\n    return (\r\n      <Col xl={4} xs={12} lg={6} md={12} sm={12} key={id} className=\"mt-5\">\r\n        <RoomItemTable\r\n          buildingType={buildingType}\r\n          outsideT={outsideT}\r\n          editRoom={editRoom}\r\n          idx={id}\r\n          removeRoom={delete_room_action}\r\n          room={room}\r\n        />\r\n      </Col>\r\n    );\r\n  });\r\n  return <div>{roomsUi}</div>;\r\n};\r\n\r\nexport default RoomItemTables;\r\n","import { Modal } from \"react-bootstrap\";\r\n\r\nconst ModalWindow = (props) => {\r\n  const {\r\n    modalBodyContent,\r\n    handleSubmit,\r\n    editStateTitle,\r\n    normalStateTitle,\r\n    isEdit,\r\n    show,\r\n    onHide,\r\n  } = props;\r\n\r\n  const title = isEdit ? editStateTitle : normalStateTitle;\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      className=\"modal-window modal-window_wall\"\r\n      onHide={onHide}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">{title}</Modal.Title>\r\n      </Modal.Header>\r\n      <form>\r\n        <Modal.Body>{modalBodyContent}</Modal.Body>\r\n        <Modal.Footer>\r\n          <button\r\n            className=\"button button_close\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              onHide();\r\n            }}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            className=\"button button_confrim\"\r\n            type=\"submit\"\r\n            onClick={handleSubmit}\r\n          >\r\n            Save\r\n          </button>\r\n        </Modal.Footer>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ModalWindow;\r\n","export const reheatData = {\r\n  0: {\r\n    low: {\r\n      low: {\r\n        0.5: 0,\r\n        1: 0,\r\n        2: 0,\r\n        3: 0,\r\n        4: 0,\r\n        6: 0,\r\n        12: 0,\r\n      },\r\n      high: {\r\n        0.5: 0,\r\n        1: 0,\r\n        2: 0,\r\n        3: 0,\r\n        4: 0,\r\n        6: 0,\r\n        12: 0,\r\n      },\r\n    },\r\n    high: {\r\n      low: {\r\n        0.5: 0,\r\n        1: 0,\r\n        2: 0,\r\n        3: 0,\r\n        4: 0,\r\n        6: 0,\r\n        12: 0,\r\n      },\r\n      high: {\r\n        0.5: 0,\r\n        1: 0,\r\n        2: 0,\r\n        3: 0,\r\n        4: 0,\r\n        6: 0,\r\n        12: 0,\r\n      },\r\n    },\r\n  },\r\n  8: {\r\n    low: {\r\n      low: {\r\n        0.5: 63,\r\n        1: 34,\r\n        2: 14,\r\n        3: 5,\r\n        4: 0,\r\n        6: 0,\r\n        12: 0,\r\n      },\r\n      high: {\r\n        0.5: 16,\r\n        1: 10,\r\n        2: 3,\r\n        3: 0,\r\n        4: 0,\r\n        6: 0,\r\n        12: 0,\r\n      },\r\n    },\r\n    high: {\r\n      low: {\r\n        0.5: 74,\r\n        1: 43,\r\n        2: 21,\r\n        3: 10,\r\n        4: 3,\r\n        6: 0,\r\n        12: 0,\r\n      },\r\n      high: {\r\n        0.5: 26,\r\n        1: 16,\r\n        2: 8,\r\n        3: 2,\r\n        4: 0,\r\n        6: 0,\r\n        12: 0,\r\n      },\r\n    },\r\n  },\r\n  11: {\r\n    low: {\r\n      low: {\r\n        0.5: 76,\r\n        1: 42,\r\n        2: 21,\r\n        3: 11,\r\n        4: 6,\r\n        6: 2,\r\n        12: 0,\r\n      },\r\n      high: {\r\n        0.5: 27,\r\n        1: 20,\r\n        2: 11,\r\n        3: 6,\r\n        4: 4,\r\n        6: 1,\r\n        12: 0,\r\n      },\r\n    },\r\n    high: {\r\n      low: {\r\n        0.5: 83,\r\n        1: 47,\r\n        2: 25,\r\n        3: 14,\r\n        4: 8,\r\n        6: 3,\r\n        12: 0,\r\n      },\r\n      high: {\r\n        0.5: 41,\r\n        1: 30,\r\n        2: 19,\r\n        3: 12,\r\n        4: 8,\r\n        6: 3,\r\n        12: 0,\r\n      },\r\n    },\r\n  },\r\n  14: {\r\n    low: {\r\n      low: {\r\n        0.5: 88,\r\n        1: 50,\r\n        2: 28,\r\n        3: 17,\r\n        4: 11,\r\n        6: 3,\r\n        12: 0,\r\n      },\r\n      high: {\r\n        0.5: 38,\r\n        1: 29,\r\n        2: 18,\r\n        3: 12,\r\n        4: 7,\r\n        6: 1,\r\n        12: 0,\r\n      },\r\n    },\r\n    high: {\r\n      low: {\r\n        0.5: 91,\r\n        1: 50,\r\n        2: 28,\r\n        3: 18,\r\n        4: 12,\r\n        6: 5,\r\n        12: 0,\r\n      },\r\n      high: {\r\n        0.5: 56,\r\n        1: 43,\r\n        2: 29,\r\n        3: 21,\r\n        4: 15,\r\n        6: 5,\r\n        12: 0,\r\n      },\r\n    },\r\n  },\r\n  62: {\r\n    low: {\r\n      low: {\r\n        0.5: 92,\r\n        1: 55,\r\n        2: 32,\r\n        3: 23,\r\n        4: 17,\r\n        6: 10,\r\n        12: 2,\r\n      },\r\n      high: {\r\n        0.5: 101,\r\n        1: 100,\r\n        2: 86,\r\n        3: 73,\r\n        4: 64,\r\n        6: 52,\r\n        12: 31,\r\n      },\r\n    },\r\n    high: {\r\n      low: {\r\n        0.5: 92,\r\n        1: 55,\r\n        2: 32,\r\n        3: 22,\r\n        4: 17,\r\n        6: 10,\r\n        12: 2,\r\n      },\r\n      high: {\r\n        0.5: 101,\r\n        1: 101,\r\n        2: 101,\r\n        3: 94,\r\n        4: 84,\r\n        6: 70,\r\n        12: 45,\r\n      },\r\n    },\r\n  },\r\n  168: {\r\n    \"-\": {\r\n      low: {\r\n        0.5: 92,\r\n        1: 55,\r\n        2: 32,\r\n        3: 22,\r\n        4: 17,\r\n        6: 10,\r\n        12: 2,\r\n      },\r\n      high: {\r\n        0.5: 101,\r\n        1: 101,\r\n        2: 101,\r\n        3: 101,\r\n        4: 95,\r\n        6: 81,\r\n        12: 57,\r\n      },\r\n    },\r\n  },\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect } from \"react\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport { getFormData } from \"./functions/getFormData\";\r\nimport { getFormUi } from \"./functions/getFormUi\";\r\nimport { reheatData } from \"./functions/reheatData\"\r\n\r\nconst RoomModalForm = (props) => {\r\n  const { values, handleChange, heatPower, setheatPower } = props;\r\n\r\n  const reheatLabels = {\r\n    reheatTime: values.reheatTime,\r\n    disusePeriod: values.disusePeriod,\r\n    bAir: values.bAir,\r\n    bMass: values.bMass,\r\n  };\r\n\r\n  const calculateHeating = (reheatObj, labels) => {\r\n    if (Number(labels.disusePeriod) === 168) {\r\n      labels.bAir = \"-\";\r\n    }\r\n\r\n    return reheatObj[labels.disusePeriod][labels.bAir][labels.bMass][\r\n      labels.reheatTime\r\n    ];\r\n  };\r\n\r\n  //useEffect for calculate heating when component mount\r\n  useEffect(() => {\r\n    setheatPower(calculateHeating(reheatData, reheatLabels));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  //useEffect for calculate heating when data changes\r\n  useEffect(() => {\r\n    setheatPower(calculateHeating(reheatData, reheatLabels));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [values.reheatTime, values.disusePeriod, values.bAir, values.bMass]);\r\n\r\n  //get form data and create UI\r\n  const formData = getFormData(values);\r\n  const formUi = getFormUi(formData, handleChange, heatPower);\r\n\r\n  return (\r\n    <>\r\n      <Row>{formUi}</Row>\r\n      <Row>\r\n        <Col sm={12} className=\"card__label\">\r\n          {\"Specific heating-up power\"}:{\"   \"}\r\n          {heatPower}\r\n          {\"  [W/m²]\"}\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RoomModalForm;\r\n","export const getFormData = (state) => {\r\n  if (state.type === \"Simple room\") {\r\n    return [\r\n      {\r\n        type: \"text\",\r\n        placeholder: \"Name\",\r\n        value: state.name,\r\n        name: \"name\",\r\n      },\r\n      {\r\n        type: \"select\",\r\n        placeholder: \"Room type\",\r\n        value: state.type,\r\n        name: \"type\",\r\n        options: [\r\n          {\r\n            name: \"Simple room\",\r\n            value: \"Simple room\",\r\n          },\r\n          {\r\n            name: \"Complex shaped room\",\r\n            value: \"Complex shaped room\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        type: \"number\",\r\n        subType: \"number\",\r\n        placeholder: \"Room temperature [°С]\",\r\n        value: state.roomT,\r\n        name: \"roomT\",\r\n        step: 0.1,\r\n      },\r\n      {\r\n        type: \"number\",\r\n        subType: \"number\",\r\n        placeholder: \"Air exchange rate [AC/h]\",\r\n        value: state.airExRate,\r\n        name: \"airExRate\",\r\n        step: 0.1,\r\n      },\r\n      {\r\n        type: \"number\",\r\n        subType: \"number\",\r\n        placeholder: \"Width [m]\",\r\n        value: state.width,\r\n        name: \"width\",\r\n        step: 0.1,\r\n      },\r\n      {\r\n        type: \"number\",\r\n        subType: \"number\",\r\n        placeholder: \"Height [m]\",\r\n        value: state.height,\r\n        name: \"height\",\r\n        step: 0.1,\r\n      },\r\n      {\r\n        type: \"number\",\r\n        subType: \"number\",\r\n        placeholder: \"Length [m]\",\r\n        value: state[\"length\"],\r\n        name: \"length\",\r\n        step: 0.1,\r\n      },\r\n      {\r\n        type: \"response capacity divider\",\r\n      },\r\n      {\r\n        type: \"select\",\r\n        placeholder: \"Period of disuse [h]\",\r\n        value: state.disusePeriod,\r\n        name: \"disusePeriod\",\r\n        options: [\r\n          {\r\n            name: \"No additional response capacity\",\r\n            value: \"0\",\r\n          },\r\n          {\r\n            name: \"8 hours\",\r\n            value: \"8\",\r\n          },\r\n          {\r\n            name: \"11 hours\",\r\n            value: \"11\",\r\n          },\r\n          {\r\n            name: \"14 hours\",\r\n            value: \"14\",\r\n          },\r\n          {\r\n            name: \"weekend setback (62 hours)\",\r\n            value: \"62\",\r\n          },\r\n          {\r\n            name: \"vacation period (168 hours)\",\r\n            value: \"168\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        type: \"select\",\r\n        placeholder: \"Building air permeability\",\r\n        value: state.bAir,\r\n        name: \"bAir\",\r\n        options: (function () {\r\n          if (Number(state.disusePeriod) === 168) {\r\n            return [\r\n              {\r\n                name: \"-\",\r\n                value: \"-\",\r\n              },\r\n            ];\r\n          } else {\r\n            return [\r\n              {\r\n                name: \"low\",\r\n                value: \"low\",\r\n              },\r\n              {\r\n                name: \"high\",\r\n                value: \"high\",\r\n              },\r\n            ];\r\n          }\r\n        })(),\r\n      },\r\n      {\r\n        type: \"select\",\r\n        placeholder: \"Building mass\",\r\n        value: state.bMass,\r\n        name: \"bMass\",\r\n        options: [\r\n          {\r\n            name: \"low\",\r\n            value: \"low\",\r\n          },\r\n          {\r\n            name: \"high\",\r\n            value: \"high\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        type: \"select\",\r\n        placeholder: \"Reheat time [h]\",\r\n        value: state.reheatTime,\r\n        name: \"reheatTime\",\r\n        options: [\r\n          {\r\n            name: \"0.5\",\r\n            value: \"0.5\",\r\n          },\r\n          {\r\n            name: \"1\",\r\n            value: \"1\",\r\n          },\r\n          {\r\n            name: \"2\",\r\n            value: \"2\",\r\n          },\r\n          {\r\n            name: \"3\",\r\n            value: \"3\",\r\n          },\r\n          {\r\n            name: \"4\",\r\n            value: \"4\",\r\n          },\r\n          {\r\n            name: \"6\",\r\n            value: \"6\",\r\n          },\r\n          {\r\n            name: \"12\",\r\n            value: \"12\",\r\n          },\r\n        ],\r\n      },\r\n    ];\r\n  } else if (state.type === \"Complex shaped room\") {\r\n    return [\r\n      {\r\n        type: \"text\",\r\n        placeholder: \"Name\",\r\n        value: state.name,\r\n        name: \"name\",\r\n      },\r\n      {\r\n        type: \"select\",\r\n        placeholder: \"Room type\",\r\n        value: state.type,\r\n        name: \"type\",\r\n        options: [\r\n          {\r\n            name: \"Simple room\",\r\n            value: \"Simple room\",\r\n          },\r\n          {\r\n            name: \"Complex shaped room\",\r\n            value: \"Complex shaped room\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        type: \"number\",\r\n        subType: \"number\",\r\n        placeholder: \"Room temperature [°С]\",\r\n        value: state.roomT,\r\n        name: \"roomT\",\r\n        step: 0.1,\r\n      },\r\n      {\r\n        type: \"number\",\r\n        subType: \"number\",\r\n        placeholder: \"Air exchange rate [AC/h]\",\r\n        value: state.airExRate,\r\n        name: \"airExRate\",\r\n        step: 0.1,\r\n      },\r\n      {\r\n        type: \"number\",\r\n        subType: \"number\",\r\n        placeholder: \"Area [m²]\",\r\n        value: state.area,\r\n        name: \"area\",\r\n        step: 0.1,\r\n      },\r\n      {\r\n        type: \"number\",\r\n        subType: \"number\",\r\n        placeholder: \"Height [m]\",\r\n        value: state.height,\r\n        name: \"height\",\r\n        step: 0.1,\r\n      },\r\n      {\r\n        type: \"select\",\r\n        placeholder: \"Period of disuse [h]\",\r\n        value: state.disusePeriod,\r\n        name: \"disusePeriod\",\r\n        options: [\r\n          {\r\n            name: \"No additional response capacity\",\r\n            value: \"0\",\r\n          },\r\n          {\r\n            name: \"8 hours\",\r\n            value: \"8\",\r\n          },\r\n          {\r\n            name: \"11 hours\",\r\n            value: \"11\",\r\n          },\r\n          {\r\n            name: \"14 hours\",\r\n            value: \"14\",\r\n          },\r\n          {\r\n            name: \"weekend setback (62 hours)\",\r\n            value: \"62\",\r\n          },\r\n          {\r\n            name: \"vacation period (168 hours)\",\r\n            value: \"168\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        type: \"select\",\r\n        placeholder: \"Building air permeability\",\r\n        value: state.bAir,\r\n        name: \"bAir\",\r\n        options: (function () {\r\n          if (Number(state.disusePeriod) === 168) {\r\n            return [\r\n              {\r\n                name: \"-\",\r\n                value: \"-\",\r\n              },\r\n            ];\r\n          } else {\r\n            return [\r\n              {\r\n                name: \"low\",\r\n                value: \"low\",\r\n              },\r\n              {\r\n                name: \"high\",\r\n                value: \"high\",\r\n              },\r\n            ];\r\n          }\r\n        })(),\r\n      },\r\n      {\r\n        type: \"select\",\r\n        placeholder: \"Building mass\",\r\n        value: state.bMass,\r\n        name: \"bMass\",\r\n        options: [\r\n          {\r\n            name: \"low\",\r\n            value: \"low\",\r\n          },\r\n          {\r\n            name: \"high\",\r\n            value: \"high\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        type: \"select\",\r\n        placeholder: \"Reheat time [h]\",\r\n        value: state.reheatTime,\r\n        name: \"reheatTime\",\r\n        options: [\r\n          {\r\n            name: \"0.5\",\r\n            value: \"0.5\",\r\n          },\r\n          {\r\n            name: \"1\",\r\n            value: \"1\",\r\n          },\r\n          {\r\n            name: \"2\",\r\n            value: \"2\",\r\n          },\r\n          {\r\n            name: \"3\",\r\n            value: \"3\",\r\n          },\r\n          {\r\n            name: \"4\",\r\n            value: \"4\",\r\n          },\r\n          {\r\n            name: \"6\",\r\n            value: \"6\",\r\n          },\r\n          {\r\n            name: \"12\",\r\n            value: \"12\",\r\n          },\r\n        ],\r\n      },\r\n    ];\r\n  }\r\n};\r\n","import { Form, Col, Row } from \"react-bootstrap\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n//style={{ visibility: \"hidden\" }}\r\nexport const getFormUi = (data, handlerChange, heatPower) => {\r\n  return data.map((el, id) => {\r\n    if (el.type === \"select\") {\r\n      const options = el.options.map((el, id) => {\r\n        return (\r\n          <option value={el.value} key={id}>\r\n            {el.name}\r\n          </option>\r\n        );\r\n      });\r\n      if (\r\n        el.name === \"bAir\" ||\r\n        el.name === \"bMass\" ||\r\n        el.name === \"reheatTime\"\r\n      ) {\r\n        const respCapSelectClass = heatPower === 0 ? \"hidden\" : \"\";\r\n        return (\r\n          <Col sm={6} key={id}>\r\n            <Form.Group className={respCapSelectClass} style={{transition: \"opacity 0.3s linear\"}}>\r\n              <Form.Label>{el.placeholder}</Form.Label>\r\n              <Form.Control\r\n                as={el.type}\r\n                size=\"sm\"\r\n                name={el.name}\r\n                value={el.value}\r\n                onChange={handlerChange}\r\n              >\r\n                {options}\r\n              </Form.Control>\r\n            </Form.Group>\r\n          </Col>\r\n        );\r\n      } else {\r\n        return (\r\n          <Col sm={6} key={id}>\r\n            <Form.Group>\r\n              <Form.Label>{el.placeholder}</Form.Label>\r\n              <Form.Control\r\n                as={el.type}\r\n                size=\"sm\"\r\n                name={el.name}\r\n                value={el.value}\r\n                onChange={handlerChange}\r\n              >\r\n                {options}\r\n              </Form.Control>\r\n            </Form.Group>\r\n          </Col>\r\n        );\r\n      }\r\n      \r\n      \r\n    } else if (el.type === \"response capacity divider\") {\r\n      return (\r\n        <Col\r\n          sm={12}\r\n          key={id}\r\n          style={{\r\n            marginBottom: \"10px\",\r\n            textAlign: \"end\",\r\n            fontSize: \"20px\",\r\n            fontWeight: 700,\r\n          }}\r\n        >\r\n          Response capacity\r\n          <Divider style={{ backgroundColor: \"#002171\", height: \"2px\" }} />\r\n        </Col>\r\n      );\r\n    } else if (el.type === \"number\") {\r\n      return (\r\n        <Col sm={6} key={id}>\r\n          <Form.Group>\r\n            <Form.Label>{el.placeholder}</Form.Label>\r\n            <Form.Control\r\n              required\r\n              aria-describedby=\"inputGroupPrepend\"\r\n              subtype={el.subType}\r\n              size=\"sm\"\r\n              type={el.type}\r\n              step={el.step}\r\n              placeholder={el.placeholder}\r\n              value={el.value}\r\n              name={el.name}\r\n              onChange={handlerChange}\r\n            />\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              Please enter data\r\n            </Form.Control.Feedback>\r\n          </Form.Group>\r\n        </Col>\r\n      );\r\n    } else if (el.name === \"heatingPover\") {\r\n      return (\r\n        <Col sm={el.col} className=\"\" key={id}>\r\n          <Row className={el.class}>\r\n            <Col sm={el.colN} className=\"card__label\">\r\n              {el.placeholder}:{\"   \"}\r\n              {el.value}\r\n              {\"  [W/m²]\"}\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      );\r\n    } else {\r\n      return (\r\n        <Col sm={6} key={id}>\r\n          <Form.Group>\r\n            <Form.Label>{el.placeholder}</Form.Label>\r\n            <Form.Control\r\n              required\r\n              size=\"sm\"\r\n              aria-describedby=\"inputGroupPrepend\"\r\n              subtype={el.subType}\r\n              type={el.type}\r\n              placeholder={el.placeholder}\r\n              value={el.value}\r\n              name={el.name}\r\n              onChange={handlerChange}\r\n            />\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              Please enter data\r\n            </Form.Control.Feedback>\r\n          </Form.Group>\r\n        </Col>\r\n      );\r\n    }\r\n  });\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport ModalWindow from \"../../../common/heatLossCalcCommon/ModalWindow/ModalWindow\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useFormik } from \"formik\";\r\nimport { getInitialFormValues } from \"./functions/getInitialFormValues\";\r\nimport RoomModalForm from \"./RoomModalForm\";\r\nimport { getRoomData } from \"./functions/getRoomData\";\r\nimport { add_room_action, edit_room_action } from \"redux/store/rooms/actions\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst RoomModalWindow = (props) => {\r\n  const { isEdit, show, onHide, editedRoom } = props;\r\n  const dispatch = useDispatch();\r\n  const editStateTitle = `Edit room ${editedRoom.name}`;\r\n  const normalStateTitle = \"Add a new room\";\r\n\r\n  // state for Value - heating power\r\n  const [heatPower, setheatPower] = useState(0);\r\n\r\n  const { handleSubmit, handleChange, values, resetForm, setValues } =\r\n    useFormik({\r\n      initialValues: getInitialFormValues(),\r\n\r\n      onSubmit: (values) => {\r\n        const roomData = getRoomData(values, heatPower);\r\n        console.log(roomData);\r\n        isEdit\r\n          ? dispatch(edit_room_action(editedRoom.id, roomData))\r\n          : dispatch(add_room_action(roomData));\r\n        onHide();\r\n      },\r\n    });\r\n\r\n  useEffect(() => {\r\n    if (!show) {\r\n      setTimeout(() => {\r\n        resetForm();\r\n      }, 300);\r\n    }\r\n  }, [show, resetForm]);\r\n\r\n  useEffect(() => {\r\n    if (isEdit) {\r\n      let choosedRoomData = {};\r\n      if (editedRoom.type === \"Simple room\") {\r\n        choosedRoomData = {\r\n          name: editedRoom.name,\r\n          type: editedRoom.type,\r\n          roomT: editedRoom.roomT,\r\n          airExRate: editedRoom.airExRate,\r\n          width: editedRoom.width,\r\n          area: 0,\r\n          height: editedRoom.height,\r\n          length: editedRoom.length,\r\n          disusePeriod: editedRoom.disusePeriod,\r\n          bAir: editedRoom.bAir,\r\n          bMass: editedRoom.bMass,\r\n          reheatTime: editedRoom.reheatTime,\r\n        };\r\n      } else {\r\n        choosedRoomData = {\r\n          name: editedRoom.name,\r\n          type: editedRoom.type,\r\n          roomT: editedRoom.roomT,\r\n          airExRate: editedRoom.airExRate,\r\n          width: 0,\r\n          area: editedRoom.area,\r\n          height: editedRoom.height,\r\n          length: 0,\r\n          disusePeriod: editedRoom.disusePeriod,\r\n          bAir: editedRoom.bAir,\r\n          bMass: editedRoom.bMass,\r\n          reheatTime: editedRoom.reheatTime,\r\n        };\r\n      }\r\n      setValues(choosedRoomData);\r\n    }\r\n  }, [isEdit, setValues]);\r\n\r\n  const modalBodyContent = (\r\n    <RoomModalForm\r\n      values={values}\r\n      handleChange={handleChange}\r\n      heatPower={heatPower}\r\n      setheatPower={setheatPower}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <ModalWindow\r\n      modalBodyContent={modalBodyContent}\r\n      editStateTitle={editStateTitle}\r\n      normalStateTitle={normalStateTitle}\r\n      handleSubmit={handleSubmit}\r\n      isEdit={isEdit}\r\n      show={show}\r\n      onHide={onHide}\r\n    />\r\n  );\r\n};\r\n\r\nexport default RoomModalWindow;\r\n","export const getInitialFormValues = () => {\r\n  return {\r\n    name: \"\",\r\n    type: \"Simple room\",\r\n    roomT: \"\",\r\n    airExRate: \"\",\r\n    width: \"\",\r\n    area: \"\",\r\n    height: \"\",\r\n    length: \"\",\r\n    disusePeriod: 0,\r\n    bAir: \"low\",\r\n    bMass: \"low\",\r\n    reheatTime: 0.5,\r\n  };\r\n};\r\n","export const getRoomData = (state, heatingPower) => {\r\n  if (state.type === \"Simple room\") {\r\n    return {\r\n      name: state.name,\r\n      type: state.type,\r\n      roomT: state.roomT,\r\n      width: state.width,\r\n      area: state.width * state.length,\r\n      airExRate: state.airExRate,\r\n      height: state.height,\r\n      length: state[\"length\"],\r\n      disusePeriod: state.disusePeriod,\r\n      bAir: state.bAir,\r\n      bMass: state.bMass,\r\n      reheatTime: state.reheatTime,\r\n      heatingPover: heatingPower,\r\n    };\r\n  }\r\n\r\n  if (state.type === \"Complex shaped room\") {\r\n    return {\r\n      length: 0,\r\n      width: 0,\r\n      name: state.name,\r\n      type: state.type,\r\n      roomT: state.roomT,\r\n      airExRate: state.airExRate,\r\n      height: state.height,\r\n      area: state.area,\r\n      disusePeriod: state.disusePeriod,\r\n      bAir: state.bAir,\r\n      bMass: state.bMass,\r\n      reheatTime: state.reheatTime,\r\n      heatingPover: heatingPower,\r\n    };\r\n  }\r\n};\r\n","import ModalWindow from \"components/common/heatLossCalcCommon/ModalWindow/ModalWindow\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport { useFormik } from \"formik\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { edit_project_action } from \"redux/store/project/actions\";\r\nimport { getFormData } from \"./functions/getFormData\";\r\nimport { getFormUi } from \"./functions/getFormUi\";\r\nimport { getProjectData } from \"./functions/getProjectData\";\r\n\r\nexport const ProjectModalWindow = (props) => {\r\n  const { project, show, onHide } = props;\r\n  const dispatch = useDispatch();\r\n\r\n  // initial values for formik form\r\n  // gives from project state\r\n  const initialFormValues = {\r\n    name: project.name,\r\n    outsideT: project.outsideT,\r\n    groundT: project.groundT,\r\n    dDays: project.dDays,\r\n    buildingType: project.buildingType,\r\n  };\r\n\r\n  // use formik hook\r\n  const { handleSubmit, handleChange, values } = useFormik({\r\n    initialValues: initialFormValues,\r\n    onSubmit: (values) => {\r\n      const data = getProjectData(values);\r\n      dispatch(edit_project_action(data));\r\n      props.onHide();\r\n    },\r\n  });\r\n\r\n  //get form data and create UI\r\n  const formData = getFormData(values);\r\n  const formUi = getFormUi(formData, handleChange);\r\n\r\n  const modalBodyContent = <Row>{formUi}</Row>;\r\n\r\n  return (\r\n    <ModalWindow\r\n      modalBodyContent={modalBodyContent}\r\n      handleSubmit={handleSubmit}\r\n      editStateTitle={\"Edit project data\"}\r\n      normalStateTitle={\"Project data\"}\r\n      isEdit={true}\r\n      show={show}\r\n      onHide={onHide}\r\n    />\r\n  );\r\n};\r\n","export const getFormData = (state) => {\r\n  return [\r\n    {\r\n      type: \"text\",\r\n      placeholder: \"Name\",\r\n      value: state.name,\r\n      name: \"name\",\r\n    },\r\n    {\r\n      type: \"select\",\r\n      placeholder: \"Thermal Bridging\",\r\n      value: state.buildingType,\r\n      name: \"buildingType\",\r\n      options: [\r\n        {\r\n          name: \"0.00 [W/ m²K]\",\r\n          value: 0,\r\n        },\r\n        {\r\n          name: \"0.02 [W/ m²K]\",\r\n          value: 0.02,\r\n        },\r\n        {\r\n          name: \"0.05 [W/m²K]\",\r\n          value: 0.05,\r\n        },\r\n        {\r\n          name: \"0.10 [W/ m²K]\",\r\n          value: 0.1,\r\n        },\r\n        {\r\n          name: \"0.15 [W/ m²K]\",\r\n          value: 0.15,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      type: \"number\",\r\n      placeholder: \"Temp outside\",\r\n      value: state.outsideT,\r\n      name: \"outsideT\",\r\n    },\r\n    {\r\n      type: \"number\",\r\n      placeholder: \"Ground temp\",\r\n      value: state.groundT,\r\n      name: \"groundT\",\r\n    },\r\n    {\r\n      type: \"number\",\r\n      placeholder: \"Degree-days\",\r\n      value: state.dDays,\r\n      name: \"dDays\",\r\n    },\r\n  ];\r\n};\r\n","export const getProjectData = (state) => {\r\n    return {\r\n      name: state.name,\r\n      outsideT: Number(state.outsideT),\r\n      groundT: Number(state.groundT),\r\n      dDays: Number(state.dDays),\r\n      buildingType: Number(state.buildingType),\r\n    };\r\n  };","import { Form, Col } from \"react-bootstrap\";\r\nexport const getFormUi = (data, handleChange) => {\r\n  return data.map((el, id) => {\r\n    if (id === 1) {\r\n      const options = el.options.map((el, id) => {\r\n        return (\r\n          <option value={el.value} key={id}>\r\n            {el.name}\r\n          </option>\r\n        );\r\n      });\r\n\r\n      return (\r\n        <Col key={id} sm={12}>\r\n          <Form.Group>\r\n            <Form.Label>{el.placeholder}</Form.Label>\r\n            <Form.Control\r\n              as={el.type}\r\n              name={el.name}\r\n              value={el.value}\r\n              onChange={handleChange}\r\n            >\r\n              {options}\r\n            </Form.Control>\r\n          </Form.Group>\r\n        </Col>\r\n      );\r\n    } else {\r\n      return (\r\n        <Col key={id} sm={12}>\r\n          <Form.Group>\r\n            <Form.Label>{el.placeholder}</Form.Label>\r\n            <Form.Control\r\n              required\r\n              aria-describedby=\"inputGroupPrepend\"\r\n              type={el.type}\r\n              placeholder={el.placeholder}\r\n              value={el.value}\r\n              name={el.name}\r\n              onChange={handleChange}\r\n            />\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              Please enter data\r\n            </Form.Control.Feedback>\r\n          </Form.Group>\r\n        </Col>\r\n      );\r\n    }\r\n  });\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Row, Button } from \"react-bootstrap\";\r\nimport generatePdfDocument from \"../ReportTables/ReportFunk\";\r\nimport ProjectInfoTable from \"../components/heatLossCalc/Project/ProjectInfoTable/ProjectInfoTable\";\r\nimport RoomItemTables from \"../components/heatLossCalc/Room/RoomItemTables/RoomItemTables\";\r\nimport RoomModalWindow from \"components/heatLossCalc/Room/RoomModalWindow/RoomModalWindow\";\r\nimport { ProjectModalWindow } from \"components/heatLossCalc/Project/ProjectModalWindow/ProjectModalWindow\";\r\n\r\nconst Project = () => {\r\n  // get rooms and project data from state\r\n  const { rooms, project } = useSelector((state) => state);\r\n\r\n  // state for roomModal showing/editing\r\n  const [IsModalShow, setModalShow] = useState(false);\r\n  const [isModalEdit, setModalEdit] = useState(false);\r\n\r\n  // state with data of edited room\r\n  const [editedRoom, setEditedRoom] = useState({});\r\n\r\n  // state for projectModal showing\r\n  const [IsProjectModalShow, setProjectModalShow] = useState(false);\r\n\r\n  // function for opening roomModal in editing state\r\n  const editRoom = (room) => {\r\n    setModalEdit(true);\r\n    setEditedRoom(room);\r\n    setModalShow(true);\r\n  };\r\n\r\n  const setModalOpen = () => {\r\n    setProjectModalShow(true);\r\n  };\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  return (\r\n    <div>\r\n      <div className=\"mb-4 d-flex align-items-center justify-content-center\">\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={() => {\r\n            generatePdfDocument(project, rooms, setLoading);\r\n          }}\r\n        >\r\n          {loading ? \"Loading report...\" : \"Download report!\"}\r\n        </Button>\r\n      </div>\r\n      <ProjectInfoTable setModalOpen={setModalOpen} project={project} />\r\n      <ProjectModalWindow\r\n        project={project}\r\n        show={IsProjectModalShow}\r\n        onHide={() => {\r\n          setProjectModalShow(false);\r\n        }}\r\n      />\r\n      <div className=\"mt-4\">\r\n        <Button\r\n          variant=\"primary\"\r\n          size=\"lg\"\r\n          style={{ width: \"100%\" }}\r\n          onClick={() => {\r\n            setModalShow(true);\r\n          }}\r\n        >\r\n          New room\r\n        </Button>\r\n      </div>\r\n      <div className=\"mt-4\">\r\n        <Row>\r\n          <RoomItemTables\r\n            rooms={rooms}\r\n            editRoom={editRoom}\r\n            buildingType={project.buildingType}\r\n            outsideT={project.outsideT}\r\n          />\r\n        </Row>\r\n      </div>\r\n      <RoomModalWindow\r\n        editedRoom={editedRoom}\r\n        isEdit={isModalEdit}\r\n        show={IsModalShow}\r\n        onHide={() => {\r\n          setModalEdit(false);\r\n          setModalShow(false);\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Project;\r\n","import { Form } from \"react-bootstrap\";\r\n\r\nconst Input = (props) => {\r\n  const { placeholder, type, value, name, handlerChange } = props;\r\n  return (\r\n    <Form.Group>\r\n      <Form.Label>{placeholder}</Form.Label>\r\n      <Form.Control\r\n        size=\"sm\"\r\n        type={type}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        name={name}\r\n        onChange={handlerChange}\r\n      />\r\n    </Form.Group>\r\n  );\r\n};\r\n\r\nconst SelectInput = (props) => {\r\n  const { placeholder, name, value, handlerChange, isDisabled, options } =\r\n    props;\r\n\r\n  return (\r\n    <Form.Group>\r\n      <Form.Label>{placeholder}</Form.Label>\r\n      <Form.Control\r\n        disabled={isDisabled}\r\n        size=\"sm\"\r\n        as=\"select\"\r\n        name={name}\r\n        value={value}\r\n        onChange={handlerChange}\r\n      >\r\n        {options}\r\n      </Form.Control>\r\n    </Form.Group>\r\n  );\r\n};\r\n\r\nexport const NumberInput = (props) => {\r\n  const { placeholder, handlerChange, value, name, step } = props;\r\n  return (\r\n    <Form.Group>\r\n      <Form.Label>{placeholder}</Form.Label>\r\n      <Form.Control\r\n        size=\"sm\"\r\n        type=\"number\"\r\n        placeholder={placeholder}\r\n        value={value}\r\n        name={name}\r\n        step={step}\r\n        onChange={handlerChange}\r\n      />\r\n    </Form.Group>\r\n  );\r\n};\r\n\r\nexport const TextInput = (props) => {\r\n  return <Input {...props} type=\"text\" />;\r\n};\r\n\r\n// export const NameInput = (props) => {\r\n//   return (\r\n//     <TextInput\r\n//       placeholder=\"Name\"\r\n//       value={props.value}\r\n//       name=\"name\"\r\n//       handlerChange={props.handlerChange}\r\n//     />\r\n//   );\r\n// };\r\n\r\n// export const WidthInput = (props) => {\r\n//   return (\r\n//     <TextInput\r\n//       placeholder=\"Width [m]\"\r\n//       value={props.value}\r\n//       name=\"width\"\r\n//       handlerChange={props.handlerChange}\r\n//     />\r\n//   );\r\n// };\r\n\r\n// export const LengthInput = (props) => {\r\n//   return (\r\n//     <TextInput\r\n//       placeholder=\"Length [m]\"\r\n//       value={props.value}\r\n//       name=\"length\"\r\n//       handlerChange={props.handlerChange}\r\n//     />\r\n//   );\r\n// };\r\n","import { Form, Dropdown } from \"react-bootstrap\";\r\n\r\nconst DropdownInp = (props) => {\r\n  const { dropdownItems, label, btnLabel, isHidden } = props;\r\n\r\n  return (\r\n    <Form.Group\r\n      className={isHidden ? \"\" : \"hidden\"}\r\n      style={{ transition: \"opacity 0.3s linear\" }}\r\n    >\r\n      <Form.Label>{label}</Form.Label>\r\n      <Dropdown style={{ width: \"100%\" }}>\r\n        <Dropdown.Toggle\r\n          style={{ width: \"100%\" }}\r\n          id=\"dropdown-basic\"\r\n          className=\"items-type-dropdown-btn\"\r\n        >\r\n          <div className=\"items-type-dropdown-btn__content\">{btnLabel}</div>\r\n        </Dropdown.Toggle>\r\n        <Dropdown.Menu\r\n          className=\"modal-window__dropdown-menu\"\r\n          style={{ width: \"100%\" }}\r\n        >\r\n          {dropdownItems}\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    </Form.Group>\r\n  );\r\n};\r\n\r\nexport const ConstructionTypeDropdown = (props) => {\r\n  const { group_0, items, isExternal, handlerChange, isHidden } = props;\r\n\r\n  const get_construction_type_options = () => {\r\n    // files that sort with group 0\r\n    const items_group_0 = items.filter((el) => {\r\n      return el.group_0 === group_0 && el.external === isExternal;\r\n    });\r\n\r\n    // unique files that sort with group 1, need for generating options\r\n    const options_group_1 = Object.values(\r\n      items_group_0.reduce((c, e) => {\r\n        if (!c[e.group_1]) c[e.group_1] = e;\r\n        return c;\r\n      }, {})\r\n    );\r\n\r\n    const options_group_1_clear = options_group_1.map((el) => {\r\n      return {\r\n        option: el.group_1,\r\n        img: el.file,\r\n        name: el.name,\r\n      };\r\n    });\r\n\r\n    return options_group_1_clear;\r\n  };\r\n\r\n  const dropdownItems = get_construction_type_options().map((el, id) => {\r\n    return (\r\n      <Dropdown.Item\r\n        className=\"wall-dropdown-item\"\r\n        key={id}\r\n        value={el.option}\r\n        img={el.img}\r\n        name=\"exWallGroup1\"\r\n        onClick={handlerChange}\r\n      >\r\n        <img\r\n          alt=\"wall item img\"\r\n          src={process.env.PUBLIC_URL + `/images/WallType/${el.img}`}\r\n          style={{ width: \"250px\", height: \"200px\" }}\r\n          className=\"mr-2\"\r\n        />\r\n        {el.option}\r\n      </Dropdown.Item>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <DropdownInp\r\n      isHidden={isHidden}\r\n      dropdownItems={dropdownItems}\r\n      label=\"Construction type\"\r\n      btnLabel=\"Select construction type\"\r\n    />\r\n  );\r\n};\r\n","import { Form } from \"react-bootstrap\";\r\n\r\nconst SelectInput = (props) => {\r\n  const {\r\n    placeholder,\r\n    name,\r\n    value,\r\n    handlerChange,\r\n    isDisabled,\r\n    options,\r\n    isHidden,\r\n  } = props;\r\n\r\n  return (\r\n    <Form.Group\r\n      className={isHidden ? \"\" : \"hidden\"}\r\n      style={{ transition: \"opacity 0.3s linear\" }}\r\n    >\r\n      <Form.Label>{placeholder}</Form.Label>\r\n      <Form.Control\r\n        disabled={isDisabled}\r\n        size=\"sm\"\r\n        as=\"select\"\r\n        name={name}\r\n        value={value}\r\n        onChange={handlerChange}\r\n      >\r\n        {options}\r\n      </Form.Control>\r\n    </Form.Group>\r\n  );\r\n};\r\n\r\nexport const RoomBuildingsTypeSelect = (props) => {\r\n  const { value, handlerChange, isDisabled } = props;\r\n\r\n  const options = (\r\n    <>\r\n      <option selected=\"true\" disabled=\"disabled\">\r\n        Choose type\r\n      </option>\r\n      <option>external wall</option>\r\n      <option>external cavity wall</option>\r\n      <option>internal wall</option>\r\n      <option>party wall</option>\r\n      <option>roof</option>\r\n      <option>ground floor</option>\r\n      <option>party floor</option>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <SelectInput\r\n      handlerChange={handlerChange}\r\n      isDisabled={isDisabled}\r\n      isHidden={true}\r\n      placeholder=\"Type\"\r\n      value={value}\r\n      name=\"exWallGroup\"\r\n      options={options}\r\n    />\r\n  );\r\n};\r\n\r\nexport const ConstructionVariantSelect = (props) => {\r\n  const {\r\n    value,\r\n    handlerChange,\r\n    isDisabled,\r\n    group_0,\r\n    group_1,\r\n    items,\r\n    isExternal,\r\n    isHidden,\r\n  } = props;\r\n\r\n  const get_variant_building_options = () => {\r\n    const options_group_2 = items.filter((el) => {\r\n      return (\r\n        el.group_0 === group_0 &&\r\n        el.group_1 === group_1 &&\r\n        el.external === isExternal\r\n      );\r\n    });\r\n\r\n    const options_group_2_clear = options_group_2.map((el) => {\r\n      return {\r\n        name: el.group_2,\r\n      };\r\n    });\r\n\r\n    return options_group_2_clear;\r\n  };\r\n\r\n  const options = get_variant_building_options().map((option, id) => {\r\n    return <option key={id}>{option.name}</option>;\r\n  });\r\n\r\n  return (\r\n    <SelectInput\r\n      handlerChange={handlerChange}\r\n      isDisabled={isDisabled}\r\n      placeholder=\"Variant\"\r\n      value={value}\r\n      name=\"exWallGroup2\"\r\n      options={options}\r\n      isHidden={isHidden}\r\n    />\r\n  );\r\n};\r\n","import { NumberInput, TextInput } from \"./ComponentData/inputs/inputs\";\r\nimport { ConstructionTypeDropdown } from \"./ComponentData/ModalInputComponents/DropdownInp\";\r\nimport {\r\n  ConstructionVariantSelect,\r\n  RoomBuildingsTypeSelect,\r\n} from \"./ComponentData/ModalInputComponents/SelectInp\";\r\nimport { Col } from \"react-bootstrap\";\r\nimport uValueList from \"assets/uValueList/uValueList.json\";\r\n\r\nconst SimpleRoomGroundFloor = (props) => {\r\n  const { data, handlerChange, handlerTypeChange } = props;\r\n  return (\r\n    <>\r\n      <Col sm={4} xs={6}>\r\n        <RoomBuildingsTypeSelect\r\n          value={data.exWallGroup}\r\n          handlerChange={handlerTypeChange}\r\n          isDisabled={false}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <TextInput\r\n          placeholder=\"Name\"\r\n          value={data.name}\r\n          name=\"name\"\r\n          handlerChange={handlerChange}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Width [m]\"\r\n          value={data.width}\r\n          name=\"width\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Length [m]\"\r\n          value={data.length}\r\n          name=\"length\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Exposed perimeter [m]\"\r\n          value={data.expPerimeter}\r\n          name=\"expPerimeter\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Thermal conductivity [W/mK]\"\r\n          value={data.thermInsul}\r\n          name=\"thermInsul\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Thickness of insulation [mm]\"\r\n          value={data.thickInsul}\r\n          name=\"thickInsul\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n    </>\r\n  );\r\n};\r\n\r\nconst SimpleRoomPartyFloor = (props) => {\r\n  const { data, handlerChange, handlerTypeChange } = props;\r\n  return (\r\n    <>\r\n      <Col sm={4} xs={6}>\r\n        <RoomBuildingsTypeSelect\r\n          value={data.exWallGroup}\r\n          handlerChange={handlerTypeChange}\r\n          isDisabled={false}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <TextInput\r\n          placeholder=\"Name\"\r\n          value={data.name}\r\n          name=\"name\"\r\n          handlerChange={handlerChange}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Width [m]\"\r\n          value={data.width}\r\n          name=\"width\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Length [m]\"\r\n          value={data.length}\r\n          name=\"length\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Exposed perimeter [m]\"\r\n          value={data.expPerimeter}\r\n          name=\"expPerimeter\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Thermal conductivity [W/mK]\"\r\n          value={data.thermInsul}\r\n          name=\"thermInsul\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Thickness of insulation [mm]\"\r\n          value={data.thickInsul}\r\n          name=\"thickInsul\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Temperature of neighbor room [°С]\"\r\n          value={data.tempNroom}\r\n          name=\"tempNroom\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n    </>\r\n  );\r\n};\r\n\r\nconst ComplexRoomPartyFloor = (props) => {\r\n  const { data, handlerChange, handlerTypeChange } = props;\r\n  return (\r\n    <>\r\n      <Col sm={4} xs={6}>\r\n        <RoomBuildingsTypeSelect\r\n          value={data.exWallGroup}\r\n          handlerChange={handlerTypeChange}\r\n          isDisabled={false}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <TextInput\r\n          placeholder=\"Name\"\r\n          value={data.name}\r\n          name=\"name\"\r\n          handlerChange={handlerChange}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Area of floor [m²]\"\r\n          value={data.floorArea}\r\n          name=\"floorArea\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Exposed perimeter [m]\"\r\n          value={data.expPerimeter}\r\n          name=\"expPerimeter\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Thermal conductivity [W/mK]\"\r\n          value={data.thermInsul}\r\n          name=\"thermInsul\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Thickness of insulation [mm]\"\r\n          value={data.thickInsul}\r\n          name=\"thickInsul\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Temperature of neighbor room [°С]\"\r\n          value={data.tempNroom}\r\n          name=\"tempNroom\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n    </>\r\n  );\r\n};\r\n\r\nconst ComplexRoomGroundFloor = (props) => {\r\n  const { data, handlerChange, handlerTypeChange } = props;\r\n  return (\r\n    <>\r\n      <Col sm={4} xs={6}>\r\n        <RoomBuildingsTypeSelect\r\n          value={data.exWallGroup}\r\n          handlerChange={handlerTypeChange}\r\n          isDisabled={false}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <TextInput\r\n          placeholder=\"Name\"\r\n          value={data.name}\r\n          name=\"name\"\r\n          handlerChange={handlerChange}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Area of floor [m²]\"\r\n          value={data.floorArea}\r\n          name=\"floorArea\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Exposed perimeter [m]\"\r\n          value={data.expPerimeter}\r\n          name=\"expPerimeter\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Thermal conductivity [W/mK]\"\r\n          value={data.thermInsul}\r\n          name=\"thermInsul\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n\r\n      <Col sm={4} xs={6}>\r\n        <NumberInput\r\n          placeholder=\"Thickness of insulation [mm]\"\r\n          value={data.thickInsul}\r\n          name=\"thickInsul\"\r\n          handlerChange={handlerChange}\r\n          step={0.1}\r\n        />\r\n      </Col>\r\n    </>\r\n  );\r\n};\r\n\r\nconst SimpleRoomRoof = (props) => {\r\n  const {\r\n    data,\r\n    handlerChange,\r\n    isExternal,\r\n    handlerTypeChange,\r\n    handlerDropdownChange,\r\n    handlerVariantChange,\r\n    choosedObj,\r\n  } = props;\r\n  return (\r\n    <>\r\n      <RoomBuildingsTypeSelect\r\n        value={data.exWallGroup}\r\n        handlerChange={handlerTypeChange}\r\n        isDisabled={false}\r\n      />\r\n      <ConstructionTypeDropdown\r\n        group_0={data.exWallGroup}\r\n        items={uValueList.results}\r\n        isExternal={isExternal}\r\n        handlerChange={handlerDropdownChange}\r\n        isHidden={choosedObj.exWallGroup}\r\n      />\r\n      <ConstructionVariantSelect\r\n        handlerChange={handlerVariantChange}\r\n        isDisabled={false}\r\n        value={data.exWallGroup2}\r\n        group_0={data.exWallGroup}\r\n        group_1={data.exWallGroup1}\r\n        items={uValueList.results}\r\n        isHidden={choosedObj.exWallGroup1}\r\n        isExternal={isExternal}\r\n      />\r\n      <TextInput\r\n        placeholder=\"Name\"\r\n        value={data.name}\r\n        name=\"name\"\r\n        handlerChange={handlerChange}\r\n      />\r\n      <NumberInput\r\n        placeholder=\"Width [m]\"\r\n        value={data.width}\r\n        name=\"width\"\r\n        handlerChange={handlerChange}\r\n        step={0.1}\r\n      />\r\n      <NumberInput\r\n        placeholder=\"Length [m]\"\r\n        value={data.length}\r\n        name=\"length\"\r\n        handlerChange={handlerChange}\r\n        step={0.1}\r\n      />\r\n      <NumberInput\r\n        placeholder=\"U-value [W/m²K]\"\r\n        value={data.uValue}\r\n        name=\"uValue\"\r\n        handlerChange={handlerChange}\r\n        step={0.1}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst ComplexRoomRoof = (props) => {\r\n  const {\r\n    data,\r\n    handlerChange,\r\n    isExternal,\r\n    handlerTypeChange,\r\n    handlerDropdownChange,\r\n    handlerVariantChange,\r\n    choosedObj,\r\n  } = props;\r\n  return (\r\n    <>\r\n      <RoomBuildingsTypeSelect\r\n        value={data.exWallGroup}\r\n        handlerChange={handlerTypeChange}\r\n        isDisabled={false}\r\n      />\r\n      <ConstructionTypeDropdown\r\n        group_0={data.exWallGroup}\r\n        items={uValueList.results}\r\n        isExternal={isExternal}\r\n        handlerChange={handlerDropdownChange}\r\n        isHidden={choosedObj.exWallGroup}\r\n      />\r\n      <ConstructionVariantSelect\r\n        handlerChange={handlerVariantChange}\r\n        isDisabled={false}\r\n        value={data.exWallGroup2}\r\n        group_0={data.exWallGroup}\r\n        group_1={data.exWallGroup1}\r\n        items={uValueList.results}\r\n        isExternal={isExternal}\r\n        isHidden={choosedObj.exWallGroup1}\r\n      />\r\n      <TextInput\r\n        placeholder=\"Name\"\r\n        value={data.name}\r\n        name=\"name\"\r\n        handlerChange={handlerChange}\r\n      />\r\n      <NumberInput\r\n        placeholder=\"Area [m²]\"\r\n        value={data.area}\r\n        name=\"area\"\r\n        handlerChange={handlerChange}\r\n        step={0.1}\r\n      />\r\n      <NumberInput\r\n        placeholder=\"U-value [W/m²K]\"\r\n        value={data.uValue}\r\n        name=\"uValue\"\r\n        handlerChange={handlerChange}\r\n        step={0.1}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst ExternalWall = (props) => {\r\n  const {\r\n    data,\r\n    handlerChange,\r\n    isExternal,\r\n    handlerTypeChange,\r\n    handlerDropdownChange,\r\n    handlerVariantChange,\r\n    choosedObj,\r\n  } = props;\r\n  return (\r\n    <>\r\n      <RoomBuildingsTypeSelect\r\n        value={data.exWallGroup}\r\n        handlerChange={handlerTypeChange}\r\n        isDisabled={false}\r\n      />\r\n      <ConstructionTypeDropdown\r\n        group_0={data.exWallGroup}\r\n        items={uValueList.results}\r\n        isExternal={isExternal}\r\n        handlerChange={handlerDropdownChange}\r\n        isHidden={choosedObj.exWallGroup}\r\n      />\r\n      <ConstructionVariantSelect\r\n        handlerChange={handlerVariantChange}\r\n        isDisabled={false}\r\n        value={data.exWallGroup2}\r\n        group_0={data.exWallGroup}\r\n        group_1={data.exWallGroup1}\r\n        items={uValueList.results}\r\n        isExternal={isExternal}\r\n        isHidden={choosedObj.exWallGroup1}\r\n      />\r\n      <TextInput\r\n        placeholder=\"Name\"\r\n        value={data.name}\r\n        name=\"name\"\r\n        handlerChange={handlerChange}\r\n      />\r\n      <NumberInput\r\n        placeholder=\"Length [m]\"\r\n        value={data.length}\r\n        name=\"length\"\r\n        handlerChange={handlerChange}\r\n        step={0.1}\r\n      />\r\n      <NumberInput\r\n        placeholder=\"Height [m]\"\r\n        value={data.height}\r\n        name=\"height\"\r\n        handlerChange={handlerChange}\r\n        step={0.1}\r\n      />\r\n      <NumberInput\r\n        placeholder=\"U-value [W/m²K]\"\r\n        value={data.uValue}\r\n        name=\"uValue\"\r\n        handlerChange={handlerChange}\r\n        step={0.1}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst InternallWall = (props) => {\r\n  const {\r\n    data,\r\n    handlerChange,\r\n    isExternal,\r\n    handlerTypeChange,\r\n    handlerDropdownChange,\r\n    handlerVariantChange,\r\n    choosedObj,\r\n  } = props;\r\n  return (\r\n    <>\r\n      <RoomBuildingsTypeSelect\r\n        value={data.exWallGroup}\r\n        handlerChange={handlerTypeChange}\r\n        isDisabled={false}\r\n      />\r\n      <ConstructionTypeDropdown\r\n        group_0={data.exWallGroup}\r\n        items={uValueList.results}\r\n        isExternal={isExternal}\r\n        handlerChange={handlerDropdownChange}\r\n        isHidden={choosedObj.exWallGroup}\r\n      />\r\n      <ConstructionVariantSelect\r\n        handlerChange={handlerVariantChange}\r\n        isDisabled={false}\r\n        value={data.exWallGroup2}\r\n        group_0={data.exWallGroup}\r\n        group_1={data.exWallGroup1}\r\n        items={uValueList.results}\r\n        isHidden={choosedObj.exWallGroup1}\r\n        isExternal={isExternal}\r\n      />\r\n      <TextInput\r\n        placeholder=\"Name\"\r\n        value={data.name}\r\n        name=\"name\"\r\n        handlerChange={handlerChange}\r\n      />\r\n      <NumberInput\r\n        placeholder=\"Length [m]\"\r\n        value={data.length}\r\n        name=\"length\"\r\n        handlerChange={handlerChange}\r\n        step={0.1}\r\n      />\r\n      <NumberInput\r\n        placeholder=\"Height [m]\"\r\n        value={data.height}\r\n        name=\"height\"\r\n        handlerChange={handlerChange}\r\n        step={0.1}\r\n      />\r\n      <NumberInput\r\n        placeholder=\"U-value [W/m²K]\"\r\n        value={data.uValue}\r\n        name=\"uValue\"\r\n        handlerChange={handlerChange}\r\n        step={0.1}\r\n      />\r\n      <NumberInput\r\n        placeholder=\"Temperature of neighbor room [°С]\"\r\n        value={data.tempNroom}\r\n        name=\"tempNroom\"\r\n        handlerChange={handlerChange}\r\n        step={0.1}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport const ModalForm = (props) => {\r\n  const {\r\n    data,\r\n    handlerChange,\r\n    isExternal,\r\n    roomType,\r\n    group_0,\r\n    handlerTypeChange,\r\n    handlerDropdownChange,\r\n    handlerVariantChange,\r\n    choosedObj,\r\n  } = props;\r\n\r\n  if (group_0 === \"ground floor\") {\r\n    if (roomType === \"Simple room\") {\r\n      return (\r\n        <SimpleRoomGroundFloor\r\n          handlerTypeChange={handlerTypeChange}\r\n          data={data}\r\n          handlerChange={handlerChange}\r\n        />\r\n      );\r\n    }\r\n    if (roomType === \"Complex shaped room\") {\r\n      return (\r\n        <ComplexRoomGroundFloor\r\n          handlerTypeChange={handlerTypeChange}\r\n          data={data}\r\n          handlerChange={handlerChange}\r\n        />\r\n      );\r\n    }\r\n  } else if (group_0 === \"party floor\") {\r\n    if (roomType === \"Simple room\") {\r\n      return (\r\n        <SimpleRoomPartyFloor\r\n          handlerTypeChange={handlerTypeChange}\r\n          data={data}\r\n          handlerChange={handlerChange}\r\n        />\r\n      );\r\n    }\r\n    if (roomType === \"Complex shaped room\") {\r\n      return (\r\n        <ComplexRoomPartyFloor\r\n          handlerTypeChange={handlerTypeChange}\r\n          data={data}\r\n          handlerChange={handlerChange}\r\n        />\r\n      );\r\n    }\r\n  } else if (group_0 === \"roof\") {\r\n    if (roomType === \"Simple room\") {\r\n      return (\r\n        <SimpleRoomRoof\r\n          data={data}\r\n          handlerChange={handlerChange}\r\n          handlerTypeChange={handlerTypeChange}\r\n          handlerDropdownChange={handlerDropdownChange}\r\n          handlerVariantChange={handlerVariantChange}\r\n          isExternal={isExternal}\r\n          choosedObj={choosedObj}\r\n        />\r\n      );\r\n    }\r\n    if (roomType === \"Complex shaped room\") {\r\n      return (\r\n        <ComplexRoomRoof\r\n          data={data}\r\n          handlerChange={handlerChange}\r\n          handlerTypeChange={handlerTypeChange}\r\n          handlerDropdownChange={handlerDropdownChange}\r\n          handlerVariantChange={handlerVariantChange}\r\n          isExternal={isExternal}\r\n          choosedObj={choosedObj}\r\n        />\r\n      );\r\n    }\r\n  } else {\r\n    if (!isExternal) {\r\n      return (\r\n        <InternallWall\r\n          data={data}\r\n          handlerChange={handlerChange}\r\n          handlerTypeChange={handlerTypeChange}\r\n          handlerDropdownChange={handlerDropdownChange}\r\n          handlerVariantChange={handlerVariantChange}\r\n          isExternal={isExternal}\r\n          choosedObj={choosedObj}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <ExternalWall\r\n          data={data}\r\n          handlerChange={handlerChange}\r\n          handlerTypeChange={handlerTypeChange}\r\n          handlerDropdownChange={handlerDropdownChange}\r\n          handlerVariantChange={handlerVariantChange}\r\n          isExternal={isExternal}\r\n          choosedObj={choosedObj}\r\n        />\r\n      );\r\n    }\r\n  }\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Modal, Row, Figure } from \"react-bootstrap\";\r\nimport {\r\n  add_item_action,\r\n  edit_item_action,\r\n} from \"../../redux/store/rooms/actions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getFormData } from \"./ComponentData/formData\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { useFormik } from \"formik\";\r\nimport { useEffect, useState } from \"react\";\r\nimport uValueList from \"assets/uValueList/uValueList.json\";\r\nimport { ModalForm } from \"./ModalForm\";\r\n\r\nconst RoomItemModal = (props) => {\r\n  const dispatch = useDispatch();\r\n  const wallTypes = uValueList;\r\n\r\n  // state for choosed edited room building element\r\n  const [choosedElement, setChoosedElement] = useState({\r\n    name: \"102 mm brick, plaster\",\r\n    file: \"Lightweight_Plaster_Brick_single_Lightweight_Plaster.png\",\r\n    external: true,\r\n    openings: false,\r\n  });\r\n\r\n  // initial form values\r\n  const initialFormValues = {\r\n    name: \"\",\r\n    uValue: 0,\r\n    height: props.room.height,\r\n    length: props.room.length,\r\n    width: props.room.width,\r\n    area: props.room.area,\r\n    tempNroom: 15,\r\n    expPerimeter: 0,\r\n    floorArea: props.room.area,\r\n    thermInsul: 0.04,\r\n    thickInsul: 0,\r\n    exWallGroup: \"Choose type\",\r\n    exWallGroup1: \"Solid brick wall, dense plaster\",\r\n    exWallGroup2: \"102 mm brick\",\r\n  };\r\n\r\n  const [choosedObj, setChoosedObj] = useState({\r\n    exWallGroup: false,\r\n    exWallGroup1: false,\r\n    exWallGroup2: false,\r\n  });\r\n\r\n  const {\r\n    handleSubmit,\r\n    handleChange,\r\n    values,\r\n    resetForm,\r\n    setValues,\r\n    setFieldValue,\r\n  } = useFormik({\r\n    initialValues: initialFormValues,\r\n    onSubmit: (values) => {\r\n      const data = getFormData(values, choosedElement, props.room.type);\r\n      if (props.isEdit) {\r\n        dispatch(\r\n          edit_item_action(\r\n            props.roomId.toString(),\r\n            props.editedRoomBuilding.id.toString(),\r\n            data\r\n          )\r\n        );\r\n        props.onHide();\r\n      } else {\r\n        if (choosedObj.exWallGroup && choosedObj.exWallGroup1) {\r\n          data.id = uuidv4();\r\n          dispatch(add_item_action(data, props.roomIdx));\r\n          props.onHide();\r\n        }\r\n      }\r\n    },\r\n  });\r\n\r\n  // handler change for dropdown with construction type\r\n  const handlerDropdownChange = (e) => {\r\n    e.preventDefault();\r\n    const choosedElement = e.target.closest(\".wall-dropdown-item\");\r\n    const choosedValue = choosedElement.getAttribute(\"value\");\r\n    const element = wallTypes.results.find((el) => {\r\n      return el.group_0 === values.exWallGroup && el.group_1 === choosedValue;\r\n    });\r\n    setFieldValue(\"exWallGroup1\", choosedValue);\r\n    setFieldValue(\"exWallGroup2\", element.group_2);\r\n    setFieldValue(\"uValue\", element.uValue);\r\n    setChoosedElement(element);\r\n    setChoosedObj({\r\n      exWallGroup: true,\r\n      exWallGroup1: true,\r\n      exWallGroup2: false,\r\n    });\r\n  };\r\n\r\n  const handlerTypeChange = (e) => {\r\n    handleChange(e);\r\n    e.preventDefault();\r\n    const choosedValue = e.target.value;\r\n    if (choosedValue !== \"ground floor\" && choosedValue !== \"party floor\") {\r\n      const element = wallTypes.results.find((el) => {\r\n        return el.group_0 === choosedValue;\r\n      });\r\n      setFieldValue(\"exWallGroup1\", element.group_1);\r\n      setFieldValue(\"exWallGroup2\", element.group_2);\r\n      setFieldValue(\"uValue\", 0);\r\n      setChoosedElement(element);\r\n      setChoosedObj({\r\n        exWallGroup: true,\r\n        exWallGroup1: false,\r\n        exWallGroup2: false,\r\n      });\r\n    } else {\r\n      setChoosedObj({\r\n        exWallGroup: true,\r\n        exWallGroup1: true,\r\n        exWallGroup2: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handlerVariantChange = (e) => {\r\n    handleChange(e);\r\n    e.preventDefault();\r\n    const choosedValue = e.target.value;\r\n    const element = wallTypes.results.find((el) => {\r\n      return (\r\n        el.group_0 === values.exWallGroup &&\r\n        el.group_1 === values.exWallGroup1 &&\r\n        el.group_2 === choosedValue\r\n      );\r\n    });\r\n    setFieldValue(\"uValue\", element.uValue);\r\n    setChoosedElement(element);\r\n  };\r\n\r\n  // useEffect for reseting form values when modal hide\r\n  useEffect(() => {\r\n    if (!props.show) {\r\n      setTimeout(() => {\r\n        resetForm();\r\n        setChoosedObj({\r\n          exWallGroup: false,\r\n          exWallGroup1: false,\r\n          exWallGroup2: false,\r\n        });\r\n      }, 300);\r\n    }\r\n  }, [props.show, resetForm]);\r\n\r\n  // useEffect for putting in form values of element that user want to edit\r\n  useEffect(() => {\r\n    if (props.isEdit) {\r\n      setChoosedObj({\r\n        exWallGroup: true,\r\n        exWallGroup1: true,\r\n        exWallGroup2: true,\r\n      });\r\n      let choosedRoomBuildingData = {};\r\n      if (props.editedRoomBuilding.exWallGroup === \"ground floor\") {\r\n        choosedRoomBuildingData = {\r\n          name: props.editedRoomBuilding.name,\r\n          uValue: 0,\r\n          length: props.editedRoomBuilding.length,\r\n          width: props.editedRoomBuilding.width,\r\n          area: props.editedRoomBuilding.area,\r\n          tempNroom: 0,\r\n          expPerimeter: props.editedRoomBuilding.expPerimeter,\r\n          floorArea: props.editedRoomBuilding.floorArea,\r\n          thermInsul: props.editedRoomBuilding.thermInsul,\r\n          thickInsul: props.editedRoomBuilding.thickInsul,\r\n          exWallGroup: props.editedRoomBuilding.exWallGroup,\r\n          exWallGroup1: \"\",\r\n          exWallGroup2: \"\",\r\n        };\r\n      } else if (props.editedRoomBuilding.exWallGroup === \"roof\") {\r\n        choosedRoomBuildingData = {\r\n          name: props.editedRoomBuilding.name,\r\n          uValue: props.editedRoomBuilding.uValue,\r\n          length: props.editedRoomBuilding.length,\r\n          width: props.editedRoomBuilding.width,\r\n          area: props.editedRoomBuilding.area,\r\n          tempNroom: props.editedRoomBuilding.tempNroom,\r\n          expPerimeter: 0,\r\n          floorArea: 0,\r\n          thermInsul: 0,\r\n          thickInsul: 0,\r\n          exWallGroup: props.editedRoomBuilding.exWallGroup,\r\n          exWallGroup1: props.editedRoomBuilding.exWallGroup1,\r\n          exWallGroup2: props.editedRoomBuilding.exWallGroup2,\r\n        };\r\n        const element = wallTypes.results.find((el) => {\r\n          return (\r\n            el.group_0 === props.editedRoomBuilding.exWallGroup &&\r\n            el.group_1 === props.editedRoomBuilding.exWallGroup1 &&\r\n            el.group_2 === props.editedRoomBuilding.exWallGroup2\r\n          );\r\n        });\r\n        setChoosedElement(element);\r\n      } else {\r\n        choosedRoomBuildingData = {\r\n          name: props.editedRoomBuilding.name,\r\n          uValue: props.editedRoomBuilding.uValue,\r\n          length: props.editedRoomBuilding.length,\r\n          height: props.editedRoomBuilding.height,\r\n          area: props.editedRoomBuilding.area,\r\n          tempNroom: props.editedRoomBuilding.tempNroom,\r\n          expPerimeter: 0,\r\n          floorArea: 0,\r\n          thermInsul: 0,\r\n          thickInsul: 0,\r\n          exWallGroup: props.editedRoomBuilding.exWallGroup,\r\n          exWallGroup1: props.editedRoomBuilding.exWallGroup1,\r\n          exWallGroup2: props.editedRoomBuilding.exWallGroup2,\r\n        };\r\n        const element = wallTypes.results.find((el) => {\r\n          return (\r\n            el.group_0 === props.editedRoomBuilding.exWallGroup &&\r\n            el.group_1 === props.editedRoomBuilding.exWallGroup1 &&\r\n            el.group_2 === props.editedRoomBuilding.exWallGroup2\r\n          );\r\n        });\r\n        setChoosedElement(element);\r\n      }\r\n      setValues(choosedRoomBuildingData);\r\n    }\r\n  }, [props.isEdit, setValues]);\r\n\r\n  return (\r\n    <Modal\r\n      show={props.show}\r\n      className=\"modal-window modal-window_wall\"\r\n      onHide={props.onHide}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          {props.isEdit\r\n            ? `Edit room № building element №`\r\n            : \"Add a new building element\"}\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <form>\r\n        <Modal.Body>\r\n          <ModalForm\r\n            data={values}\r\n            roomType={props.room.type}\r\n            group_0={values.exWallGroup}\r\n            handlerChange={handleChange}\r\n            handlerTypeChange={handlerTypeChange}\r\n            handlerDropdownChange={handlerDropdownChange}\r\n            handlerVariantChange={handlerVariantChange}\r\n            isExternal={choosedElement.external}\r\n            choosedObj={choosedObj}\r\n            setChoosedObj={setChoosedObj}\r\n          />\r\n\r\n          <Figure\r\n            className={\r\n              values.exWallGroup !== \"ground floor\" &&\r\n              choosedObj.exWallGroup &&\r\n              choosedObj.exWallGroup1\r\n                ? \"\"\r\n                : \"hidden\"\r\n            }\r\n            style={{ transition: \"opacity 0.3s linear\" }}\r\n          >\r\n            <Figure.Image\r\n              width={171}\r\n              height={180}\r\n              alt=\"No image\"\r\n              src={\r\n                process.env.PUBLIC_URL +\r\n                `/images/WallType/${choosedElement.file}`\r\n              }\r\n            />\r\n            <Figure.Caption>{choosedElement.name}</Figure.Caption>\r\n          </Figure>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <button\r\n            className=\"button button_close\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              props.onHide();\r\n            }}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            className=\"button button_confrim\"\r\n            type=\"submit\"\r\n            onClick={handleSubmit}\r\n          >\r\n            Save\r\n          </button>\r\n        </Modal.Footer>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default RoomItemModal;\r\n","export const getFormData = (state, choosedElement, roomType) => {\r\n  // state - form values object\r\n  // choosedElement - object with data of choosed room building element\r\n\r\n  // ground floor have another data for calculation\r\n  // so I devide them with the condition\r\n\r\n  if (state.exWallGroup === \"ground floor\") {\r\n    if (roomType === \"Simple room\") {\r\n      return {\r\n        name: state.name,\r\n        expPerimeter: state.expPerimeter,\r\n        exWallGroup: state.exWallGroup,\r\n        length: state[\"length\"],\r\n        width: state.width,\r\n        area: state[\"length\"] * state.width,\r\n        external: true,\r\n        thermInsul: state.thermInsul,\r\n        thickInsul: state.thickInsul,\r\n        uValue: 0,\r\n        heatLoss: 0,\r\n        items: [],\r\n      };\r\n    }\r\n    if (roomType === \"Complex shaped room\") {\r\n      return {\r\n        name: state.name,\r\n        expPerimeter: state.expPerimeter,\r\n        exWallGroup: state.exWallGroup,\r\n        length: 0,\r\n        width: 0,\r\n        area: state.floorArea,\r\n        external: true,\r\n        thermInsul: state.thermInsul,\r\n        thickInsul: state.thickInsul,\r\n        uValue: 0,\r\n        heatLoss: 0,\r\n        items: [],\r\n      };\r\n    }\r\n  } else if (state.exWallGroup === \"roof\") {\r\n    if (roomType === \"Simple room\") {\r\n      console.log(state);\r\n      return {\r\n        name: state.name,\r\n        itemName: choosedElement.name,\r\n        exWallGroup: state.exWallGroup,\r\n        exWallGroup1: state.exWallGroup1,\r\n        exWallGroup2: state.exWallGroup2,\r\n        external: choosedElement.external,\r\n        opening: choosedElement.opening,\r\n        uValue: Number(state.uValue),\r\n        length: state.length,\r\n        width: state.width,\r\n        area: state[\"length\"] * state.width,\r\n        heatLoss: 0,\r\n        items: [],\r\n      };\r\n    }\r\n    if (roomType === \"Complex shaped room\") {\r\n      return {\r\n        name: state.name,\r\n        itemName: choosedElement.name,\r\n        exWallGroup: state.exWallGroup,\r\n        exWallGroup1: state.exWallGroup1,\r\n        exWallGroup2: state.exWallGroup2,\r\n        external: choosedElement.external,\r\n        opening: choosedElement.opening,\r\n        uValue: Number(state.uValue),\r\n        length: 0,\r\n        width: 0,\r\n        area: state.area,\r\n        heatLoss: 0,\r\n        items: [],\r\n      };\r\n    }\r\n  } else {\r\n    //create object data for new wall or roof\r\n    const obj = {\r\n      name: state.name,\r\n      itemName: choosedElement.name,\r\n      exWallGroup: state.exWallGroup,\r\n      exWallGroup1: state.exWallGroup1,\r\n      exWallGroup2: state.exWallGroup2,\r\n      external: choosedElement.external,\r\n      opening: choosedElement.opening,\r\n      uValue: Number(state.uValue),\r\n      height: state.height,\r\n      area: state.length * state.height,\r\n      length: state['length'],\r\n      heatLoss: 0,\r\n      items: [],\r\n    };\r\n\r\n    // if wall type = internal, add new entire \"temperature neighbor room\"\r\n    if (!state.external) {\r\n      obj.tempNroom = state.tempNroom;\r\n    }\r\n\r\n    return obj;\r\n  }\r\n};\r\n\r\n\r\n","import React from \"react\";\r\nimport InfoTable from \"../../../common/heatLossCalcCommon/InfoTable/InfoTable\";\r\nimport { getTableData } from \"./functions/getTableData\";\r\n\r\nconst RoomInfoTable = (props) => {\r\n  const { room } = props;\r\n  const tableData = getTableData(room);\r\n\r\n  return (\r\n    <InfoTable name={room.name} isEditable={false} tableData={tableData} />\r\n  );\r\n};\r\n\r\nexport default RoomInfoTable;\r\n","import { toSiPrefix } from \"../../../../../math\";\r\n\r\nexport const getTableData = (state) => {\r\n  if (state.type === \"Simple room\") {\r\n    return [\r\n      {\r\n        name: \"Name\",\r\n        value: state.name,\r\n        unit: \"\",\r\n      },\r\n      {\r\n        name: \"Type\",\r\n        value: state.type,\r\n        unit: \"\",\r\n      },\r\n      {\r\n        name: \"Width\",\r\n        value: state.width,\r\n        prefData: toSiPrefix(state.width, undefined, \" \"),\r\n        unit: \"m\",\r\n      },\r\n      {\r\n        name: \"Length\",\r\n        value: state[\"length\"],\r\n        prefData: toSiPrefix(state[\"length\"], undefined, \" \"),\r\n        unit: \"m\",\r\n      },\r\n      {\r\n        name: \"Height\",\r\n        value: state.height,\r\n        prefData: toSiPrefix(state.height, undefined, \" \"),\r\n        unit: \"m\",\r\n      },\r\n      {\r\n        name: \"Room temp\",\r\n        value: state.roomT,\r\n        prefData: toSiPrefix(state.roomT, undefined, \" \"),\r\n        unit: \"°С\",\r\n      },\r\n      {\r\n        name: \"Room volume\",\r\n        value: state.roomVolume,\r\n        prefData: toSiPrefix(state.roomVolume, undefined, \" \"),\r\n        unit: \"m³\",\r\n      },\r\n      {\r\n        name: \"Room floor area\",\r\n        value: state.area,\r\n        prefData: toSiPrefix(state.area, undefined, \" \"),\r\n        unit: \"m²\",\r\n      },\r\n      {\r\n        name: \"Exchange-rate\",\r\n        value: state.airExRate,\r\n        prefData: toSiPrefix(state.airExRate, undefined, \" \"),\r\n        unit: \"AC/h\",\r\n      },\r\n      {\r\n        name: \"Annual heating consumption\",\r\n        value: state.yearlyHeat,\r\n        prefData: toSiPrefix(state.yearlyHeat, 0, \"k\"),\r\n        unit: \"Wh\",\r\n      },\r\n      {\r\n        name: \"Ventilation-loss\",\r\n        value: state.venHeatLoss,\r\n        prefData: toSiPrefix(state.venHeatLoss, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n      {\r\n        name: \"Transmission-loss\",\r\n        value: state.transmissionLoss,\r\n        prefData: toSiPrefix(state.transmissionLoss, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n      {\r\n        name: \"Specific heat loss\",\r\n        value: state.specHeatLoss,\r\n        prefData: toSiPrefix(state.specHeatLoss, undefined, \" \"),\r\n        unit: \"W/m²\",\r\n      },\r\n      {\r\n        name: \"Total-heat-loss\",\r\n        value: state.totalHeatLoss,\r\n        prefData: toSiPrefix(state.totalHeatLoss, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n    ];\r\n  }\r\n  if (state.type === \"Complex shaped room\") {\r\n    return [\r\n      {\r\n        name: \"Name\",\r\n        value: state.name,\r\n        unit: \"\",\r\n      },\r\n      {\r\n        name: \"Type\",\r\n        value: state.type,\r\n        unit: \"\",\r\n      },\r\n      {\r\n        name: \"Area\",\r\n        value: state.area,\r\n        prefData: toSiPrefix(state.area, undefined, \" \"),\r\n        unit: \"m²\",\r\n      },\r\n      {\r\n        name: \"Height\",\r\n        value: state.height,\r\n        prefData: toSiPrefix(state.height, undefined, \" \"),\r\n        unit: \"m\",\r\n      },\r\n      {\r\n        name: \"Room temp\",\r\n        value: state.roomT,\r\n        prefData: toSiPrefix(state.roomT, undefined, \" \"),\r\n        unit: \"°С\",\r\n      },\r\n      {\r\n        name: \"Room volume\",\r\n        value: state.roomVolume,\r\n        prefData: toSiPrefix(state.roomVolume, undefined, \" \"),\r\n        unit: \"m³\",\r\n      },\r\n      {\r\n        name: \"Room floor area\",\r\n        value: state.area,\r\n        prefData: toSiPrefix(state.area, undefined, \" \"),\r\n        unit: \"m²\",\r\n      },\r\n      {\r\n        name: \"Exchange-rate\",\r\n        value: state.airExRate,\r\n        prefData: toSiPrefix(state.airExRate, undefined, \" \"),\r\n        unit: \"AC/h\",\r\n      },\r\n      {\r\n        name: \"Annual heating consumption\",\r\n        value: state.yearlyHeat,\r\n        prefData: toSiPrefix(state.yearlyHeat, 0, \"k\"),\r\n        unit: \"Wh\",\r\n      },\r\n      {\r\n        name: \"Ventilation-loss\",\r\n        value: state.venHeatLoss,\r\n        prefData: toSiPrefix(state.venHeatLoss, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n      {\r\n        name: \"Transmission-loss\",\r\n        value: state.transmissionLoss,\r\n        prefData: toSiPrefix(state.transmissionLoss, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n      {\r\n        name: \"Specific heat loss\",\r\n        value: state.specHeatLoss,\r\n        prefData: toSiPrefix(state.specHeatLoss, undefined, \" \"),\r\n        unit: \"W/m²\",\r\n      },\r\n      {\r\n        name: \"Total-heat-loss\",\r\n        value: state.totalHeatLoss,\r\n        prefData: toSiPrefix(state.totalHeatLoss, undefined, \" \"),\r\n        unit: \"W\",\r\n      },\r\n    ];\r\n  }\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport ItemTable from \"../../../common/heatLossCalcCommon/ItemTable/ItemTable\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getTableData } from \"./functions/getTableData\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\nimport {\r\n  calculate_item_data,\r\n  calculate_room_data,\r\n  calculate_wallItem_data,\r\n  delete_item_action,\r\n} from \"../../../../redux/store/rooms/actions\";\r\nconst RoomBuildingItemTable = (props) => {\r\n  const {\r\n    editRoomBuilding,\r\n    deltaT,\r\n    itemIdx,\r\n    roomIdx,\r\n    room,\r\n    item,\r\n    outsideT,\r\n    rooms,\r\n    projectBuildingType,\r\n  } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const goToRoomBuildingInfoTable = () => {\r\n    props.history.push(`/main/mat-app/room/${room.id}/wall/${item.id}`);\r\n  };\r\n\r\n  const deleteRoomBuildingItemTable = () => {\r\n\r\n    if (window.confirm(`Do you want to delete ${item.name}?`)) {\r\n      let deletedItem = document.getElementById(item.id);\r\n      deletedItem.classList.add(\"flip-out-diag-2-br\");\r\n      setTimeout(() => {\r\n        dispatch(delete_item_action(room.id, item.id));\r\n        dispatch(\r\n          calculate_room_data(roomIdx, {\r\n            roomT: room.roomT,\r\n            outsideT: outsideT,\r\n          })\r\n        );\r\n      }, 600);\r\n    }\r\n  };\r\n\r\n  const editRoomBuildingItemTable = () => {\r\n    editRoomBuilding({ ...item, idx: itemIdx });\r\n  };\r\n\r\n  const tableData = getTableData(item, room.type);\r\n\r\n  const calculateData = {\r\n    deltaT: deltaT,\r\n    buildingTypeValue: projectBuildingType,\r\n  };\r\n\r\n  const calculateRoomBuilding = () => {\r\n    rooms[roomIdx].items[itemIdx].items.forEach((element, id) => {\r\n      dispatch(calculate_wallItem_data(roomIdx, itemIdx, id, calculateData));\r\n    });\r\n    dispatch(calculate_item_data(roomIdx, itemIdx, calculateData));\r\n    dispatch(\r\n      calculate_room_data(props.roomIdx, {\r\n        roomT: room.roomT,\r\n        outsideT: outsideT,\r\n      })\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    calculateRoomBuilding();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    calculateRoomBuilding();\r\n  }, [\r\n    item.name,\r\n    item.type,\r\n    item.exWallGroup,\r\n    item.thermInsul,\r\n    item.thickInsul,\r\n    item.expPerimeter,\r\n    item[\"length\"],\r\n    item.height,\r\n    item.uValue,\r\n    item.floorArea,\r\n    item.area,\r\n    item.heatLoss,\r\n    item.itemName,\r\n  ]);\r\n\r\n  return (\r\n    <ItemTable\r\n      tableId={item.id}\r\n      tableName={item.name}\r\n      goToInfoTable={goToRoomBuildingInfoTable}\r\n      deleteTable={deleteRoomBuildingItemTable}\r\n      hasInfoTable={true}\r\n      editTable={editRoomBuildingItemTable}\r\n      tableData={tableData}\r\n    />\r\n  );\r\n};\r\nexport default withRouter(RoomBuildingItemTable);\r\n","import { toSiPrefix } from \"../../../../../math\";\r\n\r\nexport const getTableData = (state, roomType) => {\r\n  if (state.exWallGroup === \"ground floor\") {\r\n    if (roomType === \"Simple room\") {\r\n      return [\r\n        {\r\n          name: \"Name\",\r\n          value: state.name,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Type\",\r\n          value: state.exWallGroup,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Length\",\r\n          value: state[\"length\"],\r\n          unit: \"m\",\r\n          prefData: toSiPrefix(state[\"length\"], undefined, \" \"),\r\n        },\r\n        {\r\n          name: \"Width\",\r\n          value: state.width,\r\n          unit: \"m\",\r\n          prefData: toSiPrefix(state.width, undefined, \" \"),\r\n        },\r\n        {\r\n          name: \"Area\",\r\n          value: state.area,\r\n          unit: \"m²\",\r\n          prefData: toSiPrefix(state.area, undefined, \" \"),\r\n        },\r\n        {\r\n          name: \"Exposed perimeter\",\r\n          value: state.expPerimeter,\r\n          unit: \"m\",\r\n          prefData: toSiPrefix(state.expPerimeter, undefined, \" \"),\r\n        },\r\n        {\r\n          name: \"Thermal conductivity of insulation\",\r\n          value: state.thermInsul,\r\n          unit: \"W/mK\",\r\n          prefData: toSiPrefix(state.thermInsul, undefined, \" \"),\r\n        },\r\n        {\r\n          name: \"Thickness of insulation\",\r\n          value: state.thickInsul,\r\n          unit: \"mm\",\r\n          prefData: toSiPrefix(state.thickInsul, undefined, \" \"),\r\n        },\r\n        {\r\n          name: \"U-value\",\r\n          value: state.uValue,\r\n          prefData: toSiPrefix(state.uValue, undefined, \" \"),\r\n          unit: \"W/m²K\",\r\n        },\r\n        {\r\n          name: \"Heat loss\",\r\n          value: state.heatLoss,\r\n          prefData: toSiPrefix(state.heatLoss, undefined, \" \"),\r\n          unit: \"W\",\r\n        },\r\n      ];\r\n    }\r\n    if (roomType === \"Complex shaped room\") {\r\n      return [\r\n        {\r\n          name: \"Name\",\r\n          value: state.name,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Type\",\r\n          value: state.exWallGroup,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Exposed perimeter\",\r\n          value: state.expPerimeter,\r\n          unit: \"m\",\r\n          prefData: toSiPrefix(state.expPerimeter, undefined, \" \"),\r\n        },\r\n        {\r\n          name: \"Area\",\r\n          value: state.area,\r\n          unit: \"m²\",\r\n          prefData: toSiPrefix(state.area, undefined, \" \"),\r\n        },\r\n        {\r\n          name: \"Thermal conductivity of insulation\",\r\n          value: state.thermInsul,\r\n          unit: \"W/mK\",\r\n          prefData: toSiPrefix(state.thermInsul, undefined, \" \"),\r\n        },\r\n        {\r\n          name: \"Thickness of insulation\",\r\n          value: state.thickInsul,\r\n          unit: \"mm\",\r\n          prefData: toSiPrefix(state.thickInsul, undefined, \" \"),\r\n        },\r\n        {\r\n          name: \"U-value\",\r\n          value: state.uValue,\r\n          prefData: toSiPrefix(state.uValue, undefined, \" \"),\r\n          unit: \"W/m²K\",\r\n        },\r\n        {\r\n          name: \"Heat loss\",\r\n          value: state.heatLoss,\r\n          prefData: toSiPrefix(state.heatLoss, undefined, \" \"),\r\n          unit: \"W\",\r\n        },\r\n      ];\r\n    }\r\n  } else if (state.exWallGroup === \"roof\") {\r\n    if (roomType === \"Simple room\") {\r\n      return [\r\n        {\r\n          name: \"Name\",\r\n          value: state.name,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Type\",\r\n          value: state.exWallGroup,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Length\",\r\n          value: state[\"length\"],\r\n          prefData: toSiPrefix(state[\"length\"], undefined, \" \"),\r\n          unit: \"m\",\r\n        },\r\n        {\r\n          name: \"Width\",\r\n          value: state.width,\r\n          prefData: toSiPrefix(state.width, undefined, \" \"),\r\n          unit: \"m\",\r\n        },\r\n        {\r\n          name: \"U-value\",\r\n          value: state.uValue,\r\n          prefData: toSiPrefix(state.uValue, undefined, \" \"),\r\n          unit: \"W/m²K\",\r\n        },\r\n        {\r\n          name: \"Area\",\r\n          unit: \"m²\",\r\n          value: state.area,\r\n          prefData: toSiPrefix(state.area, undefined, \" \"),\r\n        },\r\n        {\r\n          name: \"Heat loss\",\r\n          value: state.heatLoss,\r\n          prefData: toSiPrefix(state.heatLoss, undefined, \" \"),\r\n          unit: \"W\",\r\n        },\r\n        {\r\n          name: \"Description of layers\",\r\n          value: state.itemName,\r\n          unit: \"\",\r\n        },\r\n      ];\r\n    }\r\n    if (roomType === \"Complex shaped room\") {\r\n      return [\r\n        {\r\n          name: \"Name\",\r\n          value: state.name,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Type\",\r\n          value: state.exWallGroup,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"U-value\",\r\n          value: state.uValue,\r\n          prefData: toSiPrefix(state.uValue, undefined, \" \"),\r\n          unit: \"W/m²K\",\r\n        },\r\n        {\r\n          name: \"Area\",\r\n          unit: \"m²\",\r\n          value: state.area,\r\n          prefData: toSiPrefix(state.area, undefined, \" \"),\r\n        },\r\n        {\r\n          name: \"Heat loss\",\r\n          value: state.heatLoss,\r\n          prefData: toSiPrefix(state.heatLoss, undefined, \" \"),\r\n          unit: \"W\",\r\n        },\r\n        {\r\n          name: \"Description of layers\",\r\n          value: state.itemName,\r\n          unit: \"\",\r\n        },\r\n      ];\r\n    }\r\n  } else {\r\n    if (state.external) {\r\n      return [\r\n        {\r\n          name: \"Name\",\r\n          value: state.name,\r\n          col: \"12\",\r\n        },\r\n        {\r\n          name: \"Type\",\r\n          value: state.exWallGroup,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Length\",\r\n          value: state.length,\r\n          prefData: toSiPrefix(state.length, undefined, \" \"),\r\n          unit: \"m\",\r\n        },\r\n        {\r\n          name: \"Height\",\r\n          value: state.height,\r\n          prefData: toSiPrefix(state.height, undefined, \" \"),\r\n          unit: \"m\",\r\n        },\r\n        {\r\n          name: \"U-value\",\r\n          value: state.uValue,\r\n          prefData: toSiPrefix(state.uValue, undefined, \" \"),\r\n          unit: \"W/m²K\",\r\n        },\r\n        {\r\n          name: \"Area\",\r\n          unit: \"m²\",\r\n          value: state.area,\r\n          prefData: toSiPrefix(state.area, undefined, \" \"),\r\n        },\r\n        {\r\n          name: \"Heat loss\",\r\n          value: state.heatLoss,\r\n          prefData: toSiPrefix(state.heatLoss, undefined, \" \"),\r\n          unit: \"W\",\r\n        },\r\n        {\r\n          name: \"Description of layers\",\r\n          value: state.itemName,\r\n          unit: \"\",\r\n        },\r\n      ];\r\n    } else {\r\n      return [\r\n        {\r\n          name: \"Name\",\r\n          value: state.name,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Type\",\r\n          value: state.exWallGroup,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Length\",\r\n          value: state.length,\r\n          prefData: toSiPrefix(state.length, undefined, \" \"),\r\n          unit: \"m\",\r\n        },\r\n        {\r\n          name: \"Height\",\r\n          value: state.height,\r\n          prefData: toSiPrefix(state.height, undefined, \" \"),\r\n          unit: \"m\",\r\n        },\r\n        {\r\n          name: \"U-value\",\r\n          value: state.uValue,\r\n          prefData: toSiPrefix(state.uValue, undefined, \" \"),\r\n          unit: \"W/m²K\",\r\n        },\r\n        {\r\n          name: \"Area\",\r\n          unit: \"m²\",\r\n          value: state.area,\r\n          prefData: toSiPrefix(state.area, undefined, \" \"),\r\n        },\r\n        {\r\n          name: \"Heat loss\",\r\n          value: state.heatLoss,\r\n          prefData: toSiPrefix(state.heatLoss, undefined, \" \"),\r\n          unit: \"W\",\r\n        },\r\n        {\r\n          name: \"Description of layers\",\r\n          value: state.itemName,\r\n          unit: \"\",\r\n        },\r\n        {\r\n          name: \"Temperature of neighbor room\",\r\n          value: state.tempNroom,\r\n          prefData: toSiPrefix(state.tempNroom),\r\n          unit: \"°С\",\r\n        },\r\n      ];\r\n    }\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Col } from \"react-bootstrap\";\r\nimport RoomBuildingItemTable from \"../RoomBuildingItemTable/RoomBuildingItemTable\";\r\n\r\n\r\nconst RoomBuildingItemTables = (props) => {\r\n  const items = props.items.map((roomItem, id) => {\r\n    return (\r\n      <Col\r\n        xl={4}\r\n        xs={12}\r\n        lg={6}\r\n        md={12}\r\n        sm={12}\r\n        key={roomItem.id}\r\n        className=\"mt-5\"\r\n      >\r\n        <RoomBuildingItemTable\r\n          editRoomBuilding={props.editRoomBuilding}\r\n          deltaT={props.deltaT}\r\n          itemIdx={id}\r\n          roomIdx={props.roomIdx}\r\n          room={props.room}\r\n          item={roomItem}\r\n          outsideT={props.outsideT}\r\n          rooms={props.rooms}\r\n          projectBuildingType={props.projectBuildingType}\r\n        />\r\n      </Col>\r\n    );\r\n  });\r\n  return items;\r\n};\r\n\r\nexport default RoomBuildingItemTables;\r\n","import NavigationPanel from \"../../../common/heatLossCalcCommon/NavigationPanel/NavigationPanel\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst RoomNavigationPanel = (props) => {\r\n  const { navData, history } = props;\r\n\r\n  const pageLevelLinks = [\r\n    {\r\n      link: \"/main/mat-app\",\r\n      buttonLabel: \"Go to project\",\r\n    },\r\n  ];\r\n\r\n  const neighbourPagesLinks = [\r\n    {\r\n      link: `/main/mat-app/room/${navData.prevPageId}`,\r\n      buttonLabel: \"Prev\",\r\n    },\r\n    {\r\n      link: `/main/mat-app/room/${navData.nextPageId}`,\r\n      buttonLabel: \"Next\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <NavigationPanel\r\n      history={history}\r\n      pageLevelLinks={pageLevelLinks}\r\n      neighbourPagesLinks={neighbourPagesLinks}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(RoomNavigationPanel);\r\n","import React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Row, Button } from \"react-bootstrap\";\r\nimport RoomItemModal from \"../components/newRoomItemModal/newRoomItemModal\";\r\nimport RoomInfoTable from \"../components/heatLossCalc/Room/RoomInfoTable/RoomInfoTable\";\r\nimport RoomBuildingItemTables from \"../components/heatLossCalc/RoomBuilding/RoomBildingItemTables/RoomBildingItemTables\";\r\nimport RoomNavigationPanel from \"../components/heatLossCalc/Room/RoomNavigationPanel/RoomNavigationPanel\";\r\n\r\nconst RoomPage = (props) => {\r\n  // GET PREV/NEXT ROOM INDEX POSITION IN ROOM ARRAY\r\n  const getNavData = (rooms, idx) => {\r\n    let prewIdx = Number(idx - 1);\r\n    let nextIdx = Number(idx + 1);\r\n    if (rooms[prewIdx] == null) {\r\n      prewIdx = rooms.length - 1;\r\n    }\r\n    if (rooms[nextIdx] == null) {\r\n      nextIdx = 0;\r\n    }\r\n    return {\r\n      prevPageId: rooms[prewIdx].id,\r\n      nextPageId: rooms[nextIdx].id,\r\n    };\r\n  };\r\n\r\n  const getPageData = (rooms, id) => {\r\n    // GET INDEX OF ROOM OBJ IN ROOMS ARRAY\r\n    const currentIdx = rooms.findIndex((room) => {\r\n      return room.id.toString() === id.toString();\r\n    });\r\n\r\n    // GET ROOM POSITION №#\r\n    const currentPos = Number(currentIdx + 1);\r\n    const roomNavData = getNavData(rooms, currentIdx);\r\n    const { prevPageId, nextPageId } = roomNavData;\r\n    const choosedRoom = rooms[currentIdx];\r\n\r\n    return {\r\n      choosedRoom,\r\n      currentPos,\r\n      currentIdx,\r\n      prevPageId,\r\n      nextPageId,\r\n    };\r\n  };\r\n\r\n  const roomId = props.match.params.id;\r\n  const rooms = useSelector((state) => state.rooms);\r\n  const project = useSelector((state) => state.project);\r\n  const pageData = getPageData(rooms, roomId);\r\n  const { choosedRoom, currentPos, currentIdx, ...navData } = pageData;\r\n  const roomItems = choosedRoom.items;\r\n\r\n  // state for room buildings showing/editing\r\n  const [IsModalShow, setModalShow] = useState(false);\r\n  const [isModalEdit, setModalEdit] = useState(false);\r\n\r\n  // state with data of edited room building\r\n  const [editedRoomBuilding, setEditedRoomBuilding] = useState({});\r\n\r\n  // function for opening room building modal in editing state\r\n  const editRoomBuilding = (roomBuilding) => {\r\n    setModalEdit(true);\r\n    setEditedRoomBuilding(roomBuilding);\r\n    setModalShow(true);\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <RoomInfoTable room={choosedRoom} />\r\n      <div className=\"mt-4\">\r\n        <RoomNavigationPanel navData={navData} />\r\n      </div>\r\n      <div className=\"mt-4\">\r\n        <Button\r\n          variant=\"primary\"\r\n          size=\"lg\"\r\n          onClick={() => setModalShow(true)}\r\n          style={{\r\n            width: \"100%\",\r\n            fontSize: \"20px\",\r\n          }}\r\n        >\r\n          add/edit building element\r\n        </Button>\r\n      </div>\r\n      <div className=\"mt-4\">\r\n        <Row>\r\n          <RoomBuildingItemTables\r\n            editRoomBuilding={editRoomBuilding}\r\n            deltaT={choosedRoom.deltaT}\r\n            roomIdx={currentIdx}\r\n            room={choosedRoom}\r\n            outsideT={project.outsideT}\r\n            rooms={rooms}\r\n            projectBuildingType={project.buildingType}\r\n            items={roomItems}\r\n          />\r\n        </Row>\r\n      </div>\r\n      <RoomItemModal\r\n        room={choosedRoom}\r\n        editedRoomBuilding={editedRoomBuilding}\r\n        isEdit={isModalEdit}\r\n        roomIdx={currentIdx}\r\n        roomId={roomId}\r\n        pos={currentPos}\r\n        show={IsModalShow}\r\n        editRoom={isModalEdit}\r\n        onHide={() => {\r\n          setModalEdit(false);\r\n          setModalShow(false);\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomPage;\r\n","import { Card, Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AppCard = (props) => {\r\n  const { desc, title, img, link } = props;\r\n  return (\r\n    <Link to={link} className=\"app-card__link\">\r\n      <Card>\r\n        <Card.Img\r\n          variant=\"top\"\r\n          src={process.env.PUBLIC_URL + \"/images/\" + img}\r\n          style={{ height: \"200px\", objectFit: \"cover\" }}\r\n        />\r\n        <Card.Body>\r\n          <Card.Title>{title}</Card.Title>\r\n          <Card.Text style={{ minHeight: \"72px\" }}>{desc}</Card.Text>\r\n          <Button variant=\"primary\">Go</Button>\r\n        </Card.Body>\r\n      </Card>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default AppCard;\r\n","import React from \"react\";\r\nimport AppCard from \"../components/app-components/AppCard/AppCard\";\r\nimport { Row, Col, Container } from \"react-bootstrap\";\r\nimport AppHeader from \"components/app-components/AppHeader/AppHeader\";\r\n\r\nconst StartPage = () => {\r\n  const matAppDesc = `This is an application for calculating the heat loss of a building or individual rooms`;\r\n  const wrongDesc = `This application is under development or has not been added`;\r\n  const nomogramDesc = `A collection of Nomographs to simplify daily tasks`;\r\n\r\n  const content = (\r\n    <Row style={{ justifyContent: \"space-between\" }}>\r\n      <Col item xs={12} sm={6} md={4} lg={3}>\r\n        <AppCard\r\n          desc={matAppDesc}\r\n          img={\"valuation-calculator-app-logo.png\"}\r\n          title={\"Heat loss application\"}\r\n          link={\"/main/mat-app\"}\r\n        />\r\n      </Col>\r\n      <Col item xs={12} sm={6} md={4} lg={3}>\r\n        <AppCard\r\n          desc={nomogramDesc}\r\n          img={\"Nomogram.png\"}\r\n          title={\"Nomograph Collection\"}\r\n          link={\"/main/nomograph\"}\r\n        />\r\n      </Col>\r\n      <Col item xs={12} sm={6} md={4} lg={3}>\r\n        <AppCard\r\n          desc={wrongDesc}\r\n          img={\"wrong.png\"}\r\n          title={\"Coming soon\"}\r\n          link={\"/main/start\"}\r\n        />\r\n      </Col>\r\n    </Row>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Container fluid>{content}</Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StartPage;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport { toSiPrefix } from \"math\";\r\n\r\nconst showUnit = (obj) => {\r\n  if (obj.hasOwnProperty(\"unit\")) {\r\n    return obj.unit;\r\n  }\r\n};\r\n\r\nconst createTable = (columnsData, tableData) => {\r\n  const tableHeaderElements = columnsData.map((el, id) => {\r\n    return (\r\n      <th\r\n        className=\"report-table_rooms__cell\"\r\n        style={{ verticalAlign: \"middle\" }}\r\n        key={id}\r\n      >\r\n        {el.title}\r\n        <br />\r\n        {showUnit(el)}\r\n      </th>\r\n    );\r\n  });\r\n\r\n  const tableBodyRows = tableData.map((el, id) => {\r\n    const tableCells = Object.entries(el).map((item, itemId) => {\r\n      return (\r\n        <td className=\"report-table_rooms__cell\" key={itemId}>\r\n          {item[1]}\r\n        </td>\r\n      );\r\n    });\r\n    return (\r\n      <tr style={{ textAlign: \"center\" }} key={id}>\r\n        {tableCells}\r\n      </tr>\r\n    );\r\n  });\r\n\r\n  return { tableHeaderElements, tableBodyRows };\r\n};\r\n\r\nconst RoomsTable = () => {\r\n  const rooms = useSelector((state) => state.rooms);\r\n\r\n  const columnsData = [\r\n    { title: \"ID\", field: \"id\" },\r\n    { title: \"Name\", field: \"name\" },\r\n    { title: \"Room temp\", unit: \"[°С]\", field: \"roomT\" },\r\n    { title: \"Floor area\", unit: \"[m²]\", field: \"area\" },\r\n    { title: \"Room volume\", unit: \"[m³]\", field: \"roomVolume\" },\r\n    { title: \"Ventilation-loss\", unit: \"[W]\", field: \"venHeatLoss\" },\r\n    { title: \"Transmission-loss\", unit: \"[W]\", field: \"transmissionLoss\" },\r\n    { title: \"Specific heat loss\", unit: \"[W/m²]\", field: \"specHeatLoss\" },\r\n    { title: \"Response capacity\", unit: \"[W]\", field: \"respCapacity\" },\r\n    { title: \"Total-heat-loss\", unit: \"[W]\", field: \"totalHeatLoss\" },\r\n  ];\r\n\r\n  const tableData = rooms.map((room, id) => {\r\n    return {\r\n      id: id,\r\n      name: room.name,\r\n      area: Number(toSiPrefix(room.area, undefined, \" \").value).toFixed(2),\r\n      roomT: Number(toSiPrefix(room.roomT, undefined, \" \").value).toFixed(2),\r\n      roomVolume: Number(\r\n        toSiPrefix(room.roomVolume, undefined, \" \").value\r\n      ).toFixed(2),\r\n      venHeatLoss: Number(\r\n        toSiPrefix(room.venHeatLoss, undefined, \" \").value\r\n      ).toFixed(2),\r\n      transmissionLoss: Number(\r\n        toSiPrefix(room.transmissionLoss, undefined, \" \").value\r\n      ).toFixed(2),\r\n      specHeatLoss: Number(\r\n        toSiPrefix(room.specHeatLoss, undefined, \" \").value\r\n      ).toFixed(2),\r\n      respCapacity: Number(\r\n        toSiPrefix(room.respCapacity || 0, undefined, \" \").value\r\n      ).toFixed(2),\r\n      totalHeatLoss: Number(\r\n        toSiPrefix(room.totalHeatLoss, undefined, \" \").value\r\n      ).toFixed(2),\r\n    };\r\n  });\r\n\r\n  const tableUi = createTable(columnsData, tableData);\r\n\r\n  return (\r\n    <Table striped bordered hover responsive=\"lg\">\r\n      <thead>\r\n        <tr style={{ textAlign: \"center\" }}>{tableUi.tableHeaderElements}</tr>\r\n      </thead>\r\n      <tbody>{tableUi.tableBodyRows}</tbody>\r\n    </Table>\r\n  );\r\n};\r\n\r\nexport default RoomsTable;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport { toSiPrefix } from \"math\";\r\n\r\nconst showUnit = (obj) => {\r\n  if (obj.hasOwnProperty(\"unit\")) {\r\n    return obj.unit;\r\n  }\r\n};\r\n\r\nconst createTable = (columnsData, tableData) => {\r\n  const tableHeaderElements = columnsData.map((el, id) => {\r\n    return (\r\n      <th\r\n        className=\"report-table__cell\"\r\n        key={id}\r\n        style={{ verticalAlign: \"middle\" }}\r\n      >\r\n        {el.title}\r\n        <br />\r\n        {showUnit(el)}\r\n      </th>\r\n    );\r\n  });\r\n\r\n  const tableBodyRows = tableData.map((el, id) => {\r\n    const tableCells = Object.entries(el).map((item, itemId) => {\r\n      return (\r\n        <td className=\"report-table__cell\" key={itemId}>\r\n          {item[1]}\r\n        </td>\r\n      );\r\n    });\r\n    return (\r\n      <tr style={{ textAlign: \"center\" }} key={id}>\r\n        {tableCells}\r\n      </tr>\r\n    );\r\n  });\r\n\r\n  return { tableHeaderElements, tableBodyRows };\r\n};\r\n\r\nconst ProjectTable = () => {\r\n  const project = useSelector((state) => state.project);\r\n\r\n  const columnsData = [\r\n    { title: \"Name\", field: \"name\" },\r\n    { title: \"Outside temp\", unit: \"[°С]\", field: \"outsideT\" },\r\n    { title: \"Ground temp\", unit: \"[°С]\", field: \"groundT\" },\r\n    { title: \"Degree days\", field: \"dDays\" },\r\n    { title: \"Total floor area\", unit: \"[m²]\", field: \"totalFloorArea\" },\r\n    { title: \"Specific heat loss\", unit: \"[W]\", field: \"totalHeatLoss\" },\r\n    { title: \"Total-heat-loss\", unit: \"[W/m²]\", field: \"specHeatLoss\" },\r\n  ];\r\n\r\n  const tableData = [\r\n    {\r\n      name: project.name,\r\n      outsideT:  project.outsideT,\r\n      groundT:  project.groundT,\r\n      dDays: Number(toSiPrefix(project.dDays,undefined, \" \").value).toFixed(2),\r\n      totalFloorArea:  Number(toSiPrefix(project.totalFloorArea,undefined, \" \").value).toFixed(2),\r\n      specHeatLoss:  Number(toSiPrefix(project.specHeatLoss,undefined, \" \").value).toFixed(2),\r\n      totalHeatLoss:  Number(toSiPrefix(project.totalHeatLoss,undefined, \" \").value).toFixed(2),\r\n    },\r\n    \r\n  ];\r\n\r\n  const tableUi = createTable(columnsData, tableData);\r\n\r\n  return (\r\n    <Table striped bordered hover responsive=\"md\">\r\n      <thead>\r\n        <tr style={{ textAlign: \"center\" }}>{tableUi.tableHeaderElements}</tr>\r\n      </thead>\r\n      <tbody>{tableUi.tableBodyRows}</tbody>\r\n    </Table>\r\n  );\r\n};\r\n\r\nexport default ProjectTable;\r\n","import React from \"react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport \"chartjs-plugin-datalabels\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { toSiPrefix } from \"math\";\r\n\r\nconst data = (project) => {\r\n  const labelsNormal = [\r\n    \"Transmission heat loss\",\r\n    \"Ventilation heat loss\",\r\n    \"Response capacity\",\r\n  ];\r\n  const labelsSmall = [\"Transmission\", \"Ventilation\", \"Response\"];\r\n\r\n  return {\r\n    labels: window.innerWidth < 600 ? labelsSmall : labelsNormal,\r\n    datasets: [\r\n      {\r\n        data: [\r\n          Number(\r\n            toSiPrefix(project.transmissionLoss, undefined, \" \").value\r\n          ).toFixed(2),\r\n          Number(toSiPrefix(project.venHeatLoss, undefined, \" \").value).toFixed(\r\n            2\r\n          ),\r\n          0,\r\n        ],\r\n        backgroundColor: \"rgba(54, 162, 235, 0.5)\",\r\n        borderColor: \"rgb(54, 162, 235)\",\r\n        borderWidth: 1.5,\r\n      },\r\n    ],\r\n  };\r\n};\r\n\r\nconst options = {\r\n  scales: {\r\n    yAxes: [\r\n      {\r\n        ticks: {\r\n          beginAtZero: true,\r\n          fontSize: window.innerWidth < 600 ? 8 : 12,\r\n        },\r\n      },\r\n    ],\r\n    xAxes: [\r\n      {\r\n        barPercentage: 0.6,\r\n        ticks: {\r\n          fontSize: window.innerWidth < 600 ? 8 : 12,\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  plugins: {\r\n    datalabels: {\r\n      anchor: \"center\",\r\n      align: \"top\",\r\n      formatter: (value) => {\r\n        return value + \" W\";\r\n      },\r\n      color: \"white\",\r\n      backgroundColor: \"#0D47A1\",\r\n      borderRadius: 5,\r\n      font: {\r\n        size: window.innerWidth < 600 ? 8 : 12,\r\n      },\r\n      labels: {\r\n        title: {\r\n          font: {},\r\n        },\r\n        value: {},\r\n      },\r\n    },\r\n  },\r\n  legend: {\r\n    display: false,\r\n  },\r\n};\r\n\r\nconst VerticalBar = () => {\r\n  const project = useSelector((state) => state.project);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"header\">\r\n        <h3\r\n          className=\"title\"\r\n          style={{ textAlign: \"center\", padding: \"20px\", fontSize: \"1.4rem\" }}\r\n        >\r\n          Heat loss summary\r\n        </h3>\r\n        {/* <ol type=\"a\">\r\n          <li>Transmission heat loss</li>\r\n          <li>Ventilation heat loss</li>\r\n          <li>Response capacity</li>\r\n        </ol> */}\r\n      </div>\r\n      <Bar data={data(project)} options={options} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VerticalBar;\r\n","import React from \"react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { calc_group } from \"../../../calculation/calc_group\";\r\nimport { toSiPrefix } from \"math\";\r\n\r\nconst options = {\r\n  scales: {\r\n    yAxes: [\r\n      {\r\n        ticks: {\r\n          beginAtZero: true,\r\n          fontSize: window.innerWidth < 600 ? 8 : 12,\r\n        },\r\n      },\r\n    ],\r\n    xAxes: [\r\n      {\r\n        barPercentage: 0.6,\r\n        ticks: {\r\n          fontSize: window.innerWidth < 600 ? 8 : 12,\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  plugins: {\r\n    datalabels: {\r\n      anchor: \"center\",\r\n      align: \"top\",\r\n      formatter: (value) => {\r\n        return value + \" W\";\r\n      },\r\n      color: \"white\",\r\n      backgroundColor: \"#0D47A1\",\r\n      borderRadius: 5,\r\n      font: {\r\n        size: window.innerWidth < 600 ? 8 : 12,\r\n      },\r\n      labels: {\r\n        title: {\r\n          font: {},\r\n        },\r\n        value: {},\r\n      },\r\n    },\r\n  },\r\n  legend: {\r\n    display: false,\r\n  },\r\n};\r\n\r\nconst VerticalBar2 = () => {\r\n  const rooms = useSelector((state) => state.rooms);\r\n\r\n  const getData = () => {\r\n    let wallH = 0;\r\n    let windowDoorH = 0;\r\n    let roofH = 0;\r\n\r\n    rooms.forEach((room) => {\r\n      console.log(room);\r\n      room.items.forEach((wall) => {\r\n        console.log(wall);\r\n        let wallItemsH = calc_group(wall.items, \"heatLoss\");\r\n        console.log(wallItemsH);\r\n        wallH += wall.heatLoss - wallItemsH;\r\n\r\n        wall.items.forEach((item) => {\r\n          if (item.exWallGroup === \"roof\") {\r\n            roofH += item.heatLoss;\r\n          }\r\n          if (item.exWallGroup === \"windows and doors\") {\r\n            windowDoorH += item.heatLoss;\r\n          }\r\n        });\r\n\r\n        // windowDoorH += wallItemsH;\r\n        console.log(windowDoorH);\r\n        console.log(wallH);\r\n      });\r\n    });\r\n\r\n    console.log(windowDoorH);\r\n    console.log(wallH);\r\n    return {\r\n      wallHeatLoss: Number(toSiPrefix(wallH).value).toFixed(2),\r\n      windowDoorHeatLoss: Number(toSiPrefix(windowDoorH).value).toFixed(2),\r\n      roofHeatLoss: Number(toSiPrefix(roofH).value).toFixed(2),\r\n    };\r\n  };\r\n\r\n  const { wallHeatLoss, windowDoorHeatLoss, roofHeatLoss } = getData();\r\n\r\n  const data = {\r\n    // labels: [\"a\", \"b\", \"c\", \"d\"],\r\n    labels: [\"Walls\", \"Windows/doors\", \"Floors\", \"Roof\"],\r\n    datasets: [\r\n      {\r\n        data: [wallHeatLoss, windowDoorHeatLoss, 0, roofHeatLoss],\r\n        backgroundColor: \"rgba(54, 162, 235, 0.5)\",\r\n        borderColor: \"rgb(54, 162, 235)\",\r\n        borderWidth: 1.5,\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"header\">\r\n        <h3\r\n          className=\"title\"\r\n          style={{ textAlign: \"center\", padding: \"20px\", fontSize: \"1.4rem\" }}\r\n        >\r\n          Heat loss (building elements)\r\n        </h3>\r\n        {/* <ol type=\"a\">\r\n          <li>Walls</li>\r\n          <li>Windows/doors</li>\r\n          <li>Floors</li>\r\n          <li>Roof</li>\r\n        </ol> */}\r\n      </div>\r\n      <Bar data={data} options={options} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VerticalBar2;\r\n","import React from \"react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { calc_group } from \"../../../calculation/calc_group\";\r\nimport { toSiPrefix } from \"math\";\r\n\r\nconst options = {\r\n  scales: {\r\n    yAxes: [\r\n      {\r\n        ticks: {\r\n          beginAtZero: true,\r\n          fontSize: window.innerWidth < 600 ? 8 : 12,\r\n        },\r\n      },\r\n    ],\r\n    xAxes: [\r\n      {\r\n        barPercentage: 0.6,\r\n        ticks: {\r\n          fontSize: window.innerWidth < 600 ? 8 : 12,\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  plugins: {\r\n    datalabels: {\r\n      anchor: \"center\",\r\n      align: \"top\",\r\n      formatter: (value) => {\r\n        return (\r\n          toSiPrefix(value, undefined, \" \").value +\r\n          toSiPrefix(value, undefined, \" \").prefix +\r\n          \"Wh\"\r\n        );\r\n      },\r\n      color: \"white\",\r\n      backgroundColor: \"#0D47A1\",\r\n      borderRadius: 5,\r\n      font: {\r\n        size: window.innerWidth < 600 ? 8 : 12,\r\n      },\r\n      labels: {\r\n        title: {\r\n          font: {},\r\n        },\r\n        value: {},\r\n      },\r\n    },\r\n  },\r\n  legend: {\r\n    display: false,\r\n  },\r\n};\r\n\r\nconst VerticalBar3 = () => {\r\n  const rooms = useSelector((state) => state.rooms);\r\n  const getData = () => {\r\n    let wallYearH = 0;\r\n    let windowDoorH = 0;\r\n    let roofH = 0;\r\n    let ventYearH = 0;\r\n\r\n    rooms.forEach((room) => {\r\n      ventYearH += (room.venHeatLoss / room.deltaT) * 24 * 2000;\r\n\r\n      room.items.forEach((wall) => {\r\n        let wallItemsH = calc_group(wall.items, \"heatLoss\");\r\n\r\n        wallYearH += ((wall.heatLoss - wallItemsH) / room.deltaT) * 24 * 2000;\r\n\r\n        wall.items.forEach((item) => {\r\n          if (item.exWallGroup === \"roof\") {\r\n            roofH += (item.heatLoss / room.deltaT) * 24 * 2000;\r\n          }\r\n          if (item.exWallGroup === \"windows and doors\") {\r\n            windowDoorH += (item.heatLoss / room.deltaT) * 24 * 2000;\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    return {\r\n      vYearH: Number(toSiPrefix(ventYearH, undefined, \" \").value).toFixed(2),\r\n      rYearH: Number(toSiPrefix(roofH, undefined, \" \").value).toFixed(2),\r\n      w_dYearH: Number(toSiPrefix(windowDoorH, undefined, \" \").value).toFixed(\r\n        2\r\n      ),\r\n      wYearH: Number(toSiPrefix(wallYearH, undefined, \" \").value).toFixed(2),\r\n    };\r\n  };\r\n\r\n  const { vYearH, rYearH, w_dYearH, wYearH } = getData();\r\n\r\n  const data = {\r\n    labels: [\"Walls\", \"Windows/doors\", \"Floors\", \"Roof\", \"Ventilation\"],\r\n    // labels: [\"a\", \"b\", \"c\", \"d\", \"e\"],\r\n    datasets: [\r\n      {\r\n        data: [wYearH, w_dYearH, 3, rYearH, vYearH],\r\n        backgroundColor: \"rgba(54, 162, 235, 0.5)\",\r\n        borderColor: \"rgb(54, 162, 235)\",\r\n        borderWidth: 1.5,\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"header\">\r\n        <h3\r\n          className=\"title\"\r\n          style={{ textAlign: \"center\", padding: \"20px\", fontSize: \"1.4rem\" }}\r\n        >\r\n          Annual heating consumption\r\n        </h3>\r\n        {/* <ol type=\"a\">\r\n          <li>Walls</li>\r\n          <li>Windows/doors</li>\r\n          <li>Floors</li>\r\n          <li>Roof</li>\r\n          <li>Ventilation</li>\r\n        </ol> */}\r\n      </div>\r\n      <Bar data={data} options={options} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VerticalBar3;\r\n","import React from \"react\";\r\nimport RoomsTable from \"../ReportTables/RoomsTable\";\r\nimport ProjectTable from \"../ReportTables/ProjectTable\";\r\nimport VerticalBar from \"../ReportTables/charts/UiCharts/chart1\";\r\nimport VerticalBar2 from \"../ReportTables/charts/UiCharts/chart2\";\r\nimport VerticalBar3 from \"../ReportTables/charts/UiCharts/chart3\";\r\n\r\nconst Report = () => {\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{\r\n          maxWidth: \"100%\",\r\n        }}\r\n        id=\"report\"\r\n      >\r\n        <div\r\n          style={{\r\n            marginTop: \"50px\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: \"4px\",\r\n          }}\r\n        >\r\n          <ProjectTable />\r\n        </div>\r\n        <div\r\n          elevation={0}\r\n          style={{\r\n            marginTop: \"50px\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: \"4px\",\r\n          }}\r\n        >\r\n          <RoomsTable />\r\n        </div>\r\n        <div\r\n          elevation={0}\r\n          style={{\r\n            marginTop: \"50px\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: \"4px\",\r\n          }}\r\n        >\r\n          <div className=\"chart-container\">\r\n            <VerticalBar />\r\n          </div>\r\n        </div>\r\n        <div\r\n          elevation={0}\r\n          style={{\r\n            marginTop: \"50px\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: \"4px\",\r\n          }}\r\n        >\r\n          <div className=\"chart-container\">\r\n            <VerticalBar2 />\r\n          </div>\r\n        </div>\r\n        <div\r\n          elevation={0}\r\n          style={{\r\n            marginTop: \"50px\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: \"4px\",\r\n          }}\r\n        >\r\n          <div className=\"chart-container\">\r\n            <VerticalBar3 />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Report;\r\n","import { Card, Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst NomographCard = () => {\r\n  return (\r\n    <Card>\r\n      <Card.Img variant=\"top\" src=\"holder.js/100px180\" />\r\n      <Card.Body>\r\n        <Card.Title>Mass flow nomograph</Card.Title>\r\n        <Card.Text>\r\n          Some quick example text to build on the card title and make up the\r\n          bulk of the card's content.\r\n        </Card.Text>\r\n        <Link to={`/main/massflownomograph`}>\r\n          <Button variant=\"primary\">Go</Button>\r\n        </Link>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default NomographCard;\r\n","import React from \"react\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport NomographCard from \"components/nomograph-app-components/NomographCard/NomographCard\";\r\n\r\nconst content = (\r\n  <div style={{ flexGrow: 1, padding: \"20px\" }}>\r\n    <Row>\r\n      <Col xs={12} sm={6} md={4} lg={2} className=\"mb-4\">\r\n        <NomographCard />\r\n      </Col>\r\n      <Col xs={12} sm={6} md={4} lg={2} className=\"mb-4\">\r\n        <NomographCard />\r\n      </Col>\r\n      <Col xs={12} sm={6} md={4} lg={2} className=\"mb-4\">\r\n        <NomographCard />\r\n      </Col>\r\n      <Col xs={12} sm={6} md={4} lg={2} className=\"mb-4\">\r\n        <NomographCard />\r\n      </Col>\r\n      <Col xs={12} sm={6} md={4} lg={2} className=\"mb-4\">\r\n        <NomographCard />\r\n      </Col>\r\n      <Col xs={12} sm={6} md={4} lg={2} className=\"mb-4\">\r\n        <NomographCard />\r\n      </Col>\r\n      <Col xs={12} sm={6} md={4} lg={2} className=\"mb-4\">\r\n        <NomographCard />\r\n      </Col>\r\n      <Col xs={12} sm={6} md={4} lg={2} className=\"mb-4\">\r\n        <NomographCard />\r\n      </Col>\r\n    </Row>\r\n  </div>\r\n);\r\n\r\nconst Nomograph = () => {\r\n  return <div>{content}</div>;\r\n};\r\n\r\nexport default Nomograph;\r\n","//last change: 20210508_21:00\r\n\r\n/*\r\nknown keywords for all scales:\r\nvalues can be given as 'string', numbers, or known variables.\r\n\r\n\r\ntype: 'logarithmic',\t\t\tlogarithmic | linear | lookup  of scale y-coordinate\r\nxType: 'lookup',\t\t\t\tlogarithmic | linear | lookup  of scale x-coordinate\r\nposition: 'manual',\t\t\t\tmanual | auto\r\nunit: 'l/s',\t\t\t\t\tchoosable unit for scale ... not yet correct working\r\npositionX: 0.7,\t\t\t\t\tposition relative to screen width. Only if \"position : manual\"\r\npositionY: 0.15, \t\t\t\tposition relative to screen height. Only if \"position : manual\"\r\nheight: 0.8,\t\t\t\t\theight relative to screen height. Only if \"position : manual\"\r\ncolor: \"black\",\t\t\t\t\tcolor of scale. can be omitted.\r\nhead: \"q \\n [l/s]\",\t\t\t\theadline over scales\r\noffsetX: -0.05,\t\t\t\t\tHorizontal offset of headline \r\nheadSize: userSettings.headSize,\t\tfont-size of headline\r\nlabelSize: userSettings.labelSize,\t\tfont-size of labels\r\nmin: 0.01,\t\t\t\t\t\tminimum displayed value\r\nmax: 150,\t\t\t\t\t\tmaximum displayed value\r\ndeviders: {\r\n\tscaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n\tlabelSteps: [1],\r\n\tscaling: 'log',\t\t\t\tlog | lin | man  ... for logarithmic, linear or manual scales.\r\n\tposition: 'left'\t\t\tleft | right | center ... can be omitted, if centered dashes are wanted.\r\n},\r\nreverse: true\t\t\t\t\ttrue | false ... if true, then scaling is from bottom to top ordered.\r\n\r\n\r\n\r\nexplanation scalesteps and labelsteps:\r\n- scalesteps affects the small dashes , labelsteps the big, labelled dashes.\r\n- in sqare brackets is a comma separated list given.\r\n- log: each value is logarithmic projected.                   e.g.  1  -->   1, 10, 100, 1000 ... \r\n- lin: each scale, which is divisible by the number is shown. e.g.  10 -->  10, 20, 30, 40, 50, ....\r\n- man: only the given values are shown.                       e.g.  2  -->  2\r\n\r\n\r\nBUG: if scaling = lin, then steps smaller 1 are not working...\r\n  reproducable in radiator calculation oversizeFactor\r\n*/\r\n\r\nvar userSettings = {\r\n  renderWidth: 0,\r\n  renderHeight: 0,\r\n  headSize: 0.015,\r\n  labelSize: 0.015,\r\n  headPositionY: 0.03,\r\n  strokeWidth: 0.001,\r\n  dashLength: 0.025,\r\n};\r\n\r\nvar userInput = {\r\n  unitConverter: {\r\n    temperature: 20,\r\n    brineType: \"ethylenGlycol\",\r\n    brineRatio: 0.0,\r\n    rulerPositions: {\r\n      flowRate: 0.0002, //this is value is in SI unit\r\n      weight: 0.5,\r\n      pressure: 150,\r\n      length: 0.085,\r\n    },\r\n    flowRate: {\r\n      \"l/s\": true,\r\n      \"l/min\": true,\r\n      \"l/h\": true,\r\n      \"m³/h\": true,\r\n    },\r\n\r\n    weight: {\r\n      kg: true,\r\n      lbs: true,\r\n      g: true,\r\n      daN: true,\r\n      t: false,\r\n    },\r\n    pressure: {\r\n      \"N/m²\": true,\r\n      Pa: true,\r\n      bar: true,\r\n      psi: true,\r\n    },\r\n    length: {\r\n      mm: true,\r\n      m: true,\r\n      ft: true,\r\n      in: true,\r\n    },\r\n  },\r\n\r\n  massFlowCalculation: {\r\n    brineType: \"ethylenGlycol\",\r\n    brineRatio: 0.0,\r\n    temperature: 55, // for calculation of cp and rho\r\n    deltaTemp: 35,\r\n    power: 20000,\r\n  },\r\n\r\n  pipeCalculation: {\r\n    brineType: \"ethylenGlycol\",\r\n    brineRatio: 0.0,\r\n    flowRate: 0.001,\r\n    pipeDiameter: 0.032,\r\n    pipeLength: 33,\r\n    temperature: 55,\r\n    deltaTemp: 5,\r\n    pressureDrop: 60, // auto calculated\r\n    velocity: 2, // auto calculated\r\n    roughness: 0.05,\r\n  },\r\n\r\n  pipeCalculation2: {\r\n    pipeDiameter: 0.012,\r\n    pipeLength: 100,\r\n  },\r\n\r\n  radiatorCalculation: {\r\n    //add factors f2, f3, f4 according to DHDG V2020-Draft-200311.pdf page 158 ff.\r\n    roomTemp: 20,\r\n    inflowTemp: 60,\r\n    outflowTemp: 40,\r\n    powerFactor: 1, //auto calculated\r\n    oversizeFactor: 1, //auto calculated\r\n    radiator: \"radiator_1\",\r\n    f_2: 1,\r\n    f_3: 1,\r\n    f_4: 1,\r\n  },\r\n\r\n  hotWaterStorage: {\r\n    source1: \"heatGenerator1\",\r\n    source2: \"heatGenerator2\",\r\n    source3: \"heatGenerator3\",\r\n    cylinder: \"storageCylinder1\",\r\n    userTemp: 40,\r\n    userFlowRate: 0.0003,\r\n    //userMinTemp: 35,\r\n    userDrawOff: 0.15,\r\n    coldWaterTemp: 10,\r\n    timestepMax: 60,\r\n    timestepAuto: true,\r\n    timestepConfinement: 100, // how fast the timestep should be refined. higher value is faster, but worse result\r\n    roomTemp: 20,\r\n  },\r\n\r\n  hotWaterStorage3: {\r\n    source: \"heatGenerator4\", //from this generator, the on / off values  etc. will be taken.\r\n    cylinder: \"storageCylinder2\",\r\n    userTemp: 40,\r\n    userFlowRate: 0.0003,\r\n\r\n    coldWaterTemp: 10,\r\n    timestepMax: 60,\r\n    timestepAuto: true,\r\n    timestepConfinement: 100, // how fast the timestep should be refined. higher value is faster, but worse result\r\n    roomTemp: 20,\r\n  },\r\n\r\n  hotWaterStorage4: {\r\n    // Reheat time Nomograph\r\n    source: \"heatGenerator5\", //from this generator, the on / off values  etc. will be taken.\r\n    cylinder: \"storageCylinder5\",\r\n    userTemp: 40,\r\n    userVolume: 0.15, // the user draw off .. renamed to reduce confusion with variable names!\r\n    userFlowRate: 0.0003,\r\n    coldWaterTemp: 10,\r\n\r\n    timestepMax: 60,\r\n    timestepAuto: true,\r\n    timestepConfinement: 100, // how fast the timestep should be refined. higher value is faster, but worse result\r\n    roomTemp: 20,\r\n  },\r\n\r\n  expansionVessel1: {\r\n    systemVolume: 0.34,\r\n    systemSafetyPressure: 3e5,\r\n    systemPrechargePressure: 0.5e5,\r\n    brineType: \"ethylenGlycol\",\r\n    brineRatio: 0,\r\n    maxTemp: 80,\r\n    roomTemp: 0,\r\n  },\r\n  expansionVessel2: {\r\n    systemVolume: 0.3,\r\n    expansionVesselVolume: 0.019,\r\n    systemSafetyPressure: 3e5,\r\n    systemPrechargePressure: 1e5,\r\n    brineType: \"ethylenGlycol\",\r\n    brineRatio: 0,\r\n    roomTemp: 10,\r\n  },\r\n\r\n  floorHeating1: {\r\n    systemType: \"B\",\r\n    pipeDistance: 0.1, //in BS-EN-1264 named: T\r\n    pipeDiameter: 0.015, //must be within 0.014 ..0.022\r\n    mwt: 45, //mean water temperature\r\n    roomTemp: 20,\r\n    R_lambdaB: 0.04, // resistance of floor covering K/W\r\n    s_E: 0.001, //thickness of screed or covering above pipe\r\n    lambda_E: 0.15, //is the heat conductivity of the screed, in W/(m ⋅ K);\r\n    s_WL: 45e-6, // is the thickness of the heat diffusion device;\r\n    lambda_WL: 200, // is the heat conductivity of the heat diffusion device;\r\n    width_WL: 0.15, // width of heat diffusion device, in BS-EN-1264 named: L\r\n  },\r\n\r\n  floorHeating2: {\r\n    pipeDistance: 0.08,\r\n    pipeDiameter: 0.01, //not used yet.\r\n    floorArea: 45,\r\n  },\r\n\r\n  floorHeating3: {\r\n    brineType: \"ethylenGlycol\",\r\n    brineRatio: 0.0,\r\n    //power: 350,  //not used yet\r\n    flowRate: 1 / 60000, //for ruler  ... /60000 to easier input l/min instead of m³/s\r\n    pipeDiameter: 0.032,\r\n    pipeLength: 2, //for ruler\r\n    temperature: 55,\r\n    deltaTemp: 5,\r\n    roughness: 0.05,\r\n  },\r\n\r\n  floorHeating4: {\r\n    systemType: \"B\",\r\n    pipeDistance: 0.15, //for Ruler\r\n    pipeDiameter: 0.015, //must be within 0.014 ..0.022\r\n    mwt: 45, //for Ruler mean water temperature\r\n    roomTemp: 20,\r\n    R_lambdaB: 0.1, // resistance of floor covering K/W\r\n    s_E: 0.018, //thickness of screed or covering above pipe\r\n    lambda_E: 0.15, //is the heat conductivity of the screed, in W/(m ⋅ K);\r\n    s_WL: 0.0005, // is the thickness of the heat diffusion device;\r\n    lambda_WL: 200, // is the heat conductivity of the heat diffusion device;\r\n    width_WL: 0.15, // width of heat diffusion device, in BS-EN-1264 named: L\r\n  },\r\n\r\n  uValue1: {\r\n    wallThickness: 0.1,\r\n    relativePerimeter: 0.3,\r\n    lambda: 0.035,\r\n    ownEquation5: false, //if true, then parameter from design guide are used. If false, then own parameter are used\r\n    table321: false, //if false, then Resistance of insulation is added as  R = t / my   with 1/u_total = SUM ( 1 /u_i )\r\n  },\r\n};\r\n\r\nvar userSetup = {\r\n  radiators: {\r\n    radiator1: {\r\n      nominalPower: 2000,\r\n      nominalTemp: 50,\r\n      exponent: 1.3,\r\n    },\r\n  },\r\n\r\n  heatGenerators: {\r\n    // if hgTemp <= hgNomTemp then no loss in power\r\n    heatGenerator1: {\r\n      hgNomPower: 6000,\r\n      hgNomTemp: userInput.hotWaterStorage.coldWaterTemp, // at which maximal temperature has heat generator its nominal power.\r\n      // According to british standard, this is the cold-Water Temperature\r\n      // In the case of loading storage systems, set it to hgNomTemp = hgTemp\r\n      hgOffTemp: 60, // temperature , where the heater is switched on\r\n      hgOnTemp: 59, // temperature , where the heater is switched on\r\n      hgTemp: 65, // temperature where power is zero\r\n      hgConnectionLength: 2,\r\n      hgConnectionDiameter: 0.025,\r\n      hgConnectionResistance: 0.035, // [W/mK]\r\n    },\r\n\r\n    heatGenerator2: {\r\n      hgNomPower: 10000,\r\n      hgNomTemp: userInput.hotWaterStorage.coldWaterTemp,\r\n      hgOffTemp: 65,\r\n      hgOnTemp: 60,\r\n      hgTemp: 65,\r\n    },\r\n    heatGenerator3: {\r\n      hgNomPower: 5000,\r\n      hgNomTemp: userInput.hotWaterStorage.coldWaterTemp,\r\n      hgOffTemp: 60,\r\n      hgOnTemp: 59,\r\n      hgTemp: 65,\r\n    },\r\n    heatGenerator4: {\r\n      hgNomPower: 12000,\r\n      hgNomTemp: 65,\r\n      hgOffTemp: 60,\r\n      hgOnTemp: 59,\r\n      hgTemp: 65,\r\n    },\r\n    heatGenerator5: {\r\n      hgNomPower: 9000,\r\n      hgNomTemp: 10,\r\n      hgOffTemp: 60,\r\n      hgOnTemp: 59,\r\n      hgTemp: 65,\r\n    },\r\n  },\r\n\r\n  storageCylinders: {\r\n    storageCylinder1: {\r\n      //cylLossResistance : 0.693,\t// commonly R= U_HG * A_HG, can be estimated with formula\r\n      cylRho: 1000, // later calculated with brine.js\r\n      cylTemp: 60,\r\n      cylVolume: 0.5,\r\n      brineType: \"ethylenglycol\",\r\n      brineRatio: 0,\r\n    },\r\n    storageCylinder2: {\r\n      //cylLossResistance : 0.693,\t// commonly R= U_HG * A_HG, can be estimated with formula\r\n      cylRho: 1000, // later calculated with brine.js\r\n      cylTemp: 60,\r\n      cylVolume: 0.4,\r\n      brineType: \"ethylenglycol\",\r\n      brineRatio: 0,\r\n    },\r\n    storageCylinder5: {\r\n      //cylLossResistance : 0.693,\t// commonly R= U_HG * A_HG, can be estimated with formula\r\n      cylRho: 1000, // later calculated with brine.js\r\n      cylTemp: 60,\r\n      cylVolume: 0.3,\r\n      brineType: \"ethylenglycol\",\r\n      brineRatio: 0,\r\n    },\r\n  },\r\n\r\n  units: {\r\n    flowRate: \"l/s\",\r\n    volumeFlow: \"l/s\",\r\n    pipeDiameter: \"mm\",\r\n    temperature: \"C\",\r\n    speed: \"m/s\",\r\n    pressure: \"Pa\",\r\n    power: \"kW\",\r\n  },\r\n\r\n  unitConverter: {\r\n    flowRate: {\r\n      type: \"logarithmic\", // one setting for all scales on one converter page!\r\n      scaling: \"log\",\r\n      paddingX: 0.2,\r\n      paddingY: 0.15,\r\n      reverse: true,\r\n      siMin: 0.0001, // min ans max value in SI units!!\r\n      siMax: 0.005,\r\n      offsetX: -0.02,\r\n      \"l/s\": {\r\n        unit: \"l/s\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n          labelSteps: [1],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n      \"l/min\": {\r\n        unit: \"l/min\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n          labelSteps: [1],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n      \"l/h\": {\r\n        unit: \"l/h\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n          labelSteps: [1],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n      \"m³/h\": {\r\n        unit: \"m³/h\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n          labelSteps: [1],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n    },\r\n    weight: {\r\n      type: \"logarithmic\", // one setting for all scales on one converter page!\r\n      scaling: \"log\",\r\n      paddingX: 0.2,\r\n      paddingY: 0.15,\r\n      reverse: true,\r\n      siMin: 0.001, // min ans max value in SI units!!\r\n      siMax: 2,\r\n      offsetX: -0.01,\r\n      kg: {\r\n        unit: \"kg\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n          labelSteps: [1],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n      lbs: {\r\n        unit: \"lbs\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n          labelSteps: [1],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n      g: {\r\n        unit: \"g\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n          labelSteps: [1],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n      daN: {\r\n        unit: \"daN\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n          labelSteps: [1],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n      t: {\r\n        unit: \"t\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n          labelSteps: [1],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n    },\r\n    pressure: {\r\n      type: \"logarithmic\", // one setting for all scales on one converter page!\r\n      scaling: \"log\",\r\n      paddingX: 0.2,\r\n      paddingY: 0.15,\r\n      reverse: true,\r\n      siMin: 100, // min ans max value in SI units!!\r\n      siMax: 500,\r\n      offsetX: -0.02,\r\n      \"N/m²\": {\r\n        unit: \"N/m²\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5, 6, 7, 8, 9],\r\n          labelSteps: [1, 2, 3, 4, 5],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n      Pa: {\r\n        unit: \"Pa\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5, 6, 7, 8, 9],\r\n          labelSteps: [1, 2, 3, 4, 5],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n      bar: {\r\n        unit: \"bar\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5, 6, 7, 8, 9],\r\n          labelSteps: [1, 2, 3, 4, 5],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n      psi: {\r\n        unit: \"psi\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5, 6, 7, 8, 9],\r\n          labelSteps: [1, 2, 3, 4, 5],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n    },\r\n    length: {\r\n      type: \"logarithmic\", // one setting for all scales on one converter page!\r\n      scaling: \"log\",\r\n      paddingX: 0.2,\r\n      paddingY: 0.15,\r\n      reverse: true,\r\n      siMin: 0.01, // min ans max value in SI units!!\r\n      siMax: 0.2,\r\n      offsetX: -0.02,\r\n      mm: {\r\n        unit: \"mm\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n          labelSteps: [1],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n      m: {\r\n        unit: \"m\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n          labelSteps: [1],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n      ft: {\r\n        unit: \"ft\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n          labelSteps: [1],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n      in: {\r\n        unit: \"in\",\r\n        color: \"black\",\r\n        headSize: userSettings.headSize,\r\n        labelSize: userSettings.labelSize,\r\n        deviders: {\r\n          scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n          labelSteps: [1],\r\n          position: \"center\",\r\n          scaling: \"log\",\r\n        },\r\n      },\r\n    },\r\n  },\r\n\r\n  massFlowCalculation: {\r\n    scalePower: {\r\n      type: \"logarithmic\",\r\n      xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"kW\",\r\n      positionX: 0.2,\r\n      positionY: 0.2,\r\n      height: 0.75,\r\n      width: 0,\r\n      color: \"black\",\r\n      head: \"Power\",\r\n      offsetX: -0.02,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 1,\r\n      max: 50,\r\n      deviders: {\r\n        scaleSteps: [\r\n          1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17, 18, 19, 21, 22,\r\n          23, 24, 25, 26, 27, 28, 29, 31, 32, 33, 34, 35, 36, 37, 38, 39, 41,\r\n          42, 43, 44, 45, 46, 47, 48, 49,\r\n        ],\r\n        labelSteps: [1, 5, 10, 20, 30, 40, 50],\r\n        scaling: \"log\",\r\n        position: \"center\",\r\n      },\r\n      reverse: true,\r\n    },\r\n\r\n    scaleVolumeFlow: {\r\n      type: \"logarithmic\",\r\n      xType: \"linear\",\r\n      position: \"auto\",\r\n      unit: \"l/min\",\r\n      color: \"black\",\r\n      head: \"Flowrate\",\r\n      offsetX: -0.02,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 1,\r\n      max: 40,\r\n      deviders: {\r\n        scaleSteps: [\r\n          2, 3, 4, 6, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17, 18, 19, 21, 22, 23,\r\n          24, 25, 26, 27, 28, 29, 31, 32, 33, 34, 35, 36, 37, 38, 39,\r\n        ],\r\n        labelSteps: [1, 5, 10, 20, 30, 40],\r\n        scaling: \"log\",\r\n        position: \"center\",\r\n      },\r\n    },\r\n\r\n    scaleTemperature: {\r\n      type: \"logarithmic\",\r\n      xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"°C\",\r\n      positionX: 0.8,\r\n      positionY: 0.12,\r\n      height: 0.75,\r\n      width: 0,\r\n      color: \"black\",\r\n      head: \"\\u0394 T\",\r\n      offsetX: -0.02,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 1,\r\n      max: 40,\r\n      value: 35,\r\n      deviders: {\r\n        scaleSteps: [\r\n          1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17, 18, 19, 21, 22,\r\n          23, 24, 25, 26, 27, 28, 29, 31, 32, 33, 34, 35, 36, 37, 38, 39, 41,\r\n          42, 43, 44, 45, 46, 47, 48, 49,\r\n        ],\r\n        labelSteps: [1, 5, 10, 20, 30, 40],\r\n        scaling: \"log\",\r\n        position: \"center\",\r\n      },\r\n      reverse: false,\r\n    },\r\n  },\r\n\r\n  pipeCalculation: {\r\n    safeArea: {\r\n      minPressure: 70,\r\n      maxPressure: 500,\r\n      minVelocity: 0.5,\r\n      maxVelocity: 1.5,\r\n      minDiameter: 30,\r\n      maxDiameter: 80,\r\n    },\r\n\r\n    scalePressureDrop: {\r\n      type: \"lookup\", //untested\r\n      xType: \"lookup\", //untested\r\n      position: \"auto\",\r\n      unit: \"kPa\", //  auto | manual\r\n      color: \"black\", //colour\r\n      head:\r\n        \"Power @\" +\r\n        userInput.pipeCalculation.deltaTemp +\r\n        \"°C \\n @ \" +\r\n        userInput.pipeCalculation.pipeLength +\r\n        \" m\",\r\n      offsetX: 0.2,\r\n      headSize: userSettings.headSize, // as reference to userSettings\r\n      labelSize: userSettings.labelSize,\r\n      min: 0.5, //minimum labeled value\r\n      max: 35, //maximum labeled value\r\n      deviders: {\r\n        scaleSteps: [\r\n          1, 1.2, 1.4, 1.6, 1.8, 2, 2.5, 3, 3.5, 4, 4.5, 5, 6, 7, 8, 9,\r\n        ],\r\n        labelSteps: [1, 2, 3, 4, 5],\r\n        scaling: \"log\", //  man | lin | log\t\t\t\t--> log (array) is a repeating array between 1 and 9, lin (number) is equal spaced\r\n        position: \"right\",\r\n      },\r\n    },\r\n    scalePressureDrop2: {\r\n      position: \"twin\",\r\n      color: \"black\",\r\n      head: \"Power @\" + userInput.pipeCalculation.deltaTemp + \"°C \\n @  1 m\",\r\n      offsetX: 0,\r\n      factor: 1 / userInput.pipeCalculation.pipeLength,\r\n      deviders: {\r\n        scaleSteps: [\r\n          1, 1.2, 1.4, 1.6, 1.8, 2, 2.5, 3, 3.5, 4, 4.5, 5, 6, 7, 8, 9,\r\n        ],\r\n        labelSteps: [1, 2, 3, 4, 5],\r\n        scaling: \"log\",\r\n        position: \"left\",\r\n      },\r\n    },\r\n\r\n    scaleVelocity: {\r\n      type: \"logarithmic\",\r\n      xType: \"linear\",\r\n      position: \"auto\",\r\n      unit: \"m/s\",\r\n      color: \"black\",\r\n      head: \"velocity\",\r\n      offsetX: -0.02,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 0.1,\r\n      max: 3,\r\n      deviders: {\r\n        scaleSteps: [1, 1.5, 2, 3, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1, 2, 5],\r\n        scaling: \"log\",\r\n        position: \"right\",\r\n      },\r\n    },\r\n\r\n    scaleFlowRate: {\r\n      type: \"logarithmic\",\r\n      position: \"manual\",\r\n      unit: \"l/min\",\r\n      positionX: 0.7, //only needed if position is manual!\r\n      positionY: 0.15, //only needed if position is manual!\r\n      height: 0.8, //only needed if position is manual!\r\n      color: \"black\",\r\n      head: \"flowrate\",\r\n      offsetX: -0.1,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 0.6,\r\n      max: 9000,\r\n      deviders: {\r\n        scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1],\r\n        scaling: \"log\",\r\n        position: \"left\",\r\n      },\r\n      reverse: true,\r\n    },\r\n\r\n    // power scale is made as fork of volume Flow, so most parameters are copied.\r\n    scalePower: {\r\n      position: \"twin\",\r\n      color: \"black\",\r\n      unit: \"kW\",\r\n      head: \"Power @\" + userInput.pipeCalculation.deltaTemp + \"°C\",\r\n      offsetX: 0,\r\n      deviders: {\r\n        scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1],\r\n        scaling: \"log\",\r\n        position: \"right\",\r\n      },\r\n    },\r\n\r\n    scaleDiameter: {\r\n      type: \"logarithmic\",\r\n      position: \"manual\",\r\n      positionX: 0.8,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"green\",\r\n      head: \"diameter\",\r\n      unit: \"mm\",\r\n      offsetX: 0,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 10,\r\n      max: 200,\r\n      deviders: {\r\n        scaleSteps: [10, 12.5, 25, 32],\r\n        labelSteps: [10, 25, 50],\r\n        scaling: \"man\",\r\n      },\r\n      reverse: true,\r\n    },\r\n  },\r\n\r\n  pipeCalculation2: {\r\n    scaleDiameter: {\r\n      type: \"logarithmic\",\r\n      position: \"manual\",\r\n      positionX: 0.8,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      head: \"diameter\",\r\n      unit: \"mm\",\r\n      offsetX: 0,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 6,\r\n      max: 100,\r\n      deviders: {\r\n        scaleSteps: [],\r\n        labelSteps: [6, 8, 10, 12, 25, 50, 80, 100, 125],\r\n        scaling: \"man\",\r\n        position: \"center\",\r\n      },\r\n      reverse: true,\r\n    },\r\n    scalePipeLength: {\r\n      type: \"logarithmic\",\r\n      position: \"manual\",\r\n      positionX: 0.2,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      head: \"length\",\r\n      unit: \"m\",\r\n      offsetX: 0,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 1,\r\n      max: 200,\r\n      deviders: {\r\n        scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1, 2, 5],\r\n        scaling: \"log\",\r\n        position: \"center\",\r\n      },\r\n      reverse: true,\r\n    },\r\n\r\n    scaleVolume: {\r\n      type: \"logarithmic\",\r\n      xType: \"constant\",\r\n      position: \"auto\",\r\n      unit: \"l\",\r\n      color: \"black\",\r\n      head: \"volume\",\r\n      offsetX: -0.02,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 0.03,\r\n      max: 2000,\r\n      allowExtrapolation: true, // set this value to true, to draw extrapolate scale outside of table values!!\r\n\r\n      deviders: {\r\n        scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1, 2, 5],\r\n        scaling: \"log\",\r\n        position: \"center\",\r\n      },\r\n    },\r\n  },\r\n\r\n  radiatorCalculation: {\r\n    scaleInflow: {\r\n      type: \"linear\",\r\n      position: \"manual\",\r\n      positionX: 0.15,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"red\",\r\n      head: \"T_in [°C]\",\r\n      offsetX: -0.02,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 20,\r\n      max: 90,\r\n      deviders: {\r\n        scaleSteps: [5],\r\n        labelSteps: [10],\r\n        scaling: \"lin\",\r\n      },\r\n      reverse: true,\r\n    },\r\n\r\n    scaleOutflow: {\r\n      type: \"linear\",\r\n      position: \"manual\",\r\n      positionX: 0.85,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"blue\",\r\n      head: \"T_out [°C]\",\r\n      offsetX: -0.02,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 20,\r\n      max: 90,\r\n      deviders: {\r\n        scaleSteps: [2],\r\n        labelSteps: [10],\r\n        scaling: \"lin\",\r\n      },\r\n      reverse: true,\r\n    },\r\n\r\n    // auto calculated scales...\r\n\r\n    scaleMeanTemp: {\r\n      type: \"linear\",\r\n      position: \"auto\",\r\n      color: \"black\",\r\n      width: 0.001,\r\n      head: \"\\u0394 T [°C]\",\r\n      offsetX: -0.08,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 10,\r\n      max: 70,\r\n      deviders: {\r\n        scaleSteps: [2],\r\n        labelSteps: [10],\r\n        position: \"left\",\r\n        scaling: \"lin\",\r\n      },\r\n      reverse: true,\r\n    },\r\n\r\n    scaleOversizeFactor: {\r\n      type: \"lookup\",\r\n      position: \"auto\",\r\n      color: \"black\",\r\n      width: 0.001,\r\n      head: \"OF\",\r\n      offsetX: +0.02,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 0.7,\r\n      max: 4,\r\n      deviders: {\r\n        // BUG: if scaling = lin, then steps smaller 1 are not working...\r\n        scaleSteps: [\r\n          0.65, 0.7, 0.75, 0.8, 0.85, 0.9, 0.95, 1, 1.1, 1.2, 1.3, 1.4, 1.5,\r\n          1.6, 1.7, 1.8, 1.9, 2, 2.2, 2.4, 2.6, 2.8, 3, 3.5, 4, 4.5, 5, 5.5,\r\n        ],\r\n        labelSteps: [0.7, 0.8, 0.9, 1, 1.5, 2, 3, 4, 5],\r\n        position: \"right\",\r\n        scaling: \"man\",\r\n      },\r\n      reverse: true,\r\n    },\r\n  },\r\n\r\n  hotWaterStorage: {\r\n    scaleStorageVolume: {\r\n      type: \"logarithmic\",\r\n      position: \"manual\",\r\n      unit: \"l\",\r\n      positionX: 0.15,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      head: \"cyl. Volume\",\r\n      offsetX: -0.07,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 100,\r\n      max: 1000,\r\n      deviders: {\r\n        scaleSteps: [1, 1.2, 1.5, 2, 2.2, 2.5, 3, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1, 2, 3, 5],\r\n        scaling: \"log\",\r\n        position: \"center\",\r\n      },\r\n      reverse: true,\r\n    },\r\n\r\n    scaleUsageVolume: {\r\n      type: \"logarithmic\",\r\n      xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"l\",\r\n      positionX: 0.35,\r\n      positionY: 0.3,\r\n      height: 0.5,\r\n      color: \"black\",\r\n      head: \"single \\n draw-off\",\r\n      offsetX: +0.01,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 50,\r\n      max: 700,\r\n      deviders: {\r\n        scaleSteps: [1, 1.2, 1.5, 2, 2.2, 2.5, 3, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1, 2, 3, 5],\r\n        scaling: \"log\",\r\n        position: \"right\",\r\n      },\r\n      reverse: true,\r\n    },\r\n\r\n    scaleUsageTime: {\r\n      position: \"auto\",\r\n      unit: \"min\",\r\n      color: \"black\",\r\n      head: \"usage \\n time\",\r\n      offsetX: -0.07,\r\n      min: 5,\r\n      max: 50,\r\n      deviders: {\r\n        scaleSteps: [1, 1.2, 1.5, 2, 2.2, 2.5, 3, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1, 2, 3, 5],\r\n        scaling: \"log\",\r\n        position: \"left\",\r\n      },\r\n    },\r\n\r\n    scaleMinimumTemperature: {\r\n      type: \"polynom\", //new regression: polynom\r\n      yDegree: 5, //obligatory parameter for polynom regression\r\n      xType: \"constant\",\r\n      position: \"auto\",\r\n      unit: \"°C\",\r\n      positionX: 0.7,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      head: {\r\n        1: \"T 1\",\r\n        2: \"T 2\",\r\n        3: \"T 3\",\r\n      },\r\n      offsetX: -0.02,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: {\r\n        1: 35,\r\n        2: 30,\r\n        3: 30,\r\n      },\r\n      max: {\r\n        1: 56,\r\n        2: 55,\r\n        3: 54,\r\n      },\r\n      deviders: {\r\n        scaleSteps: [1],\r\n        labelSteps: [2],\r\n        scaling: \"lin\",\r\n        position: \"center\",\r\n      },\r\n      xSpread: 0.08,\r\n    },\r\n\r\n    scaleGrid: {\r\n      type: \"linear\",\r\n      position: \"auto\",\r\n      positionX: 0.15,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      width: 0.2,\r\n      color: \"blue\",\r\n      min: 20,\r\n      max: 80,\r\n      deviders: {\r\n        scaleSteps: [],\r\n        labelSteps: [],\r\n        scaling: \"lin\",\r\n        position: \"right\",\r\n      },\r\n      reverse: true,\r\n    },\r\n  },\r\n\r\n  hotWaterStorage3: {\r\n    scaleHgPower: {\r\n      type: \"linear\",\r\n      //xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"kW\",\r\n      positionX: 0.15,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      head: \"Power of heatgenerator\",\r\n      offsetX: -0.1,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 5,\r\n      max: 24,\r\n      deviders: {\r\n        scaleSteps: [1],\r\n        labelSteps: [1, 6],\r\n        scaling: \"lin\",\r\n        position: \"center\",\r\n      },\r\n      reverse: false,\r\n    },\r\n\r\n    scaleStorageVolume: {\r\n      type: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"l\",\r\n      positionX: 0.75,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      head: \"cyl. Volume\",\r\n      offsetX: -0.1,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 100,\r\n      max: 800,\r\n      deviders: {\r\n        scaleSteps: [10],\r\n        labelSteps: [50],\r\n        scaling: \"lin\",\r\n\r\n        /*\r\n        scaleSteps: [100,110,120,130,140,150,160,170,188,190,\r\n\t\t\t\t\t200,210,220,230,240,250,260,270,280,290,\r\n\t\t\t\t\t300,310,320,330,340,350,360,370,380,390,\r\n\t\t\t\t\t400,410,420,430,440,450,460,470,480,490],\r\n        labelSteps: [100,150,200,250,300,350,400,450,500,550,600,650,700,750,800],\r\n        scaling: \"man\",\r\n        */\r\n        position: \"left\",\r\n      },\r\n      reverse: true,\r\n    },\r\n\r\n    scaleUsageVolume: {\r\n      type: \"polynom\", //new regression: polynom\r\n      yDegree: 3, //obligatory parameter for polynom regression\r\n      //xType: \"inversePower2\",\r\n      xType: \"polynom\",\r\n      xDegree: 2, //obligatory parameter for polynom regression\r\n      position: \"auto\",\r\n      unit: \"l\",\r\n      positionX: 0.8,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      head: \"single draw-off\",\r\n      offsetX: -0.05,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 20,\r\n      max: 600,\r\n      deviders: {\r\n        scaleSteps: [10],\r\n        labelSteps: [50],\r\n        scaling: \"lin\",\r\n        position: \"right\",\r\n      },\r\n      reverse: true,\r\n    },\r\n  },\r\n\r\n  hotWaterStorage4: {\r\n    scaleHgPower: {\r\n      type: \"linear\",\r\n      xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"kW\",\r\n      positionX: 0.8,\r\n      positionY: 0.15,\r\n      height: 0.72,\r\n      color: \"black\",\r\n      head: \"Power of heatgenerator\",\r\n      offsetX: -0.1,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 4,\r\n      max: 18,\r\n      deviders: {\r\n        scaleSteps: [1],\r\n        labelSteps: [2],\r\n        scaling: \"lin\",\r\n        position: \"right\",\r\n        labelOffsetY: -0,\r\n      },\r\n      reverse: false,\r\n    },\r\n\r\n    scaleUsageVolume: {\r\n      type: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"l\",\r\n      positionX: 0.15,\r\n      positionY: 0.15,\r\n      height: 0.72,\r\n      color: \"black\",\r\n      head: \"single draw-off\",\r\n      offsetX: -0.05,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 10,\r\n      max: 200,\r\n      deviders: {\r\n        scaleSteps: [10],\r\n        labelSteps: [50],\r\n        scaling: \"lin\",\r\n        position: \"left\",\r\n        labelOffsetY: -0,\r\n      },\r\n      reverse: true,\r\n    },\r\n    //lookup\r\n    //logarithmic\r\n    scaleReheatTime: {\r\n      type: \"polynom\",\r\n      yDegree: 4,\r\n      xType: \"polynom\",\r\n      xDegree: 4,\r\n      position: \"auto\",\r\n      unit: \"min\",\r\n      positionX: 0.8,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      //tension: 0.5,\r\n      head: \"reheat time\",\r\n      offsetX: 0.1,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 45,\r\n      max: 330,\r\n      deviders: {\r\n        scaleSteps: [\r\n          30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 41, 42, 43, 44, 45, 46, 47,\r\n          48, 49, 51, 52, 53, 54, 55, 56, 57, 58, 59,\r\n\r\n          60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 71, 72, 73, 74, 75, 76, 77,\r\n          78, 79, 81, 82, 83, 84, 85, 86, 87, 88, 89, 91, 92, 93, 94, 95, 96,\r\n          97, 98, 99, 120, 140, 160, 180, 200, 220, 240, 260, 280,\r\n        ],\r\n        labelSteps: [\r\n          30, 40, 50, 60, 70, 80, 90, 100, 120, 140, 160, 180, 200, 220, 240,\r\n          260, 280,\r\n        ],\r\n        scaling: \"man\",\r\n        position: \"left\",\r\n        labelOffsetX: -0.02,\r\n        labelOffsetY: 0,\r\n        labelRotation: 30,\r\n      },\r\n      reverse: false,\r\n    },\r\n  },\r\n\r\n  expansionVessel1: {\r\n    scaleSysVolume: {\r\n      type: \"linear\",\r\n      xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"l\",\r\n      positionX: 0.2,\r\n      positionY: 0.2,\r\n      height: 0.7,\r\n      color: \"black\",\r\n      head: \"System Volume\",\r\n      offsetX: -0.1,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 100,\r\n      max: 1000,\r\n      deviders: {\r\n        scaleSteps: [50],\r\n        labelSteps: [100],\r\n        scaling: \"lin\",\r\n        position: \"left\",\r\n        labelOffsetY: 0,\r\n      },\r\n      reverse: true,\r\n    },\r\n\r\n    scalePrechargePressure: {\r\n      type: \"linear\",\r\n      xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"bar\",\r\n      positionX: 0.7,\r\n      positionY: 0.2,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      head: \"Precharge Pressure\",\r\n      offsetX: -0.1,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 0,\r\n      max: 3,\r\n      deviders: {\r\n        scaleSteps: [0.1],\r\n        labelSteps: [0.5],\r\n        scaling: \"lin\",\r\n        position: \"right\",\r\n        labelOffsetY: 0,\r\n      },\r\n      reverse: true,\r\n    },\r\n\r\n    scaleExpansionVesselVolume: {\r\n      type: \"lookup\",\r\n      xType: \"lookup\",\r\n      position: \"auto\",\r\n      unit: \"l\",\r\n      positionX: 0.8,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      head: \"Expansion Vessel Volume\",\r\n      offsetX: +0.1,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 1,\r\n      max: 110,\r\n      deviders: {\r\n        scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1, 2, 5],\r\n        scaling: \"log\",\r\n        position: \"center\",\r\n        labelOffsetY: 0,\r\n      },\r\n      reverse: true,\r\n    },\r\n  },\r\n\r\n  expansionVessel2: {\r\n    scaleSysVolume: {\r\n      type: \"linear\",\r\n      xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"l\",\r\n      positionX: 0.2,\r\n      positionY: 0.2,\r\n      height: 0.75,\r\n      color: \"black\",\r\n      head: \"System Volume\",\r\n      offsetX: -0.1,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 0,\r\n      max: 1000,\r\n      deviders: {\r\n        scaleSteps: [50],\r\n        labelSteps: [100],\r\n        scaling: \"lin\",\r\n        position: \"left\",\r\n        labelOffsetY: 0,\r\n      },\r\n      reverse: true,\r\n    },\r\n\r\n    scaleExpansionVesselVolume: {\r\n      type: \"linear\",\r\n      xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"l\",\r\n      positionX: 0.8,\r\n      positionY: 0.2,\r\n      height: 0.75,\r\n      color: \"black\",\r\n      head: \"Expansion Vessel Size\",\r\n      offsetX: -0.1,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 2,\r\n      max: 40,\r\n      deviders: {\r\n        scaleSteps: [1],\r\n        labelSteps: [2],\r\n        scaling: \"lin\",\r\n        position: \"right\",\r\n        labelOffsetY: 0,\r\n      },\r\n      reverse: false,\r\n    },\r\n\r\n    scaleMaximumTemp: {\r\n      type: \"lookup\",\r\n      xType: \"lookup\",\r\n      //\t\t\ttype: \"logarithmic\",\r\n      //\t\t\txType: \"exponent\",\r\n      position: \"auto\",\r\n      unit: \"°C\",\r\n      positionX: 0.8,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      head: \"Minimum Safety Temperature\",\r\n      offsetX: -0.4,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 0,\r\n      max: 100,\r\n      deviders: {\r\n        scaleSteps: [5],\r\n        labelSteps: [10],\r\n        scaling: \"lin\",\r\n        position: \"center\",\r\n        labelOffsetY: 0,\r\n      },\r\n      reverse: true,\r\n    },\r\n  },\r\n\r\n  floorHeating2: {\r\n    scalePipeDistance: {\r\n      type: \"linear\",\r\n      xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"mm\",\r\n      positionX: 0.2,\r\n      positionY: 0.2,\r\n      height: 0.75,\r\n      color: \"black\",\r\n      head: \"pipe distance\",\r\n      offsetX: 0,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 50,\r\n      max: 200,\r\n      deviders: {\r\n        scaleSteps: [5],\r\n        labelSteps: [10],\r\n        scaling: \"lin\",\r\n        position: \"left\",\r\n        labelOffsetY: 0,\r\n      },\r\n      reverse: true,\r\n    },\r\n    scaleFloorArea: {\r\n      type: \"linear\",\r\n      xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"m²\",\r\n      positionX: 0.8,\r\n      positionY: 0.2,\r\n      height: 0.75,\r\n      color: \"black\",\r\n      head: \"floor area\",\r\n      offsetX: 0,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 5,\r\n      max: 50,\r\n      deviders: {\r\n        scaleSteps: [5],\r\n        labelSteps: [10],\r\n        scaling: \"lin\",\r\n        position: \"right\",\r\n        labelOffsetY: 0,\r\n      },\r\n      reverse: false,\r\n    },\r\n\r\n    scalePipeLength: {\r\n      type: \"lookup\",\r\n      xType: \"lookup\",\r\n      position: \"auto\",\r\n      unit: \"m\",\r\n      positionX: 0.8,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      tension: 0.2,\r\n      head: \"length of \\n heating pipe\",\r\n      offsetX: -0.3,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 30,\r\n      max: 900,\r\n      allowExtrapolation: true, // set this value to true, to draw extrapolate scale outside of table values!!\r\n      deviders: {\r\n        scaleSteps: [1, 1.25, 1.5, 1.75, 2, 2.5, 3, 3.5, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1, 2, 3, 4, 5, 6, 8],\r\n        scaling: \"log\",\r\n        position: \"left\",\r\n        labelOffsetY: 0,\r\n      },\r\n    },\r\n\r\n    scalePipeVolume: {\r\n      type: \"lookup\",\r\n      xType: \"lookup\",\r\n      position: \"auto\",\r\n      unit: \"l\",\r\n      positionX: 0.8,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      tension: 0.2,\r\n      head: \"volume of \\n heating pipe\",\r\n      offsetX: -0.1,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 2,\r\n      max: 50,\r\n      allowExtrapolation: false,\r\n      deviders: {\r\n        scaleSteps: [1, 1.25, 1.5, 1.75, 2, 2.5, 3, 3.5, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1, 2, 3, 4, 5, 6, 8],\r\n        scaling: \"log\",\r\n        position: \"right\",\r\n        labelOffsetY: 0,\r\n      },\r\n    },\r\n  },\r\n\r\n  floorHeating1: {\r\n    /*\r\n     * scales on nomograph:\r\n     * floorHeating1.scaleMeanTemp (manual)\r\n     * floorHeating1.scaleFloorCoverResistance (manual)\r\n     * floorHeating1.scalePower (auto)\r\n     */\r\n    scaleMeanTemp: {\r\n      type: \"linear\",\r\n      xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"°C\",\r\n      positionX: 0.2,\r\n      positionY: 0.2,\r\n      height: 0.75,\r\n      color: \"black\",\r\n      head: \"MWT\",\r\n      offsetX: -0.05,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 30,\r\n      max: 60,\r\n      deviders: {\r\n        scaleSteps: [1],\r\n        labelSteps: [2],\r\n        scaling: \"lin\",\r\n        position: \"left\",\r\n        labelOffsetY: 0,\r\n      },\r\n      reverse: true,\r\n    },\r\n    scaleFloorCoverResistance: {\r\n      type: \"linear\",\r\n      xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"K/W\",\r\n      positionX: 0.8,\r\n      positionY: 0.2,\r\n      height: 0.75,\r\n      color: \"black\",\r\n      head: \"Resistance of \\n Floor covering\",\r\n      offsetX: -0.05,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 0,\r\n      max: 0.15001,\r\n      deviders: {\r\n        scaleSteps: [0.005],\r\n        labelSteps: [0.02],\r\n        scaling: \"lin\",\r\n        position: \"right\",\r\n        labelOffsetY: 0,\r\n      },\r\n      reverse: false,\r\n    },\r\n    scalePower: {\r\n      type: \"polynom\", //new regression: polynom\r\n      yDegree: 2, //obligatory parameter for polynom regression\r\n      xType: \"polynom\",\r\n      xDegree: 2,\r\n      position: \"auto\",\r\n      unit: \"W/m²\",\r\n      positionX: 0.8,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      tension: 0.2,\r\n      head: \"power output of \\n floor heating\",\r\n      offsetX: 0,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 40,\r\n      max: 140,\r\n      allowExtrapolation: true, // set this value to true, to draw extrapolate scale outside of table values!!\r\n      deviders: {\r\n        scaleSteps: [5],\r\n        labelSteps: [20],\r\n        scaling: \"lin\",\r\n        position: \"left\",\r\n        labelOffsetY: 0,\r\n        labelOffsetX: 0,\r\n      },\r\n    },\r\n    scaleFloorTemp: {\r\n      type: \"polynom\", //new regression: polynom\r\n      yDegree: 2, //obligatory parameter for polynom regression\r\n      xType: \"polynom\",\r\n      xDegree: 2,\r\n      position: \"auto\",\r\n      unit: \"°C\",\r\n      positionX: 0.8,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      tension: 0.2,\r\n      head: \"floor temperature\",\r\n      offsetX: 0.3,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 20,\r\n      max: 35,\r\n      allowExtrapolation: true, // set this value to true, to draw extrapolate scale outside of table values!!\r\n      deviders: {\r\n        scaleSteps: [0.5],\r\n        labelSteps: [1],\r\n        scaling: \"lin\",\r\n        position: \"right\",\r\n        labelOffsetY: 0,\r\n      },\r\n    },\r\n  },\r\n\r\n  floorHeating3: {\r\n    scalePipeLength: {\r\n      type: \"logarithmic\",\r\n      position: \"manual\",\r\n      unit: \"m\",\r\n      positionX: 0.2, //only needed if position is manual!\r\n      positionY: 0.15, //only needed if position is manual!\r\n      height: 0.8, //only needed if position is manual!\r\n      color: \"black\",\r\n      head: \"length\",\r\n      offsetX: -0.02,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 1,\r\n      max: 500,\r\n      deviders: {\r\n        scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1, 2, 5],\r\n        scaling: \"log\",\r\n        position: \"center\",\r\n      },\r\n      reverse: true,\r\n    },\r\n\r\n    scaleFlowRate: {\r\n      type: \"logarithmic\",\r\n      position: \"manual\",\r\n      unit: \"l/min\",\r\n      positionX: 0.7, //only needed if position is manual!\r\n      positionY: 0.15, //only needed if position is manual!\r\n      height: 0.8, //only needed if position is manual!\r\n      color: \"black\",\r\n      head: \"flowrate\",\r\n      offsetX: -0.1,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 0.1,\r\n      max: 10,\r\n      deviders: {\r\n        scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1, 2, 5],\r\n        scaling: \"log\",\r\n        position: \"left\",\r\n      },\r\n      reverse: true,\r\n    },\r\n    scalePower: {\r\n      position: \"twin\",\r\n      color: \"black\",\r\n      unit: \"kW\",\r\n      head:\r\n        \"Power \\n @ \" +\r\n        userInput.floorHeating3.deltaTemp +\r\n        \"°C delta T \\n @ \" +\r\n        userInput.floorHeating3.pipeDiameter * 1000 +\r\n        \" mm diameter\",\r\n      offsetX: 0,\r\n      deviders: {\r\n        scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1, 2, 5],\r\n        scaling: \"log\",\r\n        position: \"right\",\r\n      },\r\n    },\r\n    scalePressureDrop: {\r\n      type: \"lookup\",\r\n      xType: \"lookup\",\r\n      position: \"auto\",\r\n      unit: \"kPa\",\r\n      color: \"black\",\r\n      head: \"pressure drop\",\r\n      offsetX: -0.02,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      //min: 1E-5,\r\n      //max: 35,\r\n      deviders: {\r\n        scaleSteps: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n        labelSteps: [1],\r\n        scaling: \"log\",\r\n        position: \"right\",\r\n      },\r\n    },\r\n  },\r\n\r\n  floorHeating4: {\r\n    /*\r\n     * scales on nomograph:\r\n     * floorHeating1.scaleMeanTemp (manual)\r\n     * floorHeating1.scaleFloorCoverResistance (manual)\r\n     * floorHeating1.scalePower (auto)\r\n     */\r\n    scaleMeanTemp: {\r\n      type: \"quadratic\",\r\n      xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"°C\",\r\n      positionX: 0.2,\r\n      positionY: 0.5,\r\n      height: 0.5,\r\n      width: -0.0,\r\n      color: \"black\",\r\n      head: \"MWT\",\r\n      offsetX: -0.05,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 25,\r\n      max: 50,\r\n      deviders: {\r\n        scaleSteps: [1],\r\n        labelSteps: [5],\r\n        scaling: \"lin\",\r\n        position: \"center\",\r\n        labelOffsetY: 0,\r\n      },\r\n      reverse: true,\r\n    },\r\n    scalePipeDistance: {\r\n      type: \"quadratic\",\r\n      xType: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"mm\",\r\n      positionX: 0.8,\r\n      positionY: 0.2,\r\n      height: 0.7,\r\n      width: 0,\r\n      color: \"black\",\r\n      head: \"UFH pipe distance\",\r\n      offsetX: -0.05,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 50,\r\n      max: 350,\r\n      deviders: {\r\n        scaleSteps: [10],\r\n        labelSteps: [50],\r\n        scaling: \"lin\",\r\n        position: \"center\",\r\n        labelOffsetY: 0,\r\n      },\r\n      reverse: false,\r\n    },\r\n    scalePower: {\r\n      type: \"polynom\", //new regression: polynom\r\n      yDegree: 3, //obligatory parameter for polynom regression\r\n      xType: \"polynom\",\r\n      xDegree: 3,\r\n      position: \"auto\",\r\n      unit: \"W/m²\",\r\n      positionX: 0.8,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      tension: 0,\r\n      head: \"power output of \\n floor heating\",\r\n      offsetX: -0.1,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 20,\r\n      max: 120,\r\n      allowExtrapolation: false, // set this value to true, to draw extrapolate scale outside of table values!!\r\n      deviders: {\r\n        scaleSteps: [1],\r\n        labelSteps: [10],\r\n        scaling: \"lin\",\r\n        position: \"left\",\r\n        labelOffsetY: 0,\r\n        labelOffsetX: 0,\r\n      },\r\n    },\r\n\r\n    scaleFloorTemp: {\r\n      type: \"polynom\", //new regression: polynom\r\n      yDegree: 3, //obligatory parameter for polynom regression\r\n      xType: \"polynom\",\r\n      xDegree: 3,\r\n      position: \"auto\",\r\n      unit: \"°C\",\r\n      positionX: 0.8,\r\n      positionY: 0.15,\r\n      height: 0.8,\r\n      color: \"black\",\r\n      tension: 0.2,\r\n      head: \"floor temperature\",\r\n      offsetX: 0.15,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 20,\r\n      max: 30,\r\n      allowExtrapolation: false, // set this value to true, to draw extrapolate scale outside of table values!!\r\n      deviders: {\r\n        scaleSteps: [0],\r\n        labelSteps: [27, 29],\r\n        scaling: \"lin\",\r\n        position: \"right\",\r\n        labelOffsetY: 0,\r\n      },\r\n    },\r\n  },\r\n\r\n  uValue1: {\r\n    scaleRelativePerimeter: {\r\n      type: \"sqrt\",\r\n      position: \"manual\",\r\n      unit: \"m\",\r\n      positionX: 0.2, //only needed if position is manual!\r\n      positionY: 0.2, //only needed if position is manual!\r\n      height: 0.8, //only needed if position is manual!\r\n      color: \"black\",\r\n      head: \"P/A relative perimeter\",\r\n      offsetX: -0.15,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 0.2,\r\n      max: 0.9,\r\n      deviders: {\r\n        scaleSteps: [0.05],\r\n        labelSteps: [0.1],\r\n        scaling: \"lin\",\r\n        position: \"left\",\r\n      },\r\n      reverse: true,\r\n    },\r\n    scaleWallThicknes: {\r\n      type: \"linear\",\r\n      position: \"manual\",\r\n      unit: \"mm\",\r\n      positionX: 0.85, //only needed if position is manual!\r\n      positionY: 0.2, //only needed if position is manual!\r\n      height: 0.5, //only needed if position is manual!\r\n      color: \"black\",\r\n      head: \"insulation thickness\",\r\n      offsetX: 0,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      min: 25,\r\n      max: 150,\r\n      deviders: {\r\n        scaleSteps: [12.5],\r\n        labelSteps: [25],\r\n        scaling: \"lin\",\r\n        position: \"center\",\r\n      },\r\n      reverse: false,\r\n    },\r\n    scaleUValue: {\r\n      type: \"lookup\",\r\n\r\n      xType: \"lookup\",\r\n      position: \"auto\",\r\n      unit: \"W/m²K\",\r\n      color: \"black\",\r\n      head: \"u-value\",\r\n      offsetX: 0.1,\r\n      min: 0.15,\r\n      max: 0.55,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      deviders: {\r\n        scaleSteps: [0.02],\r\n        labelSteps: [0.1],\r\n        scaling: \"lin\",\r\n        position: \"left\",\r\n      },\r\n    },\r\n    scaleU00Value: {\r\n      type: \"lookup\",\r\n      yDegree: 4,\r\n      xType: \"constant\",\r\n      position: \"auto\",\r\n      positionX: 0.2,\r\n      unit: \"W/m²K\",\r\n      color: \"black\",\r\n      head: \"u-value \\n no insulation\",\r\n      offsetX: 0.02,\r\n      min: 0.3,\r\n      max: 1.08,\r\n      headSize: userSettings.headSize,\r\n      labelSize: userSettings.labelSize,\r\n      deviders: {\r\n        scaleSteps: [0.02],\r\n        labelSteps: [0.1],\r\n        scaling: \"lin\",\r\n        position: \"right\",\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nconst setData = (deltaT) => {\r\n  userInput.massFlowCalculation.deltaTemp = deltaT;\r\n};\r\n\r\nvar stat = {\r\n  userSetup: userSetup,\r\n  userInput: userInput,\r\n  userSettings: userSettings,\r\n  setData: setData,\r\n};\r\n\r\n//console.log(stat)\r\n\r\nexport { stat, userSetup, userInput, userSettings, setData };\r\n","function brine(brineType, type, t, ratio) {\r\n  /* type is one of the keyword in parameter object\r\n   * t is temperature -50...80 degC\r\n   * ratio is mass fraction between water and ethylene glycol 0...0.6  is 0% to 60% glycol\r\n   * version: 20210115\r\n   * output verified! 15.01.2021\r\n   * cp is given in W * kg^-1 * K^-1\r\n   */\r\n  var rho, value, cp, lambda, Pr, my, Tf\r\n   \r\n  var parameter = {\r\n    ethylenGlycol: {\r\n      rho: [0, 658.49825, -54.81501, 664.71643, 232.72605, -322.61661],\r\n      cp: [0, 5.36449, 0.78863, -2.59001, -2.73187, 1.43759],\r\n      lambda: [0, 0.83818, -1.3762, -0.07629, 1.0772, -0.20174],\r\n      ny: [0, -4.63024, -2.14817, -12.70106, 5.40536, 10.9899],\r\n      Pr: [0, 3.96951, 0.70076, -12.98045, 2.64789, 11.589],\r\n      Tf: [1.0, -0.06982, -0.3578]\r\n    },\r\n    propylenGlycol: {\r\n      rho: [0, 508.41109, -182.4082, 965.76507, 280.29104, -472.2251],\r\n      cp: [0, 4.47642, 0.60863, -0.71497, -1.93855, 0.47873],\r\n      lambda: [0, 1.18886, -1.4911, -0.69682, 1.13633, 0.06735],\r\n      ny: [0, -1.02798, -10.03298, -19.93497, 14.65802, 14.6205],\r\n      Pr: [0, 6.66139, -6.9944, -18.55114, 12.0464, 14.47735],\r\n      Tf: [1.0, -0.03736, -0.4005]\r\n    }\r\n  };\r\n  if (t < -50 || t > 100) {\r\n    console.log(\"Warning! temperature out of range -50..80\");\r\n  }\r\n  if (ratio < 0 || ratio > 0.6) {\r\n    console.log(\"Warning! brine ratio out of range 0..0.6\");\r\n  }\r\n\r\n  if (brineType !== \"ethylenGlycol\" && brineType !== \"propylenGlycol\") {\r\n    console.log(\r\n      \"Warning! unknown brinetype given to function brine.\" +\r\n        \"\\n\" +\r\n        \"         try one of: ethylenGlycol propylenGlycol\"\r\n    );\r\n  }\r\n\r\n  t = t + 273.15;\r\n\r\n  switch (String(type)) {\r\n    case \"rho\":\r\n      rho =\r\n        parameter[brineType].rho[1] +\r\n        parameter[brineType].rho[2] * ratio +\r\n        parameter[brineType].rho[3] * (273.15 / t) +\r\n        parameter[brineType].rho[4] * ratio * (273.15 / t) +\r\n        parameter[brineType].rho[5] * Math.pow(273.15 / t, 2);\r\n        \r\n        //correction according to clean water density line \r\n        // correlation for degree in °C       \r\n        /// rho = rho * ( -2.28085791802456E-6 * Math.pow ( t , 2 ) + 8.97467778947643E-5 * t + 0.999456138905411 ) ;\r\n        // correlation for degree in Kelvin\r\n\t\trho = rho * ( -2.28085791802462E-6 * Math.pow ( t , 2 ) + 0.001335779458512 * t + 0.804764893168207 );        \r\n      value = rho;\r\n      break;\r\n    case \"cp\":\r\n      cp =\r\n        parameter[brineType].cp[1] +\r\n        parameter[brineType].cp[2] * ratio +\r\n        parameter[brineType].cp[3] * (273.15 / t) +\r\n        parameter[brineType].cp[4] * ratio * (273.15 / t) +\r\n        parameter[brineType].cp[5] * Math.pow(273.15 / t, 2);\r\n      value = cp * 1000;\r\n      break;\r\n    case \"lambda\":\r\n      lambda =\r\n        parameter[brineType].lambda[1] +\r\n        parameter[brineType].lambda[2] * ratio +\r\n        parameter[brineType].lambda[3] * (273.15 / t) +\r\n        parameter[brineType].lambda[4] * ratio * (273.15 / t) +\r\n        parameter[brineType].lambda[5] * Math.pow(273.15 / t, 2);\r\n      value = lambda;\r\n      break;\r\n    case \"my\":\r\n      my = Math.exp(\r\n        parameter[brineType].ny[1] +\r\n          parameter[brineType].ny[2] * ratio +\r\n          parameter[brineType].ny[3] * (273.15 / t) +\r\n          parameter[brineType].ny[4] * ratio * (273.15 / t) +\r\n          parameter[brineType].ny[5] * Math.pow(273.15 / t, 2)\r\n      );\r\n      value = my;\r\n      break;\r\n    case \"Pr\":\r\n      Pr = Math.exp(\r\n        parameter[brineType].Pr[1] +\r\n          parameter[brineType].Pr[2] * ratio +\r\n          parameter[brineType].Pr[3] * (273.15 / t) +\r\n          parameter[brineType].Pr[4] * ratio * (273.15 / t) +\r\n          parameter[brineType].Pr[5] * Math.pow(273.15 / t, 2)\r\n      );\r\n      value = Pr;\r\n      break;\r\n    case \"Tf\":\r\n      //Tf=parameter[brineType].Tf[0]\r\n      Tf =\r\n        -273.15 +\r\n        273.15 *\r\n          (parameter[brineType].Tf[0] +\r\n            parameter[brineType].Tf[1] * ratio +\r\n            parameter[brineType].Tf[2] * Math.pow(ratio, 2));\r\n      value = Tf;\r\n      break;\r\n    default:\r\n      console.log(\r\n        \"Warning! unknown parameter type given to function brine\" +\r\n          \"\\n\" +\r\n          \"         try one of: rho cp lambda ny Pr Tf\"\r\n      );\r\n  }\r\n\r\n  return value;\r\n}\r\n\r\nexport { brine };\r\n","//last change: 20210607_15:30\r\n\r\nimport { \r\n\tniceRounding, \r\n\tinterpolate, \r\n\tminMax2parameter, \r\n\theatStorageCalculation, \r\n\tvalue2pos,pos2value, \r\n\ttoUserUnits, \r\n\ttoSiUnits,\r\n\tpoints2intersection, \r\n\tpoints2parameter,\r\n\texpansionVesselCalculation,\r\n\tfloorHeatingCalculation,\r\n\tpolynom,\r\n\tpipeCalculation,\r\n\tuValueCalculation,\r\n\tmassFlowCalculation,\r\n\tkValueCalculation\r\n\t} from \"./coreFunctions.js\";\r\n\r\nimport { stat, userSetup , userSettings} from \"./settings.js\";\r\n\r\n\r\nfunction uniq(a) {\r\n    return a.sort().filter(function(item, pos, ary) {\r\n        return !pos || item !== ary[pos - 1];\r\n    });\r\n}\r\n\r\n\r\nfunction linTesselation(min, max, tessArray){\r\n\t// ouputs an array with all numbers, devidable by numbers from tessArray.\r\n\t//console.log(min,max,tessArray);\r\n\tvar linTess = []\r\n\tvar i,j,value\r\n\tj=0\r\n\r\n\t// get first faktor:\r\n\r\n\tfor (i = 0; i < tessArray.length ; i++){\r\n\t\tvalue = Math.round(min / tessArray[i]) //+1 \r\n\r\n\t\tif ( (value * tessArray[i]) < min){ \r\n\t\t\tvalue++\r\n\t\t\t}\r\n\r\n\t\r\n\t\t\tlinTess[j] = value * tessArray[i]\r\n\r\n\t\t\tvalue++\r\n\t\t\tj++\r\n\t\t\t\r\n\t\twhile ( value * tessArray[i] <= max ){\r\n\t\t\tlinTess[j] = value * tessArray[i]\r\n\t\t\tvalue++\r\n\t\t\tj++\r\n\t\t} \r\n\t}\r\n\r\n\t//console.log(linTess);\r\n\treturn linTess;\r\n\t}\r\n\r\nfunction logTesselation(min, max, tessArray) {\r\n\r\n  var logTess = [];\r\n  var i\r\n  var LogStart = Math.floor(Math.log10(min));\r\n  var LogEnd = Math.floor(Math.log10(max));\r\n\tvar tesselationValue\r\n  var index = 0;\r\n  for (i = LogStart; i <= LogEnd; i++) {\r\n    for (const j of tessArray) {\r\n      tesselationValue = j * Math.pow(10, i);\r\n      if (tesselationValue >= min && tesselationValue <= max) {\r\n        logTess[index] = tesselationValue;\r\n        index++;\r\n      }\r\n    }\r\n  }\r\n  return logTess;\r\n}\r\n\r\nfunction manTesselation(min, max, tessArray){\r\n\tvar j=0, i\r\n\tvar cb=[]\r\n\tvar manTess = []\r\n\tfor ( i=0; i < tessArray.length; i++){\r\n\t\tcb=[]\r\n\t\tif ( typeof(tessArray[i]) === 'object'){\r\n\t\t\t// make sequence\r\n\t\t\tvar start = tessArray[i][0]\r\n\t\t\tvar end = tessArray[i][1]\r\n\t\t\tvar step = tessArray[i][2]\r\n\t\t\t\r\n\t\t\tfor ( j = start ; j <= end ; j = j + step ){\r\n\t\t\t\tcb = cb.concat(j);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tif ( typeof(tessArray[i]) === 'number' ){\r\n\t\t\tcb[0] = tessArray[i]\r\n\t\t}\r\n\t\t\r\n\t\tif ( cb[0] >= min ){\r\n\t\t\tmanTess = manTess.concat(cb);\r\n\t\t}\r\n\t}\r\n\treturn manTess\r\n}\r\n\r\nexport function tableLookup(value, table, field){\r\n\t//table is a object. contains: val , x , y\r\n\t//value is a value to lookup \r\n\t//field is the name of the output wanted!\r\n\t\r\n\r\n\tvar length, i, order, end=0, cb\r\n\tlength=Object.keys(table).length\r\n\r\n\tif ( table[0].val > table[1].val ){ order = 'reverse'}\r\n\r\n\tif ( order === 'reverse' ){\r\n\t\ti=length - 1\r\n\t\tif ( (value > table[0].val) || (value < table[length - 1].val) ){\r\n\t\t\tconsole.log('WARNING! table-lookup was extrapolated.') \r\n\t\t\tconsole.log('WARNING: ' + value + ' not in ' + table[0].val + '..' + table[length - 1].val )\r\n\t\t\t}\r\n\r\n\t\tend = 0\r\n\t\twhile ( end === 0){\r\n\t\t\tif ( i > 0 && table[i].val <= value ){ \r\n\t\t\t\ti-- \r\n\t\t\t\t} else { \r\n\t\t\t\tend = 1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t\t\r\n\r\n\r\n\tif ( order !== 'reverse' ){\r\n\t\ti=0\r\n\t\tif ( (value < table[0].val) || (value > table[length - 1].val) ){\r\n\t\t\t//console.log('WARNING! table-lookup was extrapolated.') \r\n\t\t\t//console.log('WARNING! ' + value + ' not in ' + table[0].val + '..' + table[length - 1].val )\r\n\t\t\t}\r\n\t\t\t\r\n\t\tend = 0\r\n\t\twhile ( end === 0){\r\n\t\t\tif ( i < length && table[i].val <= value ){ \r\n\t\t\t\ti++ \r\n\t\t\t\t} else { \r\n\t\t\t\tend = 1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\tif ( order === 'reverse' ){ i = i + 1 }\r\n\r\n\r\n\tif (i === 0){\r\n\r\n\t\tcb = interpolate(\r\n\t\ttable[i].val, \r\n\t\ttable[i][field], \r\n\t\ttable[i+1].val, \r\n\t\ttable[i+1][field], \r\n\t\tvalue)\r\n\t\t}\r\n\r\n\tif ( i > 0 && i < length){\r\n\r\n\t\tcb = interpolate(\r\n\t\ttable[i-1].val, \r\n\t\ttable[i-1][field], \r\n\t\ttable[i].val, \r\n\t\ttable[i][field], \r\n\t\tvalue)\r\n\t\t} \r\n\t\t\r\n\tif ( i >= length){\r\n\t\tcb = interpolate(\r\n\t\ttable[i-2].val, \r\n\t\ttable[i-2][field], \r\n\t\ttable[i-1].val, \r\n\t\ttable[i-1][field], \r\n\t\tvalue)\r\n\t\t}\r\n\t//console.log(order,i,cb,table[i])\r\n\r\n\t//if ( field === 'y' ) {console.log(cb) }\r\n\treturn (cb)\r\n\t}\r\n\r\n// functions wich create linear or logarithmic scales from given parameters\r\n// return are two objects, with lines and labels.\r\n\r\nexport function getAutoScaleParameter(input){\r\n\t// scale 3 will be new arranged\r\n\t//console.log(JSON.stringify(input, null, 2))\r\n\t// m, n, p, q and values in table are already scled with user units !!\r\n\r\n\tvar parameterSet=[]\r\n\tvar i = 0, cb = []\r\n\r\n\tvar spread = 0.02\r\n\t// get parameterSet with values, wich will be translated  to xy coordinates of points\r\n\tfor (var d = 0.05 ; d <= 0.95 ; d = d + 0.051 ){    // bug: infinite loop, if d=0.1\r\n\r\n\t\t//console.log(d)\r\n\t\tinput.scale1.value = pos2value(input.scale1 , (  window.innerHeight * ( d )) )   // value will be in user units\r\n\t\tinput.scale2.value = pos2value(input.scale2 , (  window.innerHeight * ( d )) )\r\n\r\n\t\tparameterSet[i]= {}\r\n\t\tif ( input.verboseLevel > 1 ){\r\n\t\t\tconsole.log('first line')\r\n\t\t}\r\n\r\n\r\n\t\tswitch (String(input.nomoName)) {\r\n\t\t\tcase 'hotWaterStorage' :\r\n\t\t\t\tcb[0] = heatStorageCalculation({\r\n\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\t\t\t// value recalculated to SI-units for physical calculation\r\n\t\t\t\t\t[input.name2] : toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\thgName : input.hgName,\r\n\t\t\t\t\tcylName : input.cylName,\r\n\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\tuserTemp : input.userTemp,\r\n\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'expansionVessel' :\r\n\t\t\t\tcb[0] = expansionVesselCalculation({\r\n\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\t\t\t// value recalculated to SI-units for physical calculation\r\n\t\t\t\t\t[input.name2] : toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'floorHeating' :\r\n\t\t\t\tcb[0] = floorHeatingCalculation({\r\n\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\t\t\t// value recalculated to SI-units for physical calculation\r\n\t\t\t\t\t[input.name2] : toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'pipeCalculation' :\r\n\t\t\t\tcb[0] = pipeCalculation({\r\n\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\t\t\t// value recalculated to SI-units for physical calculation\r\n\t\t\t\t\t[input.name2] : toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\tcase 'uValue' :\r\n\t\t\t\tcb[0] = uValueCalculation({\r\n\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\t\t\t// value recalculated to SI-units for physical calculation\r\n\t\t\t\t\t[input.name2] : toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\t\r\n\t\t\tcase 'massFlowRate' :\r\n\t\t\t\tcb[0] = massFlowCalculation({\r\n\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\r\n\t\t\t\t\t[input.name2] : toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\t\r\n\t\t\tcase 'kValue' :\r\n\t\t\t\tcb[0] = kValueCalculation({\r\n\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\r\n\t\t\t\t\t[input.name2] : toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This nomoName not defined. Actual type: ' + input.nomoName)\r\n\t\t}\r\n\r\n\t\t\r\n\t\tif ( input.verboseLevel > 1 ){\r\n\t\t\tconsole.log( cb )\r\n\t\t}\r\n\t\r\n\r\n\t\t//input1 is modified and value3 is pivot-point.\r\n\t\t//may be later make not intersection from 2 lines, but from 3 to get additional value accuracy !\r\n\t\tinput.scale1.value = input.scale1.value * ( 1 + spread )\r\n\r\n\r\n\r\n\t\tswitch (String(input.calcType)) {\r\n\t\t\tcase 'heatStorageCalculation_usageTime' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].usageTime ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'heatStorageCalculation_reheatTime' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].reheatTime ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'heatStorageCalculation_minimumTemperature' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].cylMinTemp ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'heatStorageCalculation_hgPower' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].hgNomPower ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'heatStorageCalculation_usageVolume' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].userVolume , input.scale3.unit)\t\t\t//value in SI units\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'heatStorageCalculation_thermalEnergy' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].thermalEnergy ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'expansionVessel_VesselVolume' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].expansionVesselVolume ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'expansionVessel_MaximumTemperature' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].maxTemp ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'floorHeating1_pipeLength' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].pipeLength ,input.scale3.unit ) \r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\tcase 'floorHeating1_Power' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].q ,input.scale3.unit ) \r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\tcase 'floorHeating1_pipeVolume' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].pipeVolume ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'floorHeating1_floorTemp' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].floorTemp ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'pipeCalculation_velocity' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].velocity ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'pipeCalculation_pressureDrop' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].pressureDrop ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'floorHeating_pressureDrop' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].pressureDrop ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'pipeCalculation_volume' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].pipeVolume ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'uCalculation_floorValue' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].u ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'floorHeating4_Power' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].q ,input.scale3.unit ) \r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\tcase 'floorHeating4_floorTemp' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].floorTemp ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'massFlowRate_volumeFlow' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].volumeFlow ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'kValue_pressureDrop' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].dP ,input.scale3.unit )\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'kValue_authority' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].n ,input.scale3.unit )\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This calcType not defined. Actual type: ' + input.calcType )\r\n\t\t}\r\n\r\n\r\n\r\n\t\t// get value 2, wich fits to value1 and value3\r\n\r\n\t\tif ( typeof(input.scale3.value) === 'number' ){\r\n\r\n\t\t\tif ( input.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log('second line')\r\n\t\t\t}\r\n\r\n\r\n\t\t\tswitch (String(input.nomoName)) {\r\n\t\t\t\tcase 'hotWaterStorage' :\r\n\t\t\t\t\tcb[1] = heatStorageCalculation({\r\n\t\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\t\t\t// conversion to SI for calculatino\r\n\t\t\t\t\t\t[input.name3] : toSiUnits(input.scale3.value , input.scale3.unit),\r\n\t\t\t\t\t\tstartvalue :  toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\t\tuserTemp : input.userTemp,\r\n\t\t\t\t\t\tuserVolume : input.userVolume,\r\n\t\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\t\thgName : input.hgName,\r\n\t\t\t\t\t\tcylName : input.cylName,\r\n\t\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'expansionVessel' :\r\n\t\t\t\t\tcb[1] = expansionVesselCalculation({\r\n\t\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\t\t\t// value recalculated to SI-units for physical calculation\r\n\t\t\t\t\t\t[input.name3] : toSiUnits(input.scale3.value , input.scale3.unit),\r\n\t\t\t\t\t\tstartvalue :  toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'floorHeating' :\r\n\t\t\t\t\tcb[1] = floorHeatingCalculation({\r\n\t\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\t\t\t// value recalculated to SI-units for physical calculation\r\n\t\t\t\t\t\t[input.name3] : toSiUnits(input.scale3.value , input.scale3.unit),\r\n\t\t\t\t\t\tstartvalue :  toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'pipeCalculation' :\r\n\t\t\t\t\tcb[1] = pipeCalculation({\r\n\t\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\r\n\t\t\t\t\t\t[input.name3] : toSiUnits(input.scale3.value , input.scale3.unit),\r\n\t\t\t\t\t\tstartvalue :  toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'uValue' :\r\n\t\t\t\t\tcb[1] = uValueCalculation({\r\n\t\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\r\n\t\t\t\t\t\t[input.name3] : toSiUnits(input.scale3.value , input.scale3.unit),\r\n\t\t\t\t\t\tstartvalue :  toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'massFlowRate' :\r\n\t\t\t\t\tcb[1] = massFlowCalculation({\r\n\t\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\r\n\t\t\t\t\t\t[input.name3] : toSiUnits(input.scale3.value , input.scale3.unit),\r\n\t\t\t\t\t\tstartvalue :  toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t\t})\t\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'kValue' :\r\n\t\t\t\t\tcb[1] = kValueCalculation({\r\n\t\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\r\n\t\t\t\t\t\t[input.name3] : toSiUnits(input.scale3.value , input.scale3.unit),\r\n\t\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\tconsole.log('WARNING: This nomoName not defined. Actual type: ' + input.nomoName)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tinput.scale1.value = input.scale1.value / ( ( 1 + spread ) * ( 1 + spread ) )\r\n\r\n\t\tswitch (String(input.calcType)) {\r\n\t\t\tcase 'heatStorageCalculation_usageTime' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].usageTime ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'heatStorageCalculation_reheatTime' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].reheatTime ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'heatStorageCalculation_minimumTemperature' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].cylMinTemp ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'heatStorageCalculation_hgPower' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].hgNomPower ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'heatStorageCalculation_usageVolume' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].userVolume , input.scale3.unit)\t\t\t//value in SI units\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'heatStorageCalculation_thermalEnergy' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].thermalEnergy , input.scale3.unit)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'expansionVessel_VesselVolume' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].expansionVesselVolume ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'expansionVessel_MaximumTemperature' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].maxTemp ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'floorHeating1_pipeLength' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].pipeLength ,input.scale3.unit ) \r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\tcase 'floorHeating1_pipeVolume' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].pipeVolume ,input.scale3.unit ) \r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\tcase 'floorHeating1_Power' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].q ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'floorHeating1_floorTemp' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].floorTemp ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'pipeCalculation_velocity' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].velocity ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'pipeCalculation_pressureDrop' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].pressureDrop ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'floorHeating_pressureDrop' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].pressureDrop ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'pipeCalculation_volume' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].pipeVolume ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'uCalculation_floorValue' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].u ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'floorHeating4_Power' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].q ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'floorHeating4_floorTemp' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].floorTemp ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'massFlowRate_volumeFlow' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].volumeFlow ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'kValue_pressureDrop' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].dP ,input.scale3.unit ) \t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'kValue_authority' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].n ,input.scale3.unit ) \t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This calcType not defined. Actual type: ' + input.calcType )\r\n\t\t}\r\n\r\n\r\n\t\t// get value 2, wich fits to value1 and value3\r\n\r\n\t\tif ( typeof(input.scale3.value) === 'number' ){\r\n\r\n\t\t\tif ( input.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log('third line')\r\n\t\t\t}\r\n\r\n\r\n\t\t\tswitch (String(input.nomoName)) {\r\n\t\t\t\tcase 'hotWaterStorage' :\r\n\t\t\t\t\tcb[2] = heatStorageCalculation({\r\n\t\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\t\t\t// conversion to SI for calculatino\r\n\t\t\t\t\t\t[input.name3] : toSiUnits(input.scale3.value , input.scale3.unit),\r\n\t\t\t\t\t\tuserTemp : input.userTemp,\r\n\t\t\t\t\t\tuserVolume : input.userVolume,\r\n\t\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\t\thgName : input.hgName,\r\n\t\t\t\t\t\tcylName : input.cylName,\r\n\t\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'expansionVessel' :\r\n\t\t\t\t\tcb[2] = expansionVesselCalculation({\r\n\t\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\t\t\t// value recalculated to SI-units for physical calculation\r\n\t\t\t\t\t\t[input.name3] : toSiUnits(input.scale3.value , input.scale3.unit),\r\n\t\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'floorHeating' :\r\n\t\t\t\t\tcb[2] = floorHeatingCalculation({\r\n\t\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\t\t\t// value recalculated to SI-units for physical calculation\r\n\t\t\t\t\t\t[input.name3] : toSiUnits(input.scale3.value , input.scale3.unit),\r\n\t\t\t\t\t\tstartvalue :  toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'pipeCalculation' :\r\n\t\t\t\t\tcb[2] = pipeCalculation({\r\n\t\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\r\n\t\t\t\t\t\t[input.name3] : toSiUnits(input.scale3.value , input.scale3.unit),\r\n\t\t\t\t\t\tstartvalue :  toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'uValue' :\r\n\t\t\t\t\tcb[2] = uValueCalculation({\r\n\t\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\r\n\t\t\t\t\t\t[input.name3] : toSiUnits(input.scale3.value , input.scale3.unit),\r\n\t\t\t\t\t\tstartvalue :  toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'massFlowRate' :\r\n\t\t\t\t\tcb[2] = massFlowCalculation({\r\n\t\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\r\n\t\t\t\t\t\t[input.name3] : toSiUnits(input.scale3.value , input.scale3.unit),\r\n\t\t\t\t\t\tstartvalue :  toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'kValue' :\r\n\t\t\t\t\tcb[2] = kValueCalculation({\r\n\t\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\r\n\t\t\t\t\t\t[input.name3] : toSiUnits(input.scale3.value , input.scale3.unit),\r\n\t\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\tconsole.log('WARNING: This nomoName not defined. Actual type: ' + input.nomoName)\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif ( input.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log( cb )\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// different error threshold for different nomographs needed !!\r\n\t\t\tvar threshold\t\t\r\n\t\t\tswitch (String(input.nomoName)) {\r\n\t\t\t\tcase 'hotWaterStorage' : threshold = 0.01; break;\r\n\t\t\t\tcase 'expansionVessel' : threshold = 1E-5; break;\r\n\t\t\t\tcase 'floorHeating' : threshold = 0.01; break;\r\n\t\t\t\tcase 'pipeCalculation' : threshold = 0.01; break;\r\n\t\t\t\tcase 'uValue' : threshold = 0.001; break;\r\n\t\t\t\tcase 'massFlowRate' : threshold = 0.001; break;\t\t\t\t\r\n\t\t\t\tcase 'kValue' : threshold = 0.001; break;\t\t\t\t\r\n\t\t\t\tdefault : \r\n\t\t\t\t\tconsole.log('WARNING: This nomoName not defined. Actual type: ' + input.nomoName)\r\n\t\t\t}\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tvar errorRate = 3\r\n\t\t\tif ( Math.abs(cb[0].error) <= threshold && cb[0].status === 'success' ){ errorRate-- }\r\n\t\t\tif ( Math.abs(cb[1].error) <= threshold && cb[1].status === 'success' ){ errorRate-- }\r\n\t\t\tif ( Math.abs(cb[2].error) <= threshold && cb[2].status === 'success' ){ errorRate-- }\r\n\r\n\r\n\t\t\tif ( errorRate <= 1 ){\r\n\t\t\t\t//console.log(cb[1].error)\r\n\t\t\t\tvar valuename1, valuename2, valuename3\r\n\r\n\t\t\t\t//Mapping values of cb to values in parameterset!\r\n\r\n\r\n\t\t\t\tswitch (String(input.calcType)) {\r\n\t\t\t\t\tcase 'heatStorageCalculation_usageTime' :\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleStorageVolume' ){valuename1 = 'cylVolume' } else { console.log('WARNING! Wrong scaleName')}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleFlowRate' ){valuename2 = 'userFlowRateSetting' } else { console.log('WARNING! Wrong scaleName')}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleUsageTime' ){valuename3 = 'usageTime' } else { console.log('WARNING! Wrong scaleName')}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'heatStorageCalculation_reheatTime' :\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleHgPower' ){valuename1 = 'hgNomPower' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleUsageVolume' ){valuename2 = 'userVolume' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleReheatTime' ){valuename3 = 'reheatTime' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'heatStorageCalculation_minimumTemperature' :\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleStorageVolume' ){valuename1 = 'cylVolume' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleUsageVolume' ){valuename2 = 'userVolume' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleMinimumTemperature' ){valuename3 = 'cylMinTemp' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'heatStorageCalculation_hgPower' :\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleStorageVolume' ){valuename1 = 'cylVolume' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleUsageVolume' ){valuename2 = 'userVolume' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleHgPower' ){valuename3 = 'hgNomPower' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'heatStorageCalculation_thermalEnergy' :\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleVolume' ){valuename1 = 'cylVolume' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleDeltaT' ){valuename2 = 'cylDeltaT' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleThermalEnergy' ){valuename3 = 'thermalEnergy' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'heatStorageCalculation_usageVolume' :\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleHgPower' ){valuename1 = 'hgNomPower' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleStorageVolume' ){valuename2 = 'cylVolume' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleUsageVolume' ){valuename3 = 'userVolume' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'expansionVessel_VesselVolume' :\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleSysVolume' ){valuename1 = 'systemVolume' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scalePrechargePressure' ){valuename2 = 'prechargePressure' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleExpansionVesselVolume' ){valuename3 = 'expansionVesselVolume' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'expansionVessel_MaximumTemperature' :\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleSysVolume' ){valuename1 = 'systemVolume' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleExpansionVesselVolume' ){valuename2 = 'expansionVesselVolume' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleMaximumTemp' ){valuename3 = 'maxTemp' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'floorHeating1_pipeLength' :\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( input.name1 === 'scalePipeDistance' ){valuename1 = 'pipeDistance' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleFloorArea' ){valuename2 = 'floorArea' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scalePipeLength' ){valuename3 = 'pipeLength' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'floorHeating1_pipeVolume' :\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( input.name1 === 'scalePipeDistance' ){valuename1 = 'pipeDistance' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleFloorArea' ){valuename2 = 'floorArea' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scalePipeVolume' ){valuename3 = 'pipeVolume' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'floorHeating1_Power' :\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleMeanTemp' ){valuename1 = 'mwt' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleFloorCoverResistance' ){valuename2 = 'R_lambdaB' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scalePower' ){valuename3 = 'q' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'floorHeating1_floorTemp' :\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleMeanTemp' ){valuename1 = 'mwt' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleFloorCoverResistance' ){valuename2 = 'R_lambdaB' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleFloorTemp' ){valuename3 = 'floorTemp' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'floorHeating4_Power' :\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleMeanTemp' ){valuename1 = 'mwt' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scalePipeDistance' ){valuename2 = 'T' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scalePower' ){valuename3 = 'q' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'floorHeating4_floorTemp' :\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleMeanTemp' ){valuename1 = 'mwt' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scalePipeDistance' ){valuename2 = 'T' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleFloorTemp' ){valuename3 = 'floorTemp' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'pipeCalculation_velocity' :\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleDiameter' ){valuename1 = 'diameter' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleFlowRate' ){valuename2 = 'flowRate' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleVelocity' ){valuename3 = 'velocity' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'pipeCalculation_pressureDrop' :\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleDiameter' ){valuename1 = 'diameter' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleFlowRate' ){valuename2 = 'flowRate' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scalePressureDrop' ){valuename3 = 'pressureDrop' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'floorHeating_pressureDrop' :\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( input.name1 === 'scalePipeLength' ){valuename1 = 'length' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleFlowRate' ){valuename2 = 'flowRate' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scalePressureDrop' ){valuename3 = 'pressureDrop' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'pipeCalculation_volume' :\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleDiameter' ){valuename1 = 'pipeDiameter' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scalePipeLength' ){valuename2 = 'pipeLength' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleVolume' ){valuename3 = 'pipeVolume' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'uCalculation_floorValue' :\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleRelativePerimeter' ){valuename1 = 'relativePerimeter' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleWallThicknes' ){valuename2 = 'wallThickness' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleUValue' ){valuename3 = 'u' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'massFlowRate_volumeFlow' :\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( input.name1 === 'scalePower' ){valuename1 = 'power' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleTemperature' ){valuename2 = 'temperature' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleVolumeFlow' ){valuename3 = 'volumeFlow' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'kValue_pressureDrop' :\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleKV' ){\r\n\t\t\t\t\t\t\tif ( input.name1 === 'scaleKV' ){valuename1 = 'kValue' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\t\tif ( input.name2 === 'scaleVolumeFlow' ){valuename2 = 'volumeFlow' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\t\tif ( input.name3 === 'scalePressureDrop' ){valuename3 = 'dP' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleZeta' ){\r\n\t\t\t\t\t\t\tif ( input.name1 === 'scaleZeta' ){valuename1 = 'zeta' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\t\tif ( input.name2 === 'scaleVelocity' ){valuename2 = 'velocity' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\t\tif ( input.name3 === 'scalePressureDrop' ){valuename3 = 'dP' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'kValue_authority' :\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( input.name1 === 'scaleDeltaPValve' ){valuename1 = 'dpv' } else { console.log('WARNING! Wrong scaleName: ' + input.name1)}\r\n\t\t\t\t\t\tif ( input.name2 === 'scaleDeltaPCircuit' ){valuename2 = 'dpc' } else { console.log('WARNING! Wrong scaleName: ' + input.name2)}\r\n\t\t\t\t\t\tif ( input.name3 === 'scaleAuthority' ){valuename3 = 'n' } else { console.log('WARNING! Wrong scaleName: ' + input.name3)}\r\n\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tconsole.log('WARNING: This calcType not defined. Actual type: ' + input.calcType )\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t\tparameterSet[i].value1_0 = toUserUnits( cb[0][valuename1], input.scale1.unit)\t//value in table is in user units\r\n\t\t\t\tparameterSet[i].value2_0 = toUserUnits( cb[0][valuename2], input.scale2.unit)\r\n\t\t\t\tparameterSet[i].value3_0 = toUserUnits( cb[0][valuename3], input.scale3.unit)\r\n\r\n\t\t\t\tparameterSet[i].value1_1 = toUserUnits( cb[1][valuename1], input.scale1.unit)\r\n\t\t\t\tparameterSet[i].value2_1 = toUserUnits( cb[1][valuename2], input.scale2.unit)\r\n\t\t\t\tparameterSet[i].value3_1 = toUserUnits( cb[1][valuename3], input.scale3.unit)\r\n\r\n\t\t\t\tparameterSet[i].value1_2 = toUserUnits( cb[2][valuename1], input.scale1.unit)\r\n\t\t\t\tparameterSet[i].value2_2 = toUserUnits( cb[2][valuename2], input.scale2.unit)\r\n\t\t\t\tparameterSet[i].value3_2 = toUserUnits( cb[2][valuename3], input.scale3.unit)\r\n\r\n\t\t\t\tparameterSet[i].error_0 = cb[0].error\r\n\t\t\t\tparameterSet[i].error_1 = cb[1].error\r\n\t\t\t\tparameterSet[i].error_2 = cb[2].error\r\n\r\n\t\t\t\tparameterSet[i].status_0 = cb[0].status + ' ' + cb[0].status2\r\n\t\t\t\tparameterSet[i].status_1 = cb[1].status + ' ' + cb[1].status2\r\n\t\t\t\tparameterSet[i].status_2 = cb[2].status + ' ' + cb[2].status2\r\n\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t//if ( Math.abs(cb[0].error) >= 0.01 || Math.abs(cb[1].error) >= 0.01 ){ \r\n\t\t\t\t\tparameterSet[i].message = 'residual errorRate to big! ; ' + cb[0].error + ' ; ' + cb[1].error + ' ; ' + cb[2].error \r\n\t\t\t\t\tparameterSet[i].status_0 = cb[0].status + ' ' + cb[0].status2\r\n\t\t\t\t\tparameterSet[i].status_1 = cb[1].status + ' ' + cb[1].status2\r\n\t\t\t\t\tparameterSet[i].status_2 = cb[2].status + ' ' + cb[2].status2\r\n\t\t\t}\r\n\t\t\r\n\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tparameterSet[i].message = 'value 3 could not be calculated. something in math backend function is wrong'\r\n\t\t\tparameterSet[i].status_0 = cb[0].status + ' ' + cb[0].status2\r\n\t\t\tparameterSet[i].status_1 = cb[1].status + ' ' + cb[1].status2\r\n\t\t\tparameterSet[i].status_2 = cb[2].status + ' ' + cb[2].status2\r\n\t\t}\r\n\t\tparameterSet[i].errorRate = errorRate\r\n\t\t\r\n\t\ti++\r\n\t}\r\n\r\n\r\n\t//making 3 intersction points from 3 lines --> calculated center of triangle => x/y   calculate diameter of triangle => error \r\n\r\n\r\n\tfor (i=0; i<parameterSet.length; i++){\r\n\r\n\t\tif ( typeof(parameterSet[i].value1_0) === 'number' ){\r\n\t\t\t\r\n\t\t\t// intersection of #0 and #1\r\n\t\t\tif ( Math.abs(parameterSet[i].error_0) <= threshold && Math.abs(parameterSet[i].error_1) <= threshold){\r\n\t\t\t\t//console.log(input)\r\n\t\t\t\tcb = points2intersection([\r\n\t\t\t\t{ x : input.scale1.positionX * window.innerWidth, \r\n\t\t\t\t\ty : value2pos(input.scale1 , parameterSet[i].value1_0).y },\r\n\t\t\t\t{ x : input.scale2.positionX * window.innerWidth,\r\n\t\t\t\t\ty : value2pos(input.scale2 , parameterSet[i].value2_0).y },\r\n\t\t\t\t{ x : input.scale1.positionX * window.innerWidth,\r\n\t\t\t\t\ty : value2pos(input.scale1 , parameterSet[i].value1_1).y },\r\n\t\t\t\t{ x : input.scale2.positionX * window.innerWidth,\r\n\t\t\t\t\ty : value2pos(input.scale2 , parameterSet[i].value2_1).y }\r\n\t\t\t\t])\r\n\r\n\t\t\t\tparameterSet[i].x1 = cb.x\r\n\t\t\t\tparameterSet[i].y1 = cb.y\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// intersection of #0 and #2\r\n\t\t\tif ( Math.abs(parameterSet[i].error_0) <= threshold && Math.abs(parameterSet[i].error_2) <= threshold){\r\n\t\t\t\tcb = points2intersection([\r\n\t\t\t\t{ x : input.scale1.positionX * window.innerWidth, \r\n\t\t\t\t\ty : value2pos(input.scale1 , parameterSet[i].value1_0).y },\r\n\t\t\t\t{ x : input.scale2.positionX * window.innerWidth,\r\n\t\t\t\t\ty : value2pos(input.scale2 , parameterSet[i].value2_0).y },\r\n\t\t\t\t{ x : input.scale1.positionX * window.innerWidth,\r\n\t\t\t\t\ty : value2pos(input.scale1 , parameterSet[i].value1_2).y },\r\n\t\t\t\t{ x : input.scale2.positionX * window.innerWidth,\r\n\t\t\t\t\ty : value2pos(input.scale2 , parameterSet[i].value2_2).y }\r\n\t\t\t\t])\r\n\r\n\t\t\t\tparameterSet[i].x2 = cb.x\r\n\t\t\t\tparameterSet[i].y2 = cb.y \r\n\t\t\t}\r\n\r\n\t\t\t// intersection of #1 and #2\r\n\t\t\tif ( Math.abs(parameterSet[i].error_1) <= threshold && Math.abs(parameterSet[i].error_2) <= threshold){\r\n\t\t\t\tcb = points2intersection([\r\n\t\t\t\t{ x : input.scale1.positionX * window.innerWidth, \r\n\t\t\t\t\ty : value2pos(input.scale1 , parameterSet[i].value1_1).y },\r\n\t\t\t\t{ x : input.scale2.positionX * window.innerWidth,\r\n\t\t\t\t\ty : value2pos(input.scale2 , parameterSet[i].value2_1).y },\r\n\t\t\t\t{ x : input.scale1.positionX * window.innerWidth,\r\n\t\t\t\t\ty : value2pos(input.scale1 , parameterSet[i].value1_2).y },\r\n\t\t\t\t{ x : input.scale2.positionX * window.innerWidth,\r\n\t\t\t\t\ty : value2pos(input.scale2 , parameterSet[i].value2_2).y }\r\n\t\t\t\t])\r\n\t\t\t\t\r\n\t\t\t\tparameterSet[i].x3 = cb.x\r\n\t\t\t\tparameterSet[i].y3 = cb.y\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\tif ( parameterSet[i].errorRate === 0){\r\n\t\t\t\tparameterSet[i].x = ( parameterSet[i].x1 + parameterSet[i].x2 + parameterSet[i].x3 ) / 3\r\n\t\t\t\tparameterSet[i].y = ( parameterSet[i].y1 + parameterSet[i].y2 + parameterSet[i].y3 ) / 3\r\n\r\n\t\t\t\tparameterSet[i].a = Math.sqrt(Math.pow(parameterSet[i].x1 - parameterSet[i].x2 ,2) + Math.pow(parameterSet[i].y1 - parameterSet[i].y2 ,2))\r\n\t\t\t\tparameterSet[i].b = Math.sqrt(Math.pow(parameterSet[i].x2 - parameterSet[i].x3 ,2) + Math.pow(parameterSet[i].y2 - parameterSet[i].y3 ,2))\r\n\t\t\t\tparameterSet[i].c = Math.sqrt(Math.pow(parameterSet[i].x3 - parameterSet[i].x1 ,2) + Math.pow(parameterSet[i].y3 - parameterSet[i].y1 ,2))\r\n\r\n\t\t\t\tparameterSet[i].s = (parameterSet[i].a + parameterSet[i].b + parameterSet[i].c)/2\r\n\t\t\t\tif ( parameterSet[i].s > 0 ){\r\n\t\t\t\t\tparameterSet[i].r = Math.sqrt(((parameterSet[i].s - parameterSet[i].a) * (parameterSet[i].s - parameterSet[i].b) * (parameterSet[i].s - parameterSet[i].c))/parameterSet[i].s)\r\n\t\t\t\t\t} else { parameterSet[i].r = 0\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif ( parameterSet[i].errorRate === 1 ){\r\n\t\t\t\tconsole.log('WARNING! One control line could not be calculated ')\r\n\t\t\t\tif( typeof(parameterSet[i].x1) === 'number' ){\r\n\t\t\t\t\tparameterSet[i].x = parameterSet[i].x1\r\n\t\t\t\t\tparameterSet[i].y = parameterSet[i].y1\r\n\t\t\t\t\t}\r\n\t\t\t\tif( typeof(parameterSet[i].x2) === 'number' ){\r\n\t\t\t\t\tparameterSet[i].x = parameterSet[i].x2\r\n\t\t\t\t\tparameterSet[i].y = parameterSet[i].y2\r\n\t\t\t\t\t}\r\n\t\t\t\tif( typeof(parameterSet[i].x3) === 'number' ){\r\n\t\t\t\t\tparameterSet[i].x = parameterSet[i].x3\r\n\t\t\t\t\tparameterSet[i].y = parameterSet[i].y3\r\n\t\t\t\t\t}\r\n\t\t\t\tparameterSet[i].r = -1\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (parameterSet[i].errorRate === 2 || parameterSet[i].errorRate === 3){ console.log('WARNING! No control line could be calculated! ') }\r\n\t\t}\t\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t// bugfix for definition hole!!\r\n\tif ( input.calcType === 'expansionVessel_VesselVolume' ){\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif ( parameterSet[i].x >= input.scale2.n ){\r\n\t\t\t\tparameterSet[i].message = 'bugfix for values on other side of definition hole'\r\n\t\t\t\tdelete parameterSet[i].value1_0\r\n\t\t\t\tdelete parameterSet[i].value1_1\r\n\t\t\t\tdelete parameterSet[i].value2_0\r\n\t\t\t\tdelete parameterSet[i].value2_1\r\n\t\t\t\tdelete parameterSet[i].value3_0\r\n\t\t\t\tdelete parameterSet[i].value3_1\r\n\t\t\t\tdelete parameterSet[i].x\r\n\t\t\t\tdelete parameterSet[i].y\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif( input.verboseLevel > 0 ){\r\n\t\tconsole.log(parameterSet)\r\n\t}\r\n\r\n\r\n\tif( input.verboseLevel > 0 ){\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tconsole.log( \r\n\t\t\t\ti,\r\n\t\t\t\tparameterSet[i].value3_0, \r\n\t\t\t\tparameterSet[i].x, \r\n\t\t\t\tparameterSet[i].y, \r\n\t\t\t\tparameterSet[i].s, \r\n\t\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tif( input.verboseLevel > 1 ){\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\t//if ( typeof(parameterSet[i].value3_0) === 'number' ){\r\n\t\t\t\tconsole.log( \r\n\t\t\t\t\ti,\r\n\t\t\t\t\tparameterSet[i].value3_0 , \r\n\t\t\t\t\tparameterSet[i].x1, \r\n\t\t\t\t\tparameterSet[i].y1, \r\n\t\t\t\t\tparameterSet[i].error_0, \r\n\t\t\t\t\t)\r\n\t\t\t\tconsole.log( \r\n\t\t\t\t\ti,\r\n\t\t\t\t\tparameterSet[i].value3_0 , \r\n\t\t\t\t\tparameterSet[i].x2, \r\n\t\t\t\t\tparameterSet[i].y2, \r\n\t\t\t\t\tparameterSet[i].error_1, \r\n\t\t\t\t\t)\r\n\t\t\t\tconsole.log( \r\n\t\t\t\t\ti,\r\n\t\t\t\t\tparameterSet[i].value3_0 , \r\n\t\t\t\t\tparameterSet[i].x3, \r\n\t\t\t\t\tparameterSet[i].y3, \r\n\t\t\t\t\tparameterSet[i].error_2, \r\n\t\t\t\t\t)\r\n\t\t\t//}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tif ( input.scale3.xType !== 'lookup' ){\t\r\n\t\t//console.log(input)\r\n\t\tvar table={}\r\n\t\tvar j = 0\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value3_0) === 'number' ){\r\n\t\t\t\ttable[j]={\r\n\t\t\t\ty : parameterSet[i].x,\r\n\t\t\t\tval : parameterSet[i].value3_0,\r\n\t\t\t\t}\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\t\r\n\r\n\t\t//console.log(JSON.stringify(input.scale3, null, 2))\r\n\r\n\t\tcb = points2parameter({type: input.scale3.xType , table: table, degree: input.scale3.xDegree})\r\n\t\t//console.log(cb)\r\n\t\tinput.scale3.m = cb.p\r\n\t\tinput.scale3.n = cb.q\r\n\t}\r\n\t\r\n\tif ( input.scale3.type !== 'lookup' ){\t\r\n\r\n\t\ttable = {}\r\n\t\tj = 0\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value3_0) === 'number' ){\r\n\t\t\t\ttable[j]={\r\n\t\t\t\ty : parameterSet[i].y,\r\n\t\t\t\tval : parameterSet[i].value3_0,\r\n\t\t\t\t}\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\r\n\t\t//console.log(input.scale3.xType, table)\r\n\t\tcb = points2parameter( { type: input.scale3.type, table: table, degree: input.scale3.yDegree }) \r\n\r\n\t\tinput.scale3.p = cb.p\r\n\t\tinput.scale3.q = cb.q\r\n\t}\r\n\r\n\r\n\tif ( input.scale3.type === 'lookup' || input.scale3.xType === 'lookup' ){\t\r\n\t\t//console.log(parameterSet)\r\n\t\ttable={}\r\n\t\tj = 0\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value3_0) === 'number' ){\r\n\t\t\t\ttable[j]={\r\n\t\t\t\tx : parameterSet[i].x,\r\n\t\t\t\ty : parameterSet[i].y,\r\n\t\t\t\tval : parameterSet[i].value3_0,\r\n\t\t\t\terror : parameterSet[i].error\r\n\t\t\t\t}\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\t\r\n\r\n\t\t// just save table to object\r\n\t\tinput.scale3.table = table\r\n\t\t// set min and max to the min and max value in table, to avoid extrapolating\r\n\t\t// create array of all values\r\n\t\tj=0\r\n\t\tvar tempArr = []\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value3_0) === 'number' ){\r\n\t\t\t\ttempArr[j] = parameterSet[i].value3_0\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//make a regression line over all values and calculate R² \r\n\t\t\r\n\t\ttable = {}\r\n\t\tj = 0\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value3_0) === 'number' ){\r\n\t\t\t\t\ttable[j]={\r\n\t\t\t\t\ty : parameterSet[i].value3_0,\r\n\t\t\t\t\tval : i,\r\n\t\t\t\t\t}\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t//limit min and max to the area, where points had been found\r\n\tif ( input.scale3.allowExtrapolation !== true ){\r\n\t\tj=0\r\n\t\ttempArr = []\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value3_0) === 'number' ){\r\n\t\t\t\ttempArr[j] = parameterSet[i].value3_0\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\t\t\t\r\n\r\n\r\n\t\tinput.scale3.min = Math.max(Math.min(...tempArr),input.scale3.min)\r\n\t\tinput.scale3.max = Math.min(Math.max(...tempArr),input.scale3.max)\r\n\t}\r\n\r\n\tif ( isNaN(input.scale3.min) ){\r\n\t\tinput.scale3.min = Math.min(...tempArr)\r\n\t}\r\n\tif ( isNaN(input.scale3.max) ){\r\n\t\tinput.scale3.max = Math.max(...tempArr)\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n// i think this function is orphaned. \r\nfunction getAutoScale1Parameter(input){\r\n\t// scale 3 will be new arranged\r\n\t//console.log(input)\r\n\t// m, n, p, q and values in table are already scled with user units !!\r\n\tvar j\r\n\tvar parameterSet=[]\r\n\tvar i = 0, cb = []\r\n\r\n\t// get parameterSet with values, wich will be translated  to xy coordinates of points\r\n\tfor (var d = 0.5 ; d <= 0.5 ; d = d + 0.05 ){    // bug: infinite loop, if d=0.1\r\n\r\n\t\t//console.log(d)\r\n\t\tinput.scale1.value = pos2value(input.scale1 , (  window.innerHeight * ( d )) )   // value will be in user units\r\n\t\tinput.scale2.value = input.scale2_focus\r\n\r\n\t\tparameterSet[i]= {}\r\n\t\tif ( input.verboseLevel > 1 ){\r\n\t\t\tconsole.log('first line')\r\n\t\t}\r\n\r\n\r\n\t\tswitch (String(input.nomoName)) {\r\n\t\t\tcase 'uValue' :\r\n\t\t\t\tcb[0] = uValueCalculation({\r\n\t\t\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\t\t\t// value recalculated to SI-units for physical calculation\r\n\t\t\t\t\t[input.name2] : toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\t\t\tcalcType : input.calcType,\r\n\t\t\t\t\tnomoName : input.nomoName,\r\n\t\t\t\t\tverboseLevel : input.verboseLevel\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This nomoName not defined. Actual type: ' + input.nomoName)\r\n\t\t}\r\n\r\n\t\t\r\n\t\tif ( input.verboseLevel > 1 ){\r\n\t\t\tconsole.log( cb )\r\n\t\t}\r\n\r\n\r\n\t\tswitch (String(input.calcType)) {\r\n\t\t\tcase 'u00Calculation_floorValue' :\r\n\t\t\t\tinput.scale3.value = toUserUnits(cb[0].u00 ,input.scale3.unit ) \r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This calcType not defined. Actual type: ' + input.calcType )\r\n\t\t}\r\n\r\n\t\t//make parameterSet\r\n\t\tparameterSet[i].value_1 = input.scale1.value\r\n\t\tparameterSet[i].value_2 = input.scale2.value\r\n\t\tparameterSet[i].value_3 = input.scale3.value\r\n\t\tparameterSet[i].x = input.scale3.positionX\r\n\t\ti++\r\n\t}\r\n\r\n\tconsole.log(parameterSet);\r\n\t//making 3 intersction points from 3 lines --> calculated center of triangle => x/y   calculate diameter of triangle => error \r\n\r\n\r\n\tfor (i=0; i<parameterSet.length; i++){\r\n\r\n\t\t// intersection of #1 and #2\r\n\t\tcb = points2intersection([\r\n\t\t{ x : input.scale1.positionX * window.innerWidth, \r\n\t\t\ty : value2pos(input.scale1 , parameterSet[i].value_1).y },\r\n\t\t{ x : input.scale2.positionX * window.innerWidth,\r\n\t\t\ty : value2pos(input.scale2 , parameterSet[i].value_2).y },\r\n\t\t{ x : parameterSet[i].x * window.innerWidth,\r\n\t\t\ty : 0 },\r\n\t\t{ x : parameterSet[i].x * window.innerWidth,\r\n\t\t\ty : window.innerHeight }\r\n\t\t])\r\n\r\n\t\tparameterSet[i].y = cb.y\r\n\t}\r\n\t\r\n\r\n\tif( input.verboseLevel > 0 ){\r\n\t\tconsole.log(parameterSet)\r\n\t}\r\n\r\n\r\n\tif( input.verboseLevel > 0 ){\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tconsole.log( \r\n\t\t\t\ti,\r\n\t\t\t\tparameterSet[i].value_3, \r\n\t\t\t\tparameterSet[i].x, \r\n\t\t\t\tparameterSet[i].y, \r\n\t\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\t// this part is remaining from auto-scale. x-Type should always be constant\r\n\tif ( input.scale3.xType === 'constant' ){\t\r\n\t\tinput.scale3.m = 0\r\n\t\tinput.scale3.n = input.scale3.positionX * window.innerWidth\r\n\t}\r\n\r\n\tif ( input.scale3.xType !== 'constant' ){\t\r\n\t\tconsole.log('WARNING!: xType not valid for this scale! was auto-scale wanted?');\r\n\t}\r\n\t\r\n\t\r\n\tif ( input.scale3.type !== 'lookup' ){\t\r\n\r\n\t\tvar table = {}\r\n\t\tj = 0\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value_3) === 'number' ){\r\n\t\t\t\ttable[j]={\r\n\t\t\t\ty : parameterSet[i].y,\r\n\t\t\t\tval : parameterSet[i].value_3,\r\n\t\t\t\t}\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcb = points2parameter( { type: input.scale3.type, table: table, degree: input.scale3.yDegree }) \r\n\r\n\t\tinput.scale3.p = cb.p\r\n\t\tinput.scale3.q = cb.q\r\n\t}\r\n\r\n\r\n\r\n\tif ( input.scale3.type === 'lookup' ){\t\r\n\t\t//console.log(parameterSet)\r\n\t\ttable={}\r\n\t\tj = 0\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value_3) === 'number' ){\r\n\t\t\t\ttable[j]={\r\n\t\t\t\tx : parameterSet[i].x,\r\n\t\t\t\ty : parameterSet[i].y,\r\n\t\t\t\tval : parameterSet[i].value_3,\r\n\t\t\t\terror : parameterSet[i].error\r\n\t\t\t\t}\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\t\r\n\r\n\t\t// just save table to object\r\n\t\tinput.scale3.table = table\r\n\t\t// set min and max to the min and max value in table, to avoid extrapolating\r\n\t\t// create array of all values\r\n\t\tj=0\r\n\t\tvar tempArr = []\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value_3) === 'number' ){\r\n\t\t\t\ttempArr[j] = parameterSet[i].value_3\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//make a regression line over all values and calculate R² \r\n\t\t\r\n\t\ttable = {}\r\n\t\tj = 0\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value_3) === 'number' ){\r\n\t\t\t\t\ttable[j]={\r\n\t\t\t\t\ty : parameterSet[i].value_3,\r\n\t\t\t\t\tval : i,\r\n\t\t\t\t\t}\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t//limit min and max to the area, where points had been found\r\n\tif ( input.scale3.allowExtrapolation !== true ){\r\n\t\tj=0\r\n\t\ttempArr = []\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value_3) === 'number' ){\r\n\t\t\t\ttempArr[j] = parameterSet[i].value_3\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\t\t\t\r\n\r\n\r\n\t\tinput.scale3.min = Math.max(Math.min(...tempArr),input.scale3.min)\r\n\t\tinput.scale3.max = Math.min(Math.max(...tempArr),input.scale3.max)\r\n\t}\r\n\r\n\tif ( isNaN(input.scale3.min) ){\r\n\t\tinput.scale3.min = Math.min(...tempArr)\r\n\t}\r\n\tif ( isNaN(input.scale3.max) ){\r\n\t\tinput.scale3.max = Math.max(...tempArr)\r\n\t}\t\r\n}\r\n\r\n\r\nexport function getTwinScaleParameter(input){\r\n\t// function replaces coordinates and labels of a scale depending on a factor, to create twin manual scales, which are only differing in a factor. May be also possible: fn(x)\r\n\tvar cb, length,i\r\n//hierweitermachen: Regel für lookup aufstellen!\r\n// regel für polynom aufstellen -> lookup tabelle aufstellen, verschieben, neues polynom erzeugen\r\n\t\r\n\tif( input.scale2.position === 'twin' ){\r\n\t\tswitch ( String (input.scale1.type)){\r\n\t\t\tcase 'linear' :\r\n\t\t\t\tinput.scale2.p = input.scale1.p / input.factor\r\n\t\t\t\tinput.scale2.q = input.scale1.q\r\n\t\t\tbreak;\r\n\t\t\tcase 'logarithmic' :\r\n\t\t\t\tinput.scale2.p = input.scale1.p\r\n\t\t\t\tinput.scale2.q = -1 * input.scale1.p * Math.log10( input.factor ) + input.scale1.q ;\r\n\t\t\tbreak;\r\n\t\t\tcase 'lookup' :\r\n\t\t\t\tconsole.log(input.scale1.table);\r\n\t\t\t\tlength=Object.keys(input.scale1.table).length\r\n\t\t\t\tinput.scale2.table = []\r\n\t\t\t\tfor (i=0; i<length; i++){\r\n\t\t\t\t\tinput.scale2.table[i] = { \r\n\t\t\t\t\t\tval : input.scale1.table[i].val * input.factor,\r\n\t\t\t\t\t\terror : input.scale1.table[i].error,\r\n\t\t\t\t\t\tx : input.scale1.table[i].x,\r\n\t\t\t\t\t\ty : input.scale1.table[i].y\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: unknown regression type: ' + input.scale1.type );\r\n\t\t}\r\n\t\tswitch ( String (input.scale1.type)){\r\n\t\t\tcase 'linear' :\r\n\t\t\t\tinput.scale2.m = input.scale1.m / input.factor\r\n\t\t\t\tinput.scale2.n = input.scale1.n\r\n\t\t\tbreak;\r\n\t\t\tcase 'logarithmic' :\r\n\t\t\t\tinput.scale2.m = input.scale1.m\r\n\t\t\t\tinput.scale2.n = -1 * input.scale1.m * Math.log10( input.factor ) + input.scale1.n ;\r\n\t\t\tbreak;\r\n\t\t\tcase 'lookup' :\r\n\t\t\t\tconsole.log(input.scale1.table);\r\n\t\t\t\tlength=Object.keys(input.scale1.table).length\r\n\t\t\t\tinput.scale2.table = []\r\n\t\t\t\tfor (i=0; i<length; i++){\r\n\t\t\t\t\tinput.scale2.table[i] = { \r\n\t\t\t\t\t\tval : input.scale1.table[i].val * input.factor,\r\n\t\t\t\t\t\terror : input.scale1.table[i].error,\r\n\t\t\t\t\t\tx : input.scale1.table[i].x,\r\n\t\t\t\t\t\ty : input.scale1.table[i].y\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: unknown regression type: ' + input.scale1.type );\r\n\t\t}\r\n\t\tinput.scale2.position = 'auto'\r\n\t\tinput.scale2.type = stat.userSetup[input.nomoName][input.name1].type\r\n\t\tinput.scale2.xType = stat.userSetup[input.nomoName][input.name1].xType\t\t\r\n\r\n\t\tif ( typeof( stat.userSetup[input.nomoName][input.name2].head) === 'undefined' ){\r\n\t\t\tinput.scale2.unit = stat.userSetup[input.nomoName][input.name1].unit\r\n\t\t}\r\n\r\n\t\tif ( typeof( stat.userSetup[input.nomoName][input.name2].head) !== 'undefined' ){\r\n\t\t\tinput.scale2.unit = stat.userSetup[input.nomoName][input.name2].unit\r\n\t\t}\r\n\r\n\r\n\t\tinput.scale2.color = stat.userSetup[input.nomoName][input.name2].color\r\n\t\t\r\n\t\tif ( stat.userSetup[input.nomoName][input.name2].head === '' || typeof( stat.userSetup[input.nomoName][input.name2].head) === 'undefined' ){\r\n\t\t\tinput.scale2.head =  stat.userSetup[input.nomoName][input.name1].head\r\n\t\t}; \r\n\t\tif ( typeof( stat.userSetup[input.nomoName][input.name2].head) !== 'undefined' ){\r\n\t\t\tinput.scale2.head =  stat.userSetup[input.nomoName][input.name2].head\r\n\t\t}\r\n\t\tinput.scale2.head =  stat.userSetup[input.nomoName][input.name2].head\r\n\t\tinput.scale2.offsetX = stat.userSetup[input.nomoName][input.name2].offsetX\r\n\t\tinput.scale2.offsetY = stat.userSetup[input.nomoName][input.name2].offsetY\r\n\t\tinput.scale2.min = input.scale1.min * input.factor\r\n\t\tinput.scale2.max = input.scale1.max * input.factor\r\n\t\tinput.scale2.headSize = input.scale1.headSize\r\n\t\tinput.scale2.labelSize = input.scale1.labelSize\r\n\t\tinput.scale2.reverse = input.scale1.reverse\r\n\t\tinput.scale2.factor = input.factor\r\n\t\tinput.scale2.deviders = stat.userSetup[input.nomoName][input.name2].deviders\r\n\r\n\r\n\r\n\t}\r\n\treturn input.scale2\r\n}\r\n\r\n\r\nfunction getScaleGridParameter(input){\r\n\t//making scale GRid, function not really finished. handle with care !!\r\n\t//make array with all x values und calculate mean\r\n\t/*\r\n\tvar i=0, tempArray = [], n, dx, dy\r\n\tif ( typeof(stat.userSetup.hotWaterStorage.scaleMinimumTemperature.xSpread) === 'number' ){\r\n\t\tdx = stat.userSetup.hotWaterStorage.scaleMinimumTemperature.xSpread } \r\n\t\telse { dx = 0 \r\n\t}\r\n\r\n\tif ( typeof(stat.userSetup.hotWaterStorage.scaleMinimumTemperature.ySpread) === 'number' ){\t\r\n\t\tdy = stat.userSetup.hotWaterStorage.scaleMinimumTemperature.ySpread } \r\n\t\telse { dy = 0 \r\n\t}\r\n\r\n\tn = Object.keys(stat.userSetup.hotWaterStorage.scaleMinimumTemperature_1.table).length\t\r\n\tfor (var j = 0; j < n; j++ ){\r\n\t\ttempArray[i] = stat.userSetup.hotWaterStorage.scaleMinimumTemperature_1.table[j].x\r\n\t\t- dx * window.innerWidth\r\n\t\ti++\r\n\t}\r\n\tn = Object.keys(stat.userSetup.hotWaterStorage.scaleMinimumTemperature_2.table).length\t\r\n\tfor (var j = 0; j < n; j++ ){\r\n\t\ttempArray[i] = stat.userSetup.hotWaterStorage.scaleMinimumTemperature_2.table[j].x\r\n\t\t- 2 * dx * window.innerWidth\r\n\t\ti++\r\n\t}\r\n\tn = Object.keys(stat.userSetup.hotWaterStorage.scaleMinimumTemperature_3.table).length\t\r\n\tfor (var j = 0; j < n; j++ ){\r\n\t\ttempArray[i] = stat.userSetup.hotWaterStorage.scaleMinimumTemperature_3.table[j].x\r\n\t\t- 3 * dx * window.innerWidth\r\n\t\ti++\r\n\t}\r\n\t\r\n\t\r\n\tvar i,sum = 0\r\n\tfor (i = 0; i < tempArray.length; i++ ) {\r\n\t\tsum = sum + tempArray[i]\r\n\t}\r\n\r\n\t\tstat.userSetup.hotWaterStorage.scaleGrid.dashLength = 0.2\r\n\r\n\t\tstat.userSetup.hotWaterStorage.scaleGrid.m = 0\r\n\t\tstat.userSetup.hotWaterStorage.scaleGrid.n = sum / tempArray.length\r\n\t\tstat.userSetup.hotWaterStorage.scaleGrid.p = window.innerHeight / 100\r\n\t\tstat.userSetup.hotWaterStorage.scaleGrid.q = 0\r\n\t*/\t\r\n\r\n\t// calculate p,q,m,n by making 10 points similar to autoScale function\r\n\r\n\tvar parameterSet=[]\r\n\tvar i = 0, cb = [], scale, pos_x, pos_y\r\n\t\r\n\r\n\t// get parameterSet with values, to calculate two lines for each parameterset, wich will be translated  to xy coordinates of points\r\n\tfor (var d = 0.1; d <= 0.9 ; d = d + 0.05 ){  \r\n\t\t//console.log(d)\r\n\t\tinput.scale1.value = pos2value(input.scale1 , (window.innerHeight * d) )\r\n\t\tinput.scale2.value = pos2value(input.scale2 , (window.innerHeight * d) )\r\n\r\n\t\tparameterSet[i]= {}\r\n\r\n\t\tconsole.log('first line')\r\n\t\tscale = input.scale1\r\n\t\t\r\n\t\tswitch (String(scale.xType)) {\r\n\t\t\tcase \"inverse\" :\r\n\t\t\t\tpos_x = scale.m  * ( 1 /  scale.value ) + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'linear' :\r\n\t\t\t\tpos_x = scale.m  * scale.value + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"lookup\" :\r\n\t\t\t\tpos_x = tableLookup( scale.value , scale.table , 'x' )\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t\t}\r\n\t\t\r\n\t\tparameterSet[i].P1_x = pos_x\r\n\t\t\r\n\t\tswitch (String(scale.type)) {\r\n\t\t\tcase \"logarithmic\" :\r\n\t\t\t\tpos_y = scale.p * Math.log10( scale.value ) + scale.q \r\n\t\t\t\tbreak;\r\n\t\t\tcase \"linear\" :\r\n\t\t\t\tpos_y = scale.p * scale.value + scale.q \r\n\t\t\t\tbreak;\r\n\t\t\tcase \"lookup\" :\r\n\t\t\t\tpos_y = tableLookup( scale.value , scale.table , 'y' )\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.type)\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\tparameterSet[i].P1_y = pos_y\r\n\r\n\t\tscale = input.scale2\r\n\t\tswitch (String(scale.xType)) {\r\n\t\t\tcase \"inverse\" :\r\n\t\t\t\tpos_x = scale.m  * ( 1 /  scale.value ) + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'linear' :\r\n\t\t\t\tpos_x = scale.m  * scale.value + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"lookup\" :\r\n\t\t\t\tpos_x = tableLookup( scale.value , scale.table , 'x' )\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t\t}\r\n\t\t\r\n\t\tparameterSet[i].P2_x = pos_x\r\n\t\t\r\n\t\tswitch (String(scale.type)) {\r\n\t\t\tcase \"logarithmic\" :\r\n\t\t\t\tpos_y = scale.p * Math.log10( scale.value ) + scale.q \r\n\t\t\t\tbreak;\r\n\t\t\tcase \"linear\" :\r\n\t\t\t\tpos_y = scale.p * scale.value + scale.q \r\n\t\t\t\tbreak;\r\n\t\t\tcase \"lookup\" :\r\n\t\t\t\tpos_y = tableLookup( scale.value , scale.table , 'y' )\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.type)\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\tparameterSet[i].P2_y = pos_y\r\n\r\n\t\t\r\n\r\n\t\tconsole.log('second line')\r\n\r\n\t\tscale = input.scale3\r\n\t\t\r\n\t\tcb = heatStorageCalculation({\r\n\t\t\t[input.name1] : toSiUnits(input.scale1.value , input.scale1.unit),\r\n\t\t\t[input.name2] : toSiUnits(input.scale2.value , input.scale2.unit),\r\n\t\t\tcalcType : input.calcType,\r\n\t\t\thgName : input.hgName,\r\n\t\t\tcylName : input.cylName,\r\n\t\t\tnomoName : input.nomoName,\r\n\t\t\tuserMinTemp : input.userMinTemp,\r\n\t\t\tverbose : false,\r\n\t\t\tvverbose : false\r\n\t\t})\r\n\r\nconsole.log(JSON.stringify(cb,null,2))\r\n\t\tparameterSet[i].P3_x = 0.5 * window.innerWidth //just a random value\r\n\t\t\r\n\t\tparameterSet[i].P3_y = value2pos(scale , cb.cylMinTemp) //calculate from cb.cylMinTemp\r\n\r\n\t\tparameterSet[i].P4_x = 0.8 * window.innerWidth //just a random value\r\n\t\t\r\n\t\tparameterSet[i].P4_y = parameterSet[i].P3_y //horizontal line per definition\r\n\t\t\r\nconsole.log(parameterSet)\r\n\r\n\tfor (i=0; i<parameterSet.length; i++){\r\n\t\tif ( typeof(parameterSet[i].value1_0) === 'number' ){\r\n\t\t\t//points is an array of x and y coordinates [{x: , y: },{},...]\r\n\t\t\t//the function calculate lines from points 1,2 and 3,4 and returns intersection of these two lines.\r\n\t\t\tcb = points2intersection([\r\n\r\n\t\t\t{ x : parameterSet[i].P1_x, y : parameterSet[i].P1_y },\r\n\t\t\t{ x : parameterSet[i].P2_x, y : parameterSet[i].P2_y },\r\n\t\t\t{ x : parameterSet[i].P3_x, y : parameterSet[i].P3_y },\r\n\t\t\t{ x : parameterSet[i].P4_x, y : parameterSet[i].P4_y },\r\n\t\t\t])\r\n\t\t\tparameterSet[i].x = cb.x\r\n\t\t\tparameterSet[i].y = cb.y\r\n\t\t}\t\t\t\r\n\t}\r\n\r\n\tconsole.log(parameterSet)\r\n\r\n\r\n\t}\r\n\r\n// get p,q,m,n from parameterSet!!\t\r\n/*\t\r\n\tif ( input.scale3.xType !== 'lookup' ){\t\r\n\t\t//console.log(parameterSet)\r\n\t\tvar table={}\r\n\t\tvar j = 0\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value3_0) === 'number' ){\r\n\t\t\t\ttable[j]={\r\n\t\t\t\ty : parameterSet[i].x,\r\n\t\t\t\tval : parameterSet[i].value3_0,\r\n\t\t\t\t}\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\t\r\n\t\tconsole.log(input.scale3.xType, table)\r\n\t\tcb = points2parameter(input.scale3.xType, table, 0)\r\n\t\t//console.log(cb)\r\n\t\tinput.scale3.m = cb.p\r\n\t\tinput.scale3.n = cb.q\r\n\t}\r\n\t\r\n\tif ( input.scale3.type !== 'lookup' ){\t\r\n\r\n\t\ttable = {}\r\n\t\tj = 0\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value3_0) === 'number' ){\r\n\t\t\t\ttable[j]={\r\n\t\t\t\ty : parameterSet[i].y,\r\n\t\t\t\tval : parameterSet[i].value3_0,\r\n\t\t\t\t}\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(input.scale3.xType, table)\r\n\t\tcb = points2parameter(input.scale3.type, table, 0)\r\n\t\tinput.scale3.p = cb.p\r\n\t\tinput.scale3.q = cb.q\r\n\t}\r\n\r\n\tif ( input.scale3.type === 'lookup' || input.scale3.xType === 'lookup' ){\t\r\n\t\t//console.log(parameterSet)\r\n\t\tvar table={}\r\n\t\tvar j = 0\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value3_0) === 'number' ){\r\n\t\t\t\ttable[j]={\r\n\t\t\t\tx : parameterSet[i].x,\r\n\t\t\t\ty : parameterSet[i].y,\r\n\t\t\t\tval : parameterSet[i].value3_0,\r\n\t\t\t\terror : parameterSet[i].error\r\n\t\t\t\t}\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\t\r\n\r\n\t\t// just save table to object\r\n\t\tinput.scale3.table = table\r\n\t\t// set min and max to the min and max value in table, to avoid extrapolating\r\n\t\t// create array of all values\r\n\t\tj=0\r\n\t\tvar tempArr = []\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value3_0) === 'number' ){\r\n\t\t\t\ttempArr[j] = parameterSet[i].value3_0\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//make a regression line over all values and calculate R² \r\n\t\t\r\n\t\ttable = {}\r\n\t\tj = 0\r\n\t\tfor (i=0; i<parameterSet.length; i++){\r\n\t\t\tif( typeof(parameterSet[i].value3_0) === 'number' ){\r\n\t\t\t\t\ttable[j]={\r\n\t\t\t\t\ty : parameterSet[i].value3_0,\r\n\t\t\t\t\tval : i,\r\n\t\t\t\t\t}\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\r\n\t\tif( typeof(input.scale3.vType) === 'number' ){\r\n\t\t\tconsole.log(input.scale3.vType, table)\r\n\t\t\tcb = points2parameter(input.scale3.vType, table, 0)\r\n\t\t\tconsole.log(cb)\r\n\t\t\t//console.log(Math.min(...tempArr), Math.max(...tempArr))\r\n\t\t\tinput.scale3.min = Math.max(Math.min(...tempArr),input.scale3.min)\r\n\t\t\tinput.scale3.max = Math.min(Math.max(...tempArr),input.scale3.max)\r\n\t\t}\r\n\r\n\t}\r\n*/\r\n}\r\n\r\n\r\n\r\nexport function drawScale(scale,tempsettings){\r\n\t\r\n\t\r\n\t\r\n\tif ( scale.type.slice(0,7) === 'polynom' ){ \r\n\t\tscale.type = scale.type.slice(0,7)\r\n\t}\r\n\t\r\n\t//console.log(scale)\r\n\t// this function is new and  should only be used in future.\r\n\t\r\n\tvar scales = [];\r\n\tvar labels = [];\r\n\tvar points = [];\r\n\tvar i, j, y_position, x_position, length, \r\n\tpos_x, pos_y, dashWidth, scaleValues, labelValues\r\n\tconst centered_dash_factor = 0.707   // a factor to reduce size of dashes, if centered\r\n\r\n\tif ( typeof(scale.deviders.width) === 'number' ){\r\n\t\tdashWidth = scale.deviders.width }\r\n\t\telse{\r\n\t\tdashWidth = userSettings.dashLength ; // just a factor related to window width\r\n\t}\r\n\t\r\n\tswitch (String(scale.deviders.scaling)) {\r\n\t\tcase \"log\" :\r\n\t\t\tscaleValues = logTesselation(scale.min, scale.max, scale.deviders.scaleSteps);\r\n\t\t\tlabelValues = logTesselation(scale.min, scale.max, scale.deviders.labelSteps);\r\n\t\t\tbreak;\r\n\t\tcase \"lin\" :\r\n\t\t\tscaleValues = linTesselation(scale.min, scale.max, scale.deviders.scaleSteps);\r\n\t\t\tlabelValues = linTesselation(scale.min, scale.max, scale.deviders.labelSteps);\r\n\t\t\tbreak;\r\n\t\tcase \"man\" :\r\n\t\t\tscaleValues = manTesselation(scale.min, scale.max, scale.deviders.scaleSteps);\r\n\t\t\tlabelValues = manTesselation(scale.min, scale.max, scale.deviders.labelSteps);\r\n\t\t\tbreak;\r\n\t\tdefault : \r\n\t\t\tconsole.log('WARNING: This type of deviderscaling is not defined. Actual type: ' + scale.deviders.scaling + ' using manual')\r\n\t\t\tscaleValues = scale.deviders.scaleSteps;\r\n\t\t\tlabelValues = scale.deviders.labelSteps;\r\n\t\t}\r\n\r\n//console.log(labelValues)\r\n\r\n\tif ( typeof(scale.xType) !== 'string' ){ scale.xType = 'linear' }\r\n\tif ( scale.xType === 'constant' ){ scale.xType = 'linear' }\r\n\r\n\t//console.log(scaleValues,labelValues)\r\n\r\n\tif ( scale.position === 'manual' ){ \r\n\t\t//create p,q,m,n from min, max, height, positionX, positionY\r\n\t\t// then set scale position to \"auto\"\r\n\t\t// this avoids double programming for manual and auto positioned!\r\n\t\t// manual positioning of curved scale not possible!!\r\n\t\t\r\n\t\tif ( typeof(scale.m) !== 'number' || typeof(scale.n) !== 'number' ){\r\n\t\t\tvar cb\r\n\t\t\tcb = minMax2parameter(\r\n\t\t\t\tscale, \r\n\t\t\t\tscale.min, \r\n\t\t\t\tscale.max\r\n\t\t\t\t)\r\n\r\n\t\t\tscale.m = 0\r\n\t\t\tscale.n = scale.positionX * window.innerWidth\r\n\t\t\tscale.p = cb.p\r\n\t\t\tscale.q = cb.q\r\n\t\t\t}\r\n\t\r\n\t\tif ( typeof(scale.m) === 'number' || typeof(scale.n) === 'number' ){ scale.position = 'auto' }\r\n\r\n\t\t\r\n\t\t}\r\n\t\r\n\r\n\tif ( scale.position === 'auto' ){\r\n\t\t// giving standard values, if nothing in settings file:\r\n\t\tif ( typeof(scale.deviders.labelOffsetX ) !== 'number' ){ scale.deviders.labelOffsetX = 0 }\r\n\t\tif ( typeof(scale.deviders.labelOffsetY ) !== 'number' ){ scale.deviders.labelOffsetY = 0 }\r\n\t\t\r\n\t\t\r\n\t\t//switch for different scaletypes:\r\n\t\t\r\n\t\t//start-point of centerline\r\n\t\tswitch (String(scale.type)) {\r\n\t\t\tcase \"logarithmic\" :\r\n\t\t\t\tpos_y = scale.p * Math.log10( scale.min ) + scale.q \r\n\t\t\t\tbreak;\r\n\t\t\tcase \"linear\" :\r\n\t\t\t\tpos_y = scale.p * scale.min + scale.q \r\n\t\t\t\tbreak;\r\n\t\t\tcase \"lookup\" :\r\n\t\t\t\tpos_y = tableLookup( scale.min , scale.table , 'y' )\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'exponent' :\r\n\t\t\t\tpos_y = scale.p * Math.pow( scale.min , scale.q)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'polynom' :\r\n\t\t\t\tpos_y = polynom(scale.p, scale.min)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'quadratic' :\r\n\t\t\t\tpos_y = scale.p  * Math.pow( scale.min , 2 ) + scale.q\r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\tcase 'qubic' :\r\n\t\t\t\tpos_y = scale.p  * Math.pow( scale.min , 3 ) + scale.q\r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\tcase 'sqrt' :\r\n\t\t\t\tpos_y = scale.p  * Math.pow( scale.min , 0.5 ) + scale.q\r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.type)\r\n\t\t\t}\r\n\t\t\r\n\t\t\r\n\t\tswitch (String(scale.xType)) {\r\n\t\t\tcase \"inverse\" :\r\n\t\t\t\tpos_x = scale.m  * ( 1 /  scale.min ) + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'linear' :\r\n\t\t\t\tpos_x = scale.m  * scale.min + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"lookup\" :\r\n\t\t\t\tpos_x = tableLookup( scale.min , scale.table , 'x' )\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"inversePower2\" :\r\n\t\t\t\tpos_x = scale.m  * ( 1 /  Math.pow(scale.min,2) ) + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"logarithmic\" :\r\n\t\t\t\tpos_x = scale.m * Math.log10( scale.min ) + scale.n \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'exponent' :\r\n\t\t\t\tpos_x = scale.m * Math.pow( scale.min , scale.n)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'polynom' :\r\n\t\t\t\tpos_x = polynom(scale.m, scale.min)\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t\t}\r\n\t\t//console.log(scale.pos_x, scale.pos_y, scale.min, scale.m, scale.n, scale.table)\r\n\t\t\r\n\t\t//point array for centerline values\r\n\t\t//start-point not necessarily a scale point.!!\r\n\t\t\r\n\t\tj=0;\t\t\r\n\t\tpoints[j] = 0\r\n\t\tj++\r\n\t\tpoints[j] = 0\r\n\t\tj++\r\n\r\n\t\t\r\n\t\tfor (const v in scaleValues) {\r\n\t\t\tswitch (String(scale.xType)) {\r\n\t\t\t\tcase \"inverse\" :\r\n\t\t\t\t\tpoints[j] = scale.m  * ( 1 / scaleValues[v] ) + scale.n - pos_x\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'linear' :\r\n\t\t\t\t\tpoints[j] = scale.m  * scaleValues[v] + scale.n - pos_x\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"lookup\" :\r\n\t\t\t\t\tpoints[j] = tableLookup( scaleValues[v] , scale.table , 'x' ) - pos_x\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"inversePower2\" :\r\n\t\t\t\t\tpoints[j] = scale.m  * ( 1 /  Math.pow(scaleValues[v],2) ) + scale.n - pos_x\r\n\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\tcase \"logarithmic\" :\r\n\t\t\t\t\tpoints[j] = scale.m * Math.log10( scaleValues[v] ) + scale.n - pos_x \r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'exponent' :\r\n\t\t\t\t\tpoints[j] = scale.m * Math.pow( scaleValues[v] , scale.n) - pos_x\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'polynom' :\r\n\t\t\t\t\tpoints[j] = polynom(scale.m, scaleValues[v]) - pos_x\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t\t\t}\r\n\t\t\tj++\r\n\t\t\t\r\n\t\t\tswitch (String(scale.type)) {\r\n\t\t\t\tcase \"logarithmic\" :\r\n\t\t\t\t\tpoints[j] = scale.p * Math.log10( scaleValues[v] ) + scale.q  - pos_y\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"linear\" :\r\n\t\t\t\t\tpoints[j] = scale.p * scaleValues[v] + scale.q  - pos_y\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"lookup\" :\r\n\t\t\t\t\tpoints[j] = tableLookup( scaleValues[v] , scale.table , 'y' ) - pos_y\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'exponent' :\r\n\t\t\t\t\tpoints[j] = scale.p * Math.pow( scaleValues[v] , scale.q) - pos_y\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'polynom' :\r\n\t\t\t\t\tpoints[j] = polynom(scale.p, scaleValues[v]) - pos_y\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'quadratic' :\r\n\t\t\t\t\tpoints[j] = scale.p  * Math.pow( scaleValues[v] , 2 ) + scale.q - pos_y\r\n\t\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tcase 'qubic' :\r\n\t\t\t\t\tpoints[j] = scale.p  * Math.pow( scaleValues[v] , 3 ) + scale.q - pos_y\r\n\t\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tcase 'sqrt' :\r\n\t\t\t\t\tpoints[j] = scale.p  * Math.pow( scaleValues[v] , 0.5 ) + scale.q - pos_y\r\n\t\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tdefault :\r\n\t\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.type)\r\n\t\t\t\t}\r\n\t\t\tj++\r\n\t\t}\r\n\r\n\t\t// one additional point for maxlabel!!\r\n\t\tswitch (String(scale.xType)) {\r\n\t\t\tcase \"inverse\" :\r\n\t\t\t\tpoints[j] = scale.m  * ( 1 / scale.max ) + scale.n - pos_x\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'linear' :\r\n\t\t\t\tpoints[j] = scale.m  * scale.max + scale.n - pos_x\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"lookup\" :\r\n\t\t\t\tpoints[j] = tableLookup( scale.max , scale.table , 'x' ) - pos_x\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"inversePower2\" :\r\n\t\t\t\tpoints[j] = scale.m  * ( 1 /  Math.pow(scale.max,2) ) + scale.n - pos_x\r\n\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\tcase \"logarithmic\" :\r\n\t\t\t\tpoints[j] = scale.m * Math.log10( scale.max ) + scale.n - pos_x \r\n\t\t\t\tbreak;\r\n\t\t\tcase 'exponent' :\r\n\t\t\t\tpoints[j] = scale.m * Math.pow( scale.max , scale.n) - pos_x\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'polynom' :\r\n\t\t\t\tpoints[j] = polynom(scale.m, scale.max) - pos_x\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t\t}\r\n\t\tj++\r\n\t\t\r\n\t\tswitch (String(scale.type)) {\r\n\t\t\tcase \"logarithmic\" :\r\n\t\t\t\tpoints[j] = scale.p * Math.log10( scale.max ) + scale.q  - pos_y\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"linear\" :\r\n\t\t\t\tpoints[j] = scale.p * scale.max + scale.q  - pos_y\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"lookup\" :\r\n\t\t\t\tpoints[j] = tableLookup( scale.max , scale.table , 'y' ) - pos_y\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'exponent' :\r\n\t\t\t\tpoints[j] = scale.p * Math.pow( scale.max , scale.q) - pos_y\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'polynom' :\r\n\t\t\t\tpoints[j] = polynom(scale.p, scale.max) - pos_y\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'quadratic' :\r\n\t\t\t\tpoints[j] = scale.p  * Math.pow( scale.max , 2 ) + scale.q - pos_y\r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\tcase 'qubic' :\r\n\t\t\t\tpoints[j] = scale.p  * Math.pow( scale.max , 3 ) + scale.q - pos_y\r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\tcase 'sqrt' :\r\n\t\t\t\tpoints[j] = scale.p  * Math.pow( scale.max , 0.5 ) + scale.q - pos_y\r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.type)\r\n\t\t\t}\r\n\r\n\r\n\t\t\r\n\r\n\t\tscales[0] = {\r\n\t\t\tx: pos_x,\r\n\t\t\ty: pos_y,\r\n\t\t\tpoints: points,\r\n\t\t\tstroke: scale.color,\r\n\t\t\tstrokeWidth: userSettings.strokeWidth * window.innerWidth,\r\n\t\t\ttension: scale.tension\r\n\t\t};\r\n\r\n\t\t//console.log(scales)\t\r\n\t\ti=1;\r\n\r\n\r\n\t\t// making small dashes on all scale positions\t\t\r\n\t\tfor (const v in scaleValues) {\r\n\t\t\tswitch (String(scale.type)) {\r\n\t\t\t\tcase \"logarithmic\" :\r\n\t\t\t\t\ty_position = scale.p * Math.log10( scaleValues[v] ) + scale.q \r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"linear\" :\r\n\t\t\t\t\ty_position = scale.p * scaleValues[v] + scale.q \r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"lookup\" :\r\n\t\t\t\t\ty_position = tableLookup( scaleValues[v] , scale.table , 'y' )\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'exponent' :\r\n\t\t\t\t\ty_position = scale.p * Math.pow( scaleValues[v] , scale.q)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'polynom' :\r\n\t\t\t\t\ty_position = polynom(scale.p, scaleValues[v])\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'quadratic' :\r\n\t\t\t\t\ty_position = scale.p  * Math.pow( scaleValues[v] , 2 ) + scale.q\r\n\t\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tcase 'qubic' :\r\n\t\t\t\t\ty_position = scale.p  * Math.pow( scaleValues[v] , 3 ) + scale.q\r\n\t\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tcase 'sqrt' :\r\n\t\t\t\t\ty_position = scale.p  * Math.pow( scaleValues[v] , 0.5 ) + scale.q\r\n\t\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tdefault :\r\n\t\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.type)\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\tswitch ( scale.deviders.position ){\r\n\t\t\tcase 'left':\r\n\t\t\t\tswitch (String(scale.xType)) {\r\n\t\t\t\t\tcase \"inverse\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 / scaleValues[v] ) + scale.n - window.innerWidth * dashWidth * 0.5\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'linear' :\r\n\t\t\t\t\t\tx_position = scale.m  * scaleValues[v] + scale.n - window.innerWidth * dashWidth * 0.5\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'lookup' :\r\n\t\t\t\t\t\tx_position = tableLookup( scaleValues[v] , scale.table , 'x' ) - window.innerWidth * dashWidth * 0.5\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"inversePower2\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 /  Math.pow(scaleValues[v],2) ) + scale.n - window.innerWidth * dashWidth * 0.5\r\n\t\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\t\tcase \"logarithmic\" :\r\n\t\t\t\t\t\tx_position = scale.m * Math.log10( scaleValues[v] ) + scale.n - window.innerWidth * dashWidth * 0.5\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'exponent' :\r\n\t\t\t\t\t\tx_position = scale.m * Math.pow( scaleValues[v] , scale.n) - window.innerWidth * dashWidth * 0.5\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'polynom' :\r\n\t\t\t\t\t\tx_position = polynom(scale.m, scaleValues[v]) - window.innerWidth * dashWidth * 0.5\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t\t\t\t}\r\n\t\t\t\tlength = window.innerWidth * dashWidth * 0.5\r\n\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase 'right':\r\n\t\t\t\tswitch (String(scale.xType)) {\r\n\t\t\t\t\tcase \"inverse\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 / scaleValues[v] ) + scale.n \r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'linear' :\r\n\t\t\t\t\t\tx_position = scale.m  * scaleValues[v] + scale.n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'lookup' :\r\n\t\t\t\t\t\tx_position = tableLookup( scaleValues[v] , scale.table , 'x' )\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"inversePower2\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 /  Math.pow(scaleValues[v],2) ) + scale.n\r\n\t\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\t\tcase \"logarithmic\" :\r\n\t\t\t\t\t\tx_position = scale.m * Math.log10( scaleValues[v] ) + scale.n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'polynom' :\r\n\t\t\t\t\t\tx_position = polynom(scale.m, scaleValues[v])\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t\t\t\t}\r\n\t\t\t\tlength = window.innerWidth * dashWidth * 0.5\r\n\t\t\tbreak;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tdefault: \r\n\t\t\t\t\r\n\t\t\t\tswitch (String(scale.xType)) {\r\n\t\t\t\t\tcase \"inverse\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 / scaleValues[v] ) + scale.n  - window.innerWidth * dashWidth * 0.5 * centered_dash_factor\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'linear' :\r\n\t\t\t\t\t\tx_position = scale.m  * scaleValues[v] + scale.n  - window.innerWidth * dashWidth * 0.5 * centered_dash_factor\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'lookup' :\r\n\t\t\t\t\t\tx_position = tableLookup( scaleValues[v] , scale.table , 'x' ) - window.innerWidth * dashWidth * 0.5 * centered_dash_factor\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"inversePower2\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 /  Math.pow(scaleValues[v],2) ) + scale.n - window.innerWidth * dashWidth * 0.5 * centered_dash_factor\r\n\t\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\t\tcase \"logarithmic\" :\r\n\t\t\t\t\t\tx_position = scale.m * Math.log10( scaleValues[v] ) + scale.n - window.innerWidth * dashWidth * 0.5 * centered_dash_factor\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'exponent' :\r\n\t\t\t\t\t\tx_position = scale.m * Math.pow( scaleValues[v] , scale.n) - window.innerWidth * dashWidth * 0.5 * centered_dash_factor\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'polynom' :\r\n\t\t\t\t\t\tx_position = polynom(scale.m, scaleValues[v]) - window.innerWidth * dashWidth * 0.5 * centered_dash_factor\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t\t\t\t}\r\n\t\t\t\tlength = window.innerWidth * dashWidth * centered_dash_factor\r\n\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tscales[i] = {\r\n\t\t\t\tvalue: scaleValues[v],\r\n\t\t\t\tx: x_position,\r\n\t\t\t\ty: y_position,\r\n\t\t\t\tpoints: [0, 0, length, 0],\r\n\t\t\t\tstroke: scale.color,\r\n\t\t\t\tstrokeWidth: userSettings.strokeWidth * window.innerWidth * 0.5\r\n\t\t\t};\r\n\t\t\ti++;\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t//big dashes\r\n\t\tfor (const v in labelValues) {\r\n\t\t\t\r\n\t\t\tswitch (String(scale.type)) {\r\n\t\t\t\tcase \"logarithmic\" :\r\n\t\t\t\t\ty_position = scale.p * Math.log10( labelValues[v] ) + scale.q \r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"linear\" :\r\n\t\t\t\t\ty_position = scale.p * labelValues[v] + scale.q \r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"lookup\" :\r\n\t\t\t\t\ty_position = tableLookup( labelValues[v] , scale.table , 'y' ) \r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'exponent' :\r\n\t\t\t\t\ty_position = scale.p * Math.pow( labelValues[v] , scale.q)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'polynom' :\r\n\t\t\t\t\ty_position = polynom(scale.p, labelValues[v])\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'quadratic' :\r\n\t\t\t\t\ty_position = scale.p  * Math.pow( labelValues[v] , 2 ) + scale.q\r\n\t\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tcase 'qubic' :\r\n\t\t\t\t\ty_position = scale.p  * Math.pow( labelValues[v] , 3 ) + scale.q\r\n\t\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tcase 'sqrt' :\r\n\t\t\t\t\ty_position = scale.p  * Math.pow( labelValues[v] , 0.5 ) + scale.q\r\n\t\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tdefault :\r\n\t\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.type)\r\n\t\t\t\t}\r\n\r\n\t\t\tswitch ( scale.deviders.position ){\r\n\t\t\tcase 'left':\r\n\t\t\t\tswitch (String(scale.xType)) {\r\n\t\t\t\t\tcase \"inverse\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 / labelValues[v] ) + scale.n - window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'linear' :\r\n\t\t\t\t\t\tx_position = scale.m  * labelValues[v] + scale.n - window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'lookup' :\r\n\t\t\t\t\t\tx_position = tableLookup( labelValues[v] , scale.table , 'x' ) - window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"inversePower2\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 /  Math.pow(labelValues[v],2) ) + scale.n - window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\t\tcase \"logarithmic\" :\r\n\t\t\t\t\t\tx_position = scale.m * Math.log10( labelValues[v] ) + scale.n - window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'exponent' :\r\n\t\t\t\t\t\tx_position = scale.m * Math.pow( labelValues[v] , scale.n) - window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'polynom' :\r\n\t\t\t\t\t\tx_position = polynom(scale.m, labelValues[v]) - window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t\t\t\t}\r\n\t\t\t\tlength = window.innerWidth * dashWidth * 1\r\n\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase 'right':\r\n\t\t\t\tswitch (String(scale.xType)) {\r\n\t\t\t\t\tcase \"inverse\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 / labelValues[v] ) + scale.n \r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'linear' :\r\n\t\t\t\t\t\tx_position = scale.m  * labelValues[v] + scale.n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'lookup' :\r\n\t\t\t\t\t\tx_position = tableLookup( labelValues[v] , scale.table , 'x' )\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"inversePower2\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 /  Math.pow(labelValues[v],2) ) + scale.n\r\n\t\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\t\tcase \"logarithmic\" :\r\n\t\t\t\t\t\tx_position = scale.m * Math.log10( labelValues[v] ) + scale.n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'polynom' :\r\n\t\t\t\t\t\tx_position = polynom(scale.m, labelValues[v])\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t\t\t\t}\r\n\t\t\t\tlength = window.innerWidth * dashWidth * 1\r\n\t\t\tbreak;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tdefault: \r\n\r\n\t\t\t\tswitch (String(scale.xType)) {\r\n\t\t\t\t\tcase \"inverse\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 / labelValues[v] ) + scale.n  - window.innerWidth * dashWidth * 1 * centered_dash_factor\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'linear' :\r\n\t\t\t\t\t\tx_position = scale.m  * labelValues[v] + scale.n  - window.innerWidth * dashWidth * 1 * centered_dash_factor\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'lookup' :\r\n\t\t\t\t\t\tx_position = tableLookup( labelValues[v] , scale.table , 'x' ) - window.innerWidth * dashWidth * 1 * centered_dash_factor\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"inversePower2\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 /  Math.pow(labelValues[v],2) ) + scale.n - window.innerWidth * dashWidth * 1 * centered_dash_factor\r\n\t\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\t\tcase \"logarithmic\" :\r\n\t\t\t\t\t\tx_position = scale.m * Math.log10( labelValues[v] ) + scale.n - window.innerWidth * dashWidth * 1 * centered_dash_factor\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'exponent' :\r\n\t\t\t\t\t\tx_position = scale.m * Math.pow( labelValues[v] , scale.n) - window.innerWidth * dashWidth * 1 * centered_dash_factor\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'polynom' :\r\n\t\t\t\t\t\tx_position = polynom(scale.m, labelValues[v]) - window.innerWidth * dashWidth * 1 * centered_dash_factor\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t\t\t\t}\r\n\t\t\t\tlength = window.innerWidth * dashWidth * 2 * centered_dash_factor\r\n\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\r\n\r\n\r\n\r\n\r\n\t\t\tscales[i] = {\r\n\t\t\t\tvalue: scaleValues[v],\r\n\t\t\t\tx: x_position,\r\n\t\t\t\ty: y_position,\r\n\t\t\t\tpoints: [0, 0, length, 0],\r\n\t\t\t\tstroke: scale.color,\r\n\t\t\t\tstrokeWidth: userSettings.strokeWidth * window.innerWidth\r\n\t\t\t};\r\n\t\t\ti++;\r\n\t\t}\t\t\r\n\t\t\r\n\t\tif ( typeof(scale.offsetX) !== 'number' ){\r\n\t\t\tscale.offsetX = 0\r\n\t\t}\t\t\r\n\t\t\r\n\t\t//main headline , not dependent of right/left\r\n\t\tlabels[0] = {\r\n\t\t\tx: pos_x,\r\n\t\t\ty: window.innerHeight * userSettings.headPositionY,\r\n\t\t\tposition: \"center\",\r\n\t\t\ttext: scale.head + \" \\n [\" + scale.unit + \"]\" ,\r\n\t\t\tfontSize: window.innerWidth * scale.headSize,\r\n\t\t\toffsetX: -1 * window.innerWidth * scale.offsetX\r\n\t\t};\r\n\r\n\r\n\t\t// making labels\r\n\t\ti = 1;\r\n\t\tfor (const v in labelValues) {\r\n\t\t\t\r\n\t\t\tswitch (String(scale.type)) {\r\n\t\t\t\tcase \"logarithmic\" :\r\n\t\t\t\t\ty_position = scale.p * Math.log10( labelValues[v] ) + scale.q \r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"linear\" :\r\n\t\t\t\t\ty_position = scale.p * labelValues[v] + scale.q \r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"lookup\" :\r\n\t\t\t\t\ty_position = tableLookup( labelValues[v] , scale.table , 'y' ) \r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'exponent' :\r\n\t\t\t\t\ty_position = scale.p * Math.pow( labelValues[v] , scale.q)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'polynom' :\r\n\t\t\t\t\ty_position = polynom(scale.p, labelValues[v])\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'quadratic' :\r\n\t\t\t\t\ty_position = scale.p  * Math.pow( labelValues[v] , 2 ) + scale.q\r\n\t\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tcase 'qubic' :\r\n\t\t\t\t\ty_position = scale.p  * Math.pow( labelValues[v] , 3 ) + scale.q\r\n\t\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tcase 'sqrt' :\r\n\t\t\t\t\ty_position = scale.p  * Math.pow( labelValues[v] , 0.5 ) + scale.q\r\n\t\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tdefault :\r\n\t\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.type)\r\n\t\t\t\t}\r\n\r\n\t\t\tswitch ( scale.deviders.position ){\r\n\t\t\tcase 'left':\r\n\t\t\t\tswitch (String(scale.xType)) {\r\n\t\t\t\t\tcase \"inverse\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 / labelValues[v] ) + scale.n - window.innerWidth * dashWidth\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'linear' :\r\n\t\t\t\t\t\tx_position = scale.m  * labelValues[v] + scale.n - window.innerWidth * dashWidth\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'lookup' :\r\n\t\t\t\t\t\tx_position = tableLookup( labelValues[v] , scale.table , 'x' ) - window.innerWidth * dashWidth\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"inversePower2\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 /  Math.pow(labelValues[v],2) ) + scale.n - window.innerWidth * dashWidth\r\n\t\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\t\tcase \"logarithmic\" :\r\n\t\t\t\t\t\tx_position = scale.m * Math.log10( labelValues[v] ) + scale.n - window.innerWidth * dashWidth\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'exponent' :\r\n\t\t\t\t\t\tx_position = scale.m * Math.pow( labelValues[v] , scale.n) - window.innerWidth * dashWidth\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'polynom' :\r\n\t\t\t\t\t\tx_position = polynom(scale.m, labelValues[v]) - window.innerWidth * dashWidth \r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t\t\t\t}\r\n\t\t\t\tlength = window.innerWidth * dashWidth * 1\r\n\t\t\t\tvar offset\r\n\r\n\t\t\t\tif (labelValues[v] < 0.1 ){\r\n\t\t\t\t\toffset = labelValues[v].toString().length * scale.labelSize * window.innerWidth * 0.52;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (labelValues[v] >= 0.1 && labelValues[v] < 1){\r\n\t\t\t\t\toffset = ( 4 ) * scale.labelSize * window.innerWidth * 0.52;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (labelValues[v] >= 1 && labelValues[v] < 10){\r\n\t\t\t\t\toffset = ( 3 ) * scale.labelSize * window.innerWidth * 0.52;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif ( labelValues[v] >= 10){\r\n\t\t\t\t\toffset = ( labelValues[v].toString().length ) * scale.labelSize * window.innerWidth * 0.52;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(labelValues[v] , labelValues[v].toString().length);\r\n\t\t\t\tx_position = x_position - offset\r\n\r\n\t\t\tbreak;\r\n\t\t\tcase 'right':\r\n\t\t\t\tswitch (String(scale.xType)) {\r\n\t\t\t\t\tcase \"inverse\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 / labelValues[v] ) + scale.n + window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'linear' :\r\n\t\t\t\t\t\tx_position = scale.m  * labelValues[v] + scale.n + window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'lookup' :\r\n\t\t\t\t\t\tx_position = tableLookup( labelValues[v] , scale.table , 'x' ) + window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"inversePower2\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 /  Math.pow(labelValues[v],2) ) + scale.n + window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"logarithmic\" :\r\n\t\t\t\t\t\tx_position = scale.m * Math.log10( labelValues[v] ) + scale.n + window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'polynom' :\r\n\t\t\t\t\t\tx_position = polynom(scale.m, labelValues[v]) + window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t\t\t\t}\r\n\t\t\t\tlength = window.innerWidth * dashWidth * 1\r\n\t\t\tbreak;\r\n\t\t\tdefault: \r\n\t\t\t\tswitch (String(scale.xType)) {\r\n\t\t\t\t\tcase \"inverse\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 / labelValues[v] ) + scale.n + window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'linear' :\r\n\t\t\t\t\t\tx_position = scale.m  * labelValues[v] + scale.n + window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'lookup' :\r\n\t\t\t\t\t\tx_position = tableLookup( labelValues[v] , scale.table , 'x' ) + window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"inversePower2\" :\r\n\t\t\t\t\t\tx_position = scale.m  * ( 1 /  Math.pow(labelValues[v],2) ) + scale.n + window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"logarithmic\" :\r\n\t\t\t\t\t\tx_position = scale.m * Math.log10( labelValues[v] ) + scale.n + window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'exponent' :\r\n\t\t\t\t\t\tx_position = scale.m * Math.pow( labelValues[v] , scale.n) + window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'polynom' :\r\n\t\t\t\t\t\tx_position = polynom(scale.m, labelValues[v]) - window.innerWidth * dashWidth * 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t\t\t\t}\r\n\t\t\t\tlength = window.innerWidth * dashWidth * 2\r\n\t\t\t}\t\r\n\r\n\t\t\tif ( isNaN( scale.deviders.labelOffsetX * window.innerWidth) ){\r\n\t\t\t\tscale.deviders.labelOffsetX = 0\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tif ( isNaN( scale.deviders.labelOffsetY * window.innerWidth) ){\r\n\t\t\t\tscale.deviders.labelOffsetY = 0\r\n\t\t\t}\r\n\r\n\t\t\t\t\r\n\t\t\tlabels[i] = {\r\n\t\t\t\tx: x_position,\r\n\t\t\t\ty: y_position,\r\n\t\t\t\ttext: niceRounding(labelValues[v]),    //truncate to correct size of places after comma\r\n\t\t\t\tfontSize: window.innerWidth * scale.labelSize,\r\n\t\t\t\toffsetX: -1 * scale.deviders.labelOffsetX * window.innerWidth,\r\n\t\t\t\toffsetY: window.innerWidth * scale.labelSize - scale.deviders.labelOffsetY * window.innerHeight,\r\n\t\t\t\trotation: scale.deviders.labelRotation\r\n\t\t\t\t\r\n\t\t\t};\r\n\t\t\ti++;\r\n\t\t}\t\t\r\n\t}\r\n\treturn { scales, labels };\r\n\t}\r\n\r\n\r\n// the following are only wrappers, to keep older verisons running. drawScale should be now used for each new nomograph\r\n\r\nfunction drawLinScale(scaleName, nomoName, tempSettings){\r\n\tvar scale = userSetup[nomoName][scaleName]\r\n\tvar cb = drawScale(scale, tempSettings)\r\n\tvar scales = cb.scales\r\n\tvar labels = cb.labels\r\n\treturn { scales, labels };\r\n\r\n}\r\n\r\n\r\nfunction drawLogScale(scaleName, nomoName, tempSettings){\r\n\tvar scale = userSetup[nomoName][scaleName]\r\n\tvar cb = drawScale(scale, tempSettings)\r\n\tvar scales = cb.scales\r\n\tvar labels = cb.labels\r\n  return { scales, labels };\r\n}\r\n\r\n\r\nfunction drawTableScale(scaleName, nomoName, tempSettings){\r\n\tvar scale = userSetup[nomoName][scaleName]\r\n\tvar cb = drawScale(scale, tempSettings)\r\n\tvar scales = cb.scales\r\n\tvar labels = cb.labels\r\n  return { scales, labels };\r\n}\r\n\r\n","//last change: 20210329_15:00\r\n\r\nexport default class Matrix {\r\n\r\n    /**\r\n     * performs backward substitution on a matrix\r\n     * @param anyMatrix - a matrix that has already undergone forward substitution\r\n     * @param arr - an array that will ultimately be the final output for A0 - Ak\r\n     * @param row - last row index\r\n     * @param col - column index\r\n     * @returns {*}\r\n     */\r\n    backwardSubstitution (anyMatrix, arr, row, col) {\r\n        if (row < 0 || col < 0) {\r\n            return arr;\r\n        } \r\n        else {\r\n            const rows  = anyMatrix.length;\r\n            const cols  = anyMatrix[0].length - 1;\r\n            let current = 0;\r\n            let counter = 0;\r\n\r\n            for (let i = cols - 1; i >= col; i--) {\r\n\r\n                if (i === col) {\r\n                    current = anyMatrix[row][cols] / anyMatrix[row][i];\r\n\r\n\r\n                } else {\r\n                    anyMatrix[row][cols] -= anyMatrix[row][i] * arr[rows - 1 - counter];\r\n                    counter++;\r\n                }\r\n            }\r\n\r\n            arr[row] = current;\r\n            return this.backwardSubstitution(anyMatrix, arr, row - 1, col - 1);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Combines a square matrix with a matrix with K rows and only 1 column for GJ Elimination\r\n     * @param left\r\n     * @param right\r\n     * @returns {*[]}\r\n     */\r\n    combineMatrices (left, right){\r\n\r\n        const rows         = right.length;\r\n        const cols         = left[0].length;\r\n        const returnMatrix = [];\r\n\r\n        for (let i = 0; i < rows; i++) {\r\n            returnMatrix.push([]);\r\n\r\n            for (let j = 0; j <= cols; j++) {\r\n\r\n                if (j === cols) {\r\n\r\n                    returnMatrix[i][j] = right[i];\r\n\r\n                } else {\r\n\r\n                    returnMatrix[i][j] = left[i][j];\r\n                }\r\n            }\r\n        }\r\n\r\n        return returnMatrix;\r\n    };\r\n\r\n    /**\r\n     * Performs forward elimination for GJ elimination to form an upper right triangle matrix\r\n     * @param anyMatrix\r\n     * @returns {*[]}\r\n     */\r\n    forwardElimination(anyMatrix){\r\n\r\n        const rows    = anyMatrix.length;\r\n        const cols    = anyMatrix[0].length;\r\n        const matrix  = [];\r\n        //returnMatrix = anyMatrix;\r\n        for (let i = 0; i < rows; i++) {\r\n\r\n            matrix.push([]);\r\n\r\n            for (let j = 0; j < cols; j++) {\r\n                matrix[i][j] = anyMatrix[i][j];\r\n            }\r\n        }\r\n\r\n        for (let x = 0; x < rows - 1; x++) {\r\n\r\n            for (let z = x; z < rows - 1; z++) {\r\n\r\n                const numerator   = matrix[z + 1][x];\r\n                const denominator = matrix[x][x];\r\n                const result      = numerator / denominator;\r\n\r\n\r\n                for (let i = 0; i < cols; i++) {\r\n\r\n                    matrix[z + 1][i] = matrix[z + 1][i] - (result * matrix[x][i]);\r\n                }\r\n            }\r\n        }\r\n        return matrix;\r\n    };\r\n\r\n    /**\r\n     * THIS METHOD ACTS LIKE A CONTROLLER AND PERFORMS ALL THE NECESSARY STEPS OF GJ ELIMINATION TO PRODUCE\r\n     * THE TERMS NECESSARY FOR POLYNOMIAL REGRESSION USING THE LEAST SQUARES METHOD WHERE SUM(RESIDUALS) = 0\r\n     * @param leftMatrix\r\n     * @param rightMatrix\r\n     * @returns {*}\r\n     */\r\n    gaussianJordanElimination(leftMatrix, rightMatrix) {\r\n\r\n        const combined       = this.combineMatrices(leftMatrix, rightMatrix);\r\n        const fwdIntegration = this.forwardElimination(combined);\r\n        //NOW, FINAL STEP IS BACKWARD SUBSTITUTION WHICH RETURNS THE TERMS NECESSARY FOR POLYNOMIAL REGRESSION\r\n        return this.backwardSubstitution(fwdIntegration, [], fwdIntegration.length - 1, fwdIntegration[0].length - 2);\r\n    }\r\n\r\n    /**\r\n     * returns the identity matrix for a matrix such that anyMatrix * identitymatrix = anyMatrix\r\n     * This is useful for inverting a matrix\r\n     * @param anyMatrix\r\n     * @returns {*[]}\r\n     */\r\n    identityMatrix (anyMatrix){\r\n\r\n        const rows           = anyMatrix.length;\r\n        const cols           = anyMatrix[0].length;\r\n        const identityMatrix = [[]];\r\n\r\n        for (let i = 0; i < rows; i++) {\r\n            for (let j = 0; j < cols; j++) {\r\n                if (j === i) {\r\n                    identityMatrix[i][j] = 1;\r\n                } else {\r\n                    identityMatrix[i][j] = 0;\r\n                }\r\n            }\r\n        }\r\n        return identityMatrix;\r\n    }\r\n\r\n\r\n    /**\r\n     * calculates the product of 2 matrices\r\n     * @param matrix1\r\n     * @param matrix2\r\n     * @returns {*}\r\n     */\r\n    matrixProduct (matrix1, matrix2) {\r\n        const numCols1 = matrix1[0].length;\r\n        const numRows2 = matrix2.length;\r\n\r\n        if (numCols1 !== numRows2) {\r\n            return false;\r\n        }\r\n\r\n        const product = [[]];\r\n\r\n        for (let rows = 0; rows < numRows2; rows++) {\r\n            for (let cols = 0; cols < numCols1; cols++) {\r\n                product[rows][cols] = this.doMultiplication(matrix1, matrix2, rows,\r\n                    cols, numCols1);\r\n            }\r\n        }\r\n        return product;\r\n    };\r\n\r\n    /**\r\n     * performs multiplication for an individual matrix cell\r\n     * @param matrix1\r\n     * @param matrix2\r\n     * @param row\r\n     * @param col\r\n     * @param numCol\r\n     * @returns {number}\r\n     */\r\n    doMultiplication (matrix1, matrix2, row, col, numCol) {\r\n        let counter = 0;\r\n        let result  = 0;\r\n        while (counter < numCol) {\r\n            result += matrix1[row][counter] * matrix2[counter][col];\r\n            counter++;\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * Multiplies a row of a matrix - 1 of the fundamental matrix operations\r\n     * @param anyMatrix\r\n     * @param rowNum\r\n     * @param multiplier\r\n     * @returns {*[]}\r\n     */\r\n    multiplyRow (anyMatrix, rowNum, multiplier){\r\n        const rows    = anyMatrix.length;\r\n        const cols    = anyMatrix[0].length;\r\n        const mMatrix = [[]];\r\n\r\n        for (let i = 0; i < rows; i++) {\r\n            for (let j = 0; j < cols; j++) {\r\n                if (i === rowNum) {\r\n                    mMatrix[i][j] = anyMatrix[i][j] * multiplier;\r\n                } else {\r\n                    mMatrix[i][j] = anyMatrix[i][j];\r\n                }\r\n            }\r\n        }\r\n\r\n        return mMatrix;\r\n    }\r\n}\r\n","/**\r\n * Simple data point object for use as a consistent data storage mechanism\r\n * @param x\r\n * @param y\r\n * @constructor\r\n */\r\nexport default class DataPoint {\r\n    constructor(x,y){\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}","import Matrix from \"./Matrix\";\r\nimport DataPoint from \"./DataPoint\";\r\n\r\n/**\r\n * The constructor for a PolynomialRegression object an example of it's usage is below\r\n *\r\n *\r\n * var someData = [];\r\n * someData.push(new DataPoint(0.0, 1.0));\r\n * someData.push(new DataPoint(1.0, 3.0));\r\n * someData.push(new DataPoint(2.0, 6.0));\r\n * someData.push(new DataPoint(3.0, 9.0));\r\n * someData.push(new DataPoint(4.0, 12.0));\r\n * someData.push(new DataPoint(5.0, 15.0));\r\n * someData.push(new DataPoint(6.0, 18.0));\r\n *\r\n * var poly = new PolynomialRegression(someData, 3);\r\n * var terms = poly.getTerms();\r\n *\r\n * for(var i = 0; i < terms.length; i++){\r\n *    console.log(\"term \" + i, terms[i]);\r\n * }\r\n * console.log(poly.predictY(terms, 5.0));\r\n *\r\n *\r\n *\r\n * @param theData\r\n * @param degrees\r\n * @constructor\r\n */\r\nexport default class PolynomialRegression {\r\n\r\n    /**\r\n     *\r\n     * @param {Array} list\r\n     * @param {Number} degrees\r\n     * @returns {PolynomialRegression}\r\n     */\r\n    static read(list, degrees){\r\n        const data_points = list.map(item => {\r\n            return new DataPoint(item.x, item.y);\r\n        });\r\n\r\n        return new PolynomialRegression(data_points, degrees);\r\n    }\r\n    \r\n    constructor(data_points, degrees) {\r\n        //private object variables\r\n        this.data        = data_points;\r\n        this.degree      = degrees;\r\n        this.matrix      = new Matrix();\r\n        this.leftMatrix  = [];\r\n        this.rightMatrix = [];\r\n    \r\n        this.generateLeftMatrix();\r\n        this.generateRightMatrix();\r\n    }\r\n    \r\n    /**\r\n     * Sums up all x coordinates raised to a power\r\n     * @param anyData\r\n     * @param power\r\n     * @returns {number}\r\n     */\r\n    sumX (anyData, power) {\r\n        let sum = 0;\r\n        for (let i = 0; i < anyData.length; i++) {\r\n            sum += Math.pow(anyData[i].x, power);\r\n        }\r\n        return sum;\r\n    }\r\n    \r\n    \r\n    /**\r\n     * sums up all x * y where x is raised to a power\r\n     * @param anyData\r\n     * @param power\r\n     * @returns {number}\r\n     */\r\n    sumXTimesY(anyData, power){\r\n        let sum = 0;\r\n        for (let i = 0; i < anyData.length; i++) {\r\n            sum += Math.pow(anyData[i].x, power) * anyData[i].y;\r\n        }\r\n        return sum;\r\n    }\r\n    \r\n    \r\n    /**\r\n     * Sums up all Y's raised to a power\r\n     * @param anyData\r\n     * @param power\r\n     * @returns {number}\r\n     */\r\n    sumY (anyData, power){\r\n        let sum = 0;\r\n        for (let i = 0; i < anyData.length; i++) {\r\n            sum += Math.pow(anyData[i].y, power);\r\n        }\r\n        return sum;\r\n    }\r\n    \r\n    /**\r\n     * generate the left matrix\r\n     */\r\n    generateLeftMatrix(){\r\n        for (let i = 0; i <= this.degree; i++) {\r\n            this.leftMatrix.push([]);\r\n            for (let j = 0; j <= this.degree; j++) {\r\n                if (i === 0 && j === 0) {\r\n                    this.leftMatrix[i][j] = this.data.length;\r\n                } else {\r\n                    this.leftMatrix[i][j] = this.sumX(this.data, (i + j));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * generates the right hand matrix\r\n     */\r\n    generateRightMatrix(){\r\n        for (let i = 0; i <= this.degree; i++) {\r\n            if (i === 0) {\r\n                this.rightMatrix[i] = this.sumY(this.data, 1);\r\n            } else {\r\n                this.rightMatrix[i] = this.sumXTimesY(this.data, i);\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    /**\r\n     * gets the terms for a polynomial\r\n     * @returns {*}\r\n     */\r\n    getTerms(){\r\n        return this.matrix.gaussianJordanElimination(this.leftMatrix, this.rightMatrix);\r\n    }\r\n    \r\n    /**\r\n     * Predicts the Y value of a data set based on polynomial coefficients and the value of an independent variable\r\n     * @param terms\r\n     * @param x\r\n     * @returns {number}\r\n     */\r\n    predictY(terms, x){\r\n    \r\n        let result = 0;\r\n        for (let i = terms.length - 1; i >= 0; i--) {\r\n            if (i === 0) {\r\n                result += terms[i];\r\n            } else {\r\n                result += terms[i] * Math.pow(x, i);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}","//last change: 20210607_15:30\r\n\r\nimport { userSetup, userInput } from \"./settings.js\";\r\nimport { brine } from \"./brine.js\";\r\nimport { stat } from \"./settings.js\";\r\nimport { tableLookup } from \"./scales.js\";\r\nimport PolynomialRegression from \"./PolynomialRegression\"\r\n//to do: pressure calculation for low reynolds numbers\r\n\r\n\r\nconst britishStandard = {\r\n\ttableA1 : [\r\n\t\t{val: 1.23, x: 0},\r\n\t\t{val: 1.188, x: 0.05},\r\n\t\t{val: 1.156, x: 0.1},\r\n\t\t{val: 1.134, x: 0.15},\r\n\t],\r\n\ttableA2 : [\r\n\t\t{val: 1.069, x: 0, y: 0.05},\r\n\t\t{val: 1.056, x: 0.05, y: 0.05},\r\n\t\t{val: 1.043, x: 0.1, y: 0.05},\r\n\t\t{val: 1.037, x: 0.15, y: 0.05},\r\n\r\n\t\t{val: 1.066, x: 0, y: 0.075},\r\n\t\t{val: 1.053, x: 0.05, y: 0.075},\r\n\t\t{val: 1.041, x: 0.1, y: 0.075},\r\n\t\t{val: 1.035, x: 0.15, y: 0.075},\r\n\r\n\t\t{val: 1.063, x: 0, y: 0.1},\r\n\t\t{val: 1.05, x: 0.05, y: 0.1},\r\n\t\t{val: 1.039, x: 0.1, y: 0.1},\r\n\t\t{val: 1.0335, x: 0.15, y: 0.1},\r\n\r\n\t\t{val: 1.057, x: 0, y: 0.15},\r\n\t\t{val: 1.046, x: 0.05, y: 0.15},\r\n\t\t{val: 1.035, x: 0.1, y: 0.15},\r\n\t\t{val: 1.0305, x: 0.15, y: 0.15},\r\n\r\n\t\t{val: 1.051, x: 0, y: 0.2},\r\n\t\t{val: 1.041, x: 0.05, y: 0.2},\r\n\t\t{val: 1.0315, x: 0.1, y: 0.2},\r\n\t\t{val: 1.0275, x: 0.15, y: 0.2},\r\n\r\n\t\t{val: 1.048, x: 0, y: 0.225},\r\n\t\t{val: 1.038, x: 0.05, y: 0.225},\r\n\t\t{val: 1.0295, x: 0.1, y: 0.225},\r\n\t\t{val: 1.026, x: 0.15, y: 0.225},\r\n\r\n\t\t{val: 1.0395, x: 0, y: 0.3},\r\n\t\t{val: 1.031, x: 0.05, y: 0.3},\r\n\t\t{val: 1.024, x: 0.1, y: 0.3},\r\n\t\t{val: 1.021, x: 0.15, y: 0.3},\r\n\r\n\t\t{val: 1.03, x: 0, y: 0.375},\r\n\t\t{val: 1.0221, x: 0.05, y: 0.375},\r\n\t\t{val: 1.0181, x: 0.1, y: 0.375},\r\n\t\t{val: 1.015, x: 0.15, y: 0.375},\r\n\t],\r\n\ttableA3 : [\r\n\t\t{val: 1.013, x: 0, y: 0.05},\r\n\t\t{val: 1.013, x: 0.05, y: 0.05},\r\n\t\t{val: 1.012, x: 0.1, y: 0.05},\r\n\t\t{val: 1.011, x: 0.15, y: 0.05},\r\n\r\n\t\t{val: 1.021, x: 0, y: 0.075},\r\n\t\t{val: 1.019, x: 0.05, y: 0.075},\r\n\t\t{val: 1.016, x: 0.1, y: 0.075},\r\n\t\t{val: 1.014, x: 0.15, y: 0.075},\r\n\r\n\t\t{val: 1.029, x: 0, y: 0.1},\r\n\t\t{val: 1.025, x: 0.05, y: 0.1},\r\n\t\t{val: 1.022, x: 0.1, y: 0.1},\r\n\t\t{val: 1.018, x: 0.15, y: 0.1},\r\n\r\n\t\t{val: 1.040, x: 0, y: 0.15},\r\n\t\t{val: 1.034, x: 0.05, y: 0.15},\r\n\t\t{val: 1.029, x: 0.1, y: 0.15},\r\n\t\t{val: 1.024, x: 0.15, y: 0.15},\r\n\r\n\t\t{val: 1.046, x: 0, y: 0.2},\r\n\t\t{val: 1.040, x: 0.05, y: 0.2},\r\n\t\t{val: 1.035, x: 0.1, y: 0.2},\r\n\t\t{val: 1.030, x: 0.15, y: 0.2},\r\n\r\n\t\t{val: 1.049, x: 0, y: 0.225},\r\n\t\t{val: 1.043, x: 0.05, y: 0.225},\r\n\t\t{val: 1.038, x: 0.1, y: 0.225},\r\n\t\t{val: 1.033, x: 0.15, y: 0.225},\r\n\r\n\t\t{val: 1.053, x: 0, y: 0.3},\r\n\t\t{val: 1.049, x: 0.05, y: 0.3},\r\n\t\t{val: 1.044, x: 0.1, y: 0.3},\r\n\t\t{val: 1.039, x: 0.15, y: 0.3},\r\n\r\n\t\t{val: 1.056, x: 0, y: 0.375},\r\n\t\t{val: 1.051, x: 0.05, y: 0.375},\r\n\t\t{val: 1.046, x: 0.1, y: 0.375},\r\n\t\t{val: 1.042, x: 0.15, y: 0.375},\t\t\t\t\r\n\t],\r\n\ttableA7 : [\r\n\t\t{val: 1, x: 0.05},\r\n\t\t{val: 1, x: 0.075},\r\n\t\t{val: 1, x: 0.1},\r\n\t\t{val: 0.7, x: 0.15},\r\n\t\t{val: 0.5, x: 0.2},\r\n\t\t{val: 0.43, x: 0.225},\r\n\t\t{val: 0.25, x: 0.3},\r\n\t\t{val: 0.1, x: 0.375},\r\n\t\t{val: 0.0, x: 0.45},\r\n\t],\r\n\ttableA8 : [\r\n\t{val: 0.82, x: 0.014, y: 0.05, z: 0 },\r\n\t{val: 0.86, x: 0.016, y: 0.05, z: 0 },\r\n\t{val: 0.9, x: 0.018, y: 0.05, z: 0 },\r\n\t{val: 0.93, x: 0.02, y: 0.05, z: 0 },\r\n\t{val: 0.96, x: 0.022, y: 0.05, z: 0 },\r\n\t{val: 0.59, x: 0.014, y: 0.075, z: 0 },\r\n\t{val: 0.644, x: 0.016, y: 0.075, z: 0 },\r\n\t{val: 0.7, x: 0.018, y: 0.075, z: 0 },\r\n\t{val: 0.754, x: 0.02, y: 0.075, z: 0 },\r\n\t{val: 0.8, x: 0.022, y: 0.075, z: 0 },\r\n\t{val: 0.488, x: 0.014, y: 0.1, z: 0 },\r\n\t{val: 0.533, x: 0.016, y: 0.1, z: 0 },\r\n\t{val: 0.576, x: 0.018, y: 0.1, z: 0 },\r\n\t{val: 0.617, x: 0.02, y: 0.1, z: 0 },\r\n\t{val: 0.658, x: 0.022, y: 0.1, z: 0 },\r\n\t{val: 0.387, x: 0.014, y: 0.15, z: 0 },\r\n\t{val: 0.415, x: 0.016, y: 0.15, z: 0 },\r\n\t{val: 0.444, x: 0.018, y: 0.15, z: 0 },\r\n\t{val: 0.47, x: 0.02, y: 0.15, z: 0 },\r\n\t{val: 0.505, x: 0.022, y: 0.15, z: 0 },\r\n\t{val: 0.337, x: 0.014, y: 0.2, z: 0 },\r\n\t{val: 0.357, x: 0.016, y: 0.2, z: 0 },\r\n\t{val: 0.379, x: 0.018, y: 0.2, z: 0 },\r\n\t{val: 0.4, x: 0.02, y: 0.2, z: 0 },\r\n\t{val: 0.422, x: 0.022, y: 0.2, z: 0 },\r\n\t{val: 0.32, x: 0.014, y: 0.225, z: 0 },\r\n\t{val: 0.34, x: 0.016, y: 0.225, z: 0 },\r\n\t{val: 0.357, x: 0.018, y: 0.225, z: 0 },\r\n\t{val: 0.376, x: 0.02, y: 0.225, z: 0 },\r\n\t{val: 0.396, x: 0.022, y: 0.225, z: 0 },\r\n\t{val: 0.288, x: 0.014, y: 0.3, z: 0 },\r\n\t{val: 0.3, x: 0.016, y: 0.3, z: 0 },\r\n\t{val: 0.315, x: 0.018, y: 0.3, z: 0 },\r\n\t{val: 0.33, x: 0.02, y: 0.3, z: 0 },\r\n\t{val: 0.344, x: 0.022, y: 0.3, z: 0 },\r\n\t{val: 0.266, x: 0.014, y: 0.375, z: 0 },\r\n\t{val: 0.278, x: 0.016, y: 0.375, z: 0 },\r\n\t{val: 0.29, x: 0.018, y: 0.375, z: 0 },\r\n\t{val: 0.3, x: 0.02, y: 0.375, z: 0 },\r\n\t{val: 0.312, x: 0.022, y: 0.375, z: 0 },\r\n\t{val: 0.25, x: 0.014, y: 0.45, z: 0 },\r\n\t{val: 0.264, x: 0.016, y: 0.45, z: 0 },\r\n\t{val: 0.28, x: 0.018, y: 0.45, z: 0 },\r\n\t{val: 0.29, x: 0.02, y: 0.45, z: 0 },\r\n\t{val: 0.3, x: 0.022, y: 0.45, z: 0 },\r\n\t{val: 0.88, x: 0.014, y: 0.05, z: 0.1 },\r\n\t{val: 0.905, x: 0.016, y: 0.05, z: 0.1 },\r\n\t{val: 0.93, x: 0.018, y: 0.05, z: 0.1 },\r\n\t{val: 0.955, x: 0.02, y: 0.05, z: 0.1 },\r\n\t{val: 0.975, x: 0.022, y: 0.05, z: 0.1 },\r\n\t{val: 0.74, x: 0.014, y: 0.075, z: 0.1 },\r\n\t{val: 0.776, x: 0.016, y: 0.075, z: 0.1 },\r\n\t{val: 0.812, x: 0.018, y: 0.075, z: 0.1 },\r\n\t{val: 0.836, x: 0.02, y: 0.075, z: 0.1 },\r\n\t{val: 0.859, x: 0.022, y: 0.075, z: 0.1 },\r\n\t{val: 0.66, x: 0.014, y: 0.1, z: 0.1 },\r\n\t{val: 0.693, x: 0.016, y: 0.1, z: 0.1 },\r\n\t{val: 0.726, x: 0.018, y: 0.1, z: 0.1 },\r\n\t{val: 0.76, x: 0.02, y: 0.1, z: 0.1 },\r\n\t{val: 0.77, x: 0.022, y: 0.1, z: 0.1 },\r\n\t{val: 0.561, x: 0.014, y: 0.15, z: 0.1 },\r\n\t{val: 0.58, x: 0.016, y: 0.15, z: 0.1 },\r\n\t{val: 0.6, x: 0.018, y: 0.15, z: 0.1 },\r\n\t{val: 0.621, x: 0.02, y: 0.15, z: 0.1 },\r\n\t{val: 0.642, x: 0.022, y: 0.15, z: 0.1 },\r\n\t{val: 0.49, x: 0.014, y: 0.2, z: 0.1 },\r\n\t{val: 0.51, x: 0.016, y: 0.2, z: 0.1 },\r\n\t{val: 0.53, x: 0.018, y: 0.2, z: 0.1 },\r\n\t{val: 0.55, x: 0.02, y: 0.2, z: 0.1 },\r\n\t{val: 0.57, x: 0.022, y: 0.2, z: 0.1 },\r\n\t{val: 0.467, x: 0.014, y: 0.225, z: 0.1 },\r\n\t{val: 0.485, x: 0.016, y: 0.225, z: 0.1 },\r\n\t{val: 0.504, x: 0.018, y: 0.225, z: 0.1 },\r\n\t{val: 0.522, x: 0.02, y: 0.225, z: 0.1 },\r\n\t{val: 0.54, x: 0.022, y: 0.225, z: 0.1 },\r\n\t{val: 0.435, x: 0.014, y: 0.3, z: 0.1 },\r\n\t{val: 0.444, x: 0.016, y: 0.3, z: 0.1 },\r\n\t{val: 0.453, x: 0.018, y: 0.3, z: 0.1 },\r\n\t{val: 0.462, x: 0.02, y: 0.3, z: 0.1 },\r\n\t{val: 0.472, x: 0.022, y: 0.3, z: 0.1 },\r\n\t{val: 0.411, x: 0.014, y: 0.375, z: 0.1 },\r\n\t{val: 0.421, x: 0.016, y: 0.375, z: 0.1 },\r\n\t{val: 0.434, x: 0.018, y: 0.375, z: 0.1 },\r\n\t{val: 0.446, x: 0.02, y: 0.375, z: 0.1 },\r\n\t{val: 0.46, x: 0.022, y: 0.375, z: 0.1 },\r\n\t{val: 0.41, x: 0.014, y: 0.45, z: 0.1 },\r\n\t{val: 0.42, x: 0.016, y: 0.45, z: 0.1 },\r\n\t{val: 0.43, x: 0.018, y: 0.45, z: 0.1 },\r\n\t{val: 0.44, x: 0.02, y: 0.45, z: 0.1 },\r\n\t{val: 0.45, x: 0.022, y: 0.45, z: 0.1 },\r\n\t{val: 0.92, x: 0.014, y: 0.05, z: 0.2 },\r\n\t{val: 0.937, x: 0.016, y: 0.05, z: 0.2 },\r\n\t{val: 0.955, x: 0.018, y: 0.05, z: 0.2 },\r\n\t{val: 0.97, x: 0.02, y: 0.05, z: 0.2 },\r\n\t{val: 0.985, x: 0.022, y: 0.05, z: 0.2 },\r\n\t{val: 0.845, x: 0.014, y: 0.075, z: 0.2 },\r\n\t{val: 0.865, x: 0.016, y: 0.075, z: 0.2 },\r\n\t{val: 0.885, x: 0.018, y: 0.075, z: 0.2 },\r\n\t{val: 0.893, x: 0.02, y: 0.075, z: 0.2 },\r\n\t{val: 0.902, x: 0.022, y: 0.075, z: 0.2 },\r\n\t{val: 0.81, x: 0.014, y: 0.1, z: 0.2 },\r\n\t{val: 0.821, x: 0.016, y: 0.1, z: 0.2 },\r\n\t{val: 0.832, x: 0.018, y: 0.1, z: 0.2 },\r\n\t{val: 0.843, x: 0.02, y: 0.1, z: 0.2 },\r\n\t{val: 0.855, x: 0.022, y: 0.1, z: 0.2 },\r\n\t{val: 0.735, x: 0.014, y: 0.15, z: 0.2 },\r\n\t{val: 0.745, x: 0.016, y: 0.15, z: 0.2 },\r\n\t{val: 0.755, x: 0.018, y: 0.15, z: 0.2 },\r\n\t{val: 0.765, x: 0.02, y: 0.15, z: 0.2 },\r\n\t{val: 0.775, x: 0.022, y: 0.15, z: 0.2 },\r\n\t{val: 0.68, x: 0.014, y: 0.2, z: 0.2 },\r\n\t{val: 0.688, x: 0.016, y: 0.2, z: 0.2 },\r\n\t{val: 0.695, x: 0.018, y: 0.2, z: 0.2 },\r\n\t{val: 0.703, x: 0.02, y: 0.2, z: 0.2 },\r\n\t{val: 0.71, x: 0.022, y: 0.2, z: 0.2 },\r\n\t{val: 0.655, x: 0.014, y: 0.225, z: 0.2 },\r\n\t{val: 0.663, x: 0.016, y: 0.225, z: 0.2 },\r\n\t{val: 0.67, x: 0.018, y: 0.225, z: 0.2 },\r\n\t{val: 0.678, x: 0.02, y: 0.225, z: 0.2 },\r\n\t{val: 0.685, x: 0.022, y: 0.225, z: 0.2 },\r\n\t{val: 0.585, x: 0.014, y: 0.3, z: 0.2 },\r\n\t{val: 0.592, x: 0.016, y: 0.3, z: 0.2 },\r\n\t{val: 0.6, x: 0.018, y: 0.3, z: 0.2 },\r\n\t{val: 0.608, x: 0.02, y: 0.3, z: 0.2 },\r\n\t{val: 0.615, x: 0.022, y: 0.3, z: 0.2 },\r\n\t{val: 0.55, x: 0.014, y: 0.375, z: 0.2 },\r\n\t{val: 0.558, x: 0.016, y: 0.375, z: 0.2 },\r\n\t{val: 0.565, x: 0.018, y: 0.375, z: 0.2 },\r\n\t{val: 0.573, x: 0.02, y: 0.375, z: 0.2 },\r\n\t{val: 0.58, x: 0.022, y: 0.375, z: 0.2 },\r\n\t{val: 0.55, x: 0.014, y: 0.45, z: 0.2 },\r\n\t{val: 0.555, x: 0.016, y: 0.45, z: 0.2 },\r\n\t{val: 0.56, x: 0.018, y: 0.45, z: 0.2 },\r\n\t{val: 0.565, x: 0.02, y: 0.45, z: 0.2 },\r\n\t{val: 0.57, x: 0.022, y: 0.45, z: 0.2 },\r\n\t{val: 0.95, x: 0.014, y: 0.05, z: 0.3 },\r\n\t{val: 0.96, x: 0.016, y: 0.05, z: 0.3 },\r\n\t{val: 0.97, x: 0.018, y: 0.05, z: 0.3 },\r\n\t{val: 0.98, x: 0.02, y: 0.05, z: 0.3 },\r\n\t{val: 0.99, x: 0.022, y: 0.05, z: 0.3 },\r\n\t{val: 0.92, x: 0.014, y: 0.075, z: 0.3 },\r\n\t{val: 0.925, x: 0.016, y: 0.075, z: 0.3 },\r\n\t{val: 0.93, x: 0.018, y: 0.075, z: 0.3 },\r\n\t{val: 0.935, x: 0.02, y: 0.075, z: 0.3 },\r\n\t{val: 0.94, x: 0.022, y: 0.075, z: 0.3 },\r\n\t{val: 0.9, x: 0.014, y: 0.1, z: 0.3 },\r\n\t{val: 0.905, x: 0.016, y: 0.1, z: 0.3 },\r\n\t{val: 0.91, x: 0.018, y: 0.1, z: 0.3 },\r\n\t{val: 0.915, x: 0.02, y: 0.1, z: 0.3 },\r\n\t{val: 0.92, x: 0.022, y: 0.1, z: 0.3 },\r\n\t{val: 0.855, x: 0.014, y: 0.15, z: 0.3 },\r\n\t{val: 0.855, x: 0.016, y: 0.15, z: 0.3 },\r\n\t{val: 0.855, x: 0.018, y: 0.15, z: 0.3 },\r\n\t{val: 0.855, x: 0.02, y: 0.15, z: 0.3 },\r\n\t{val: 0.855, x: 0.022, y: 0.15, z: 0.3 },\r\n\t{val: 0.8, x: 0.014, y: 0.2, z: 0.3 },\r\n\t{val: 0.8, x: 0.016, y: 0.2, z: 0.3 },\r\n\t{val: 0.8, x: 0.018, y: 0.2, z: 0.3 },\r\n\t{val: 0.8, x: 0.02, y: 0.2, z: 0.3 },\r\n\t{val: 0.8, x: 0.022, y: 0.2, z: 0.3 },\r\n\t{val: 0.79, x: 0.014, y: 0.225, z: 0.3 },\r\n\t{val: 0.79, x: 0.016, y: 0.225, z: 0.3 },\r\n\t{val: 0.79, x: 0.018, y: 0.225, z: 0.3 },\r\n\t{val: 0.79, x: 0.02, y: 0.225, z: 0.3 },\r\n\t{val: 0.79, x: 0.022, y: 0.225, z: 0.3 },\r\n\t{val: 0.72, x: 0.014, y: 0.3, z: 0.3 },\r\n\t{val: 0.72, x: 0.016, y: 0.3, z: 0.3 },\r\n\t{val: 0.72, x: 0.018, y: 0.3, z: 0.3 },\r\n\t{val: 0.72, x: 0.02, y: 0.3, z: 0.3 },\r\n\t{val: 0.72, x: 0.022, y: 0.3, z: 0.3 },\r\n\t{val: 0.69, x: 0.014, y: 0.375, z: 0.3 },\r\n\t{val: 0.69, x: 0.016, y: 0.375, z: 0.3 },\r\n\t{val: 0.69, x: 0.018, y: 0.375, z: 0.3 },\r\n\t{val: 0.69, x: 0.02, y: 0.375, z: 0.3 },\r\n\t{val: 0.69, x: 0.022, y: 0.375, z: 0.3 },\r\n\t{val: 0.68, x: 0.014, y: 0.45, z: 0.3 },\r\n\t{val: 0.68, x: 0.016, y: 0.45, z: 0.3 },\r\n\t{val: 0.68, x: 0.018, y: 0.45, z: 0.3 },\r\n\t{val: 0.68, x: 0.02, y: 0.45, z: 0.3 },\r\n\t{val: 0.68, x: 0.022, y: 0.45, z: 0.3 },\r\n\t{val: 0.97, x: 0.014, y: 0.05, z: 0.4 },\r\n\t{val: 0.978, x: 0.016, y: 0.05, z: 0.4 },\r\n\t{val: 0.985, x: 0.018, y: 0.05, z: 0.4 },\r\n\t{val: 0.99, x: 0.02, y: 0.05, z: 0.4 },\r\n\t{val: 0.995, x: 0.022, y: 0.05, z: 0.4 },\r\n\t{val: 0.965, x: 0.014, y: 0.075, z: 0.4 },\r\n\t{val: 0.964, x: 0.016, y: 0.075, z: 0.4 },\r\n\t{val: 0.963, x: 0.018, y: 0.075, z: 0.4 },\r\n\t{val: 0.962, x: 0.02, y: 0.075, z: 0.4 },\r\n\t{val: 0.96, x: 0.022, y: 0.075, z: 0.4 },\r\n\t{val: 0.94, x: 0.014, y: 0.1, z: 0.4 },\r\n\t{val: 0.94, x: 0.016, y: 0.1, z: 0.4 },\r\n\t{val: 0.94, x: 0.018, y: 0.1, z: 0.4 },\r\n\t{val: 0.94, x: 0.02, y: 0.1, z: 0.4 },\r\n\t{val: 0.94, x: 0.022, y: 0.1, z: 0.4 },\r\n\t{val: 0.895, x: 0.014, y: 0.15, z: 0.4 },\r\n\t{val: 0.895, x: 0.016, y: 0.15, z: 0.4 },\r\n\t{val: 0.895, x: 0.018, y: 0.15, z: 0.4 },\r\n\t{val: 0.895, x: 0.02, y: 0.15, z: 0.4 },\r\n\t{val: 0.895, x: 0.022, y: 0.15, z: 0.4 },\r\n\t{val: 0.86, x: 0.014, y: 0.2, z: 0.4 },\r\n\t{val: 0.86, x: 0.016, y: 0.2, z: 0.4 },\r\n\t{val: 0.86, x: 0.018, y: 0.2, z: 0.4 },\r\n\t{val: 0.86, x: 0.02, y: 0.2, z: 0.4 },\r\n\t{val: 0.86, x: 0.022, y: 0.2, z: 0.4 },\r\n\t{val: 0.84, x: 0.014, y: 0.225, z: 0.4 },\r\n\t{val: 0.84, x: 0.016, y: 0.225, z: 0.4 },\r\n\t{val: 0.84, x: 0.018, y: 0.225, z: 0.4 },\r\n\t{val: 0.84, x: 0.02, y: 0.225, z: 0.4 },\r\n\t{val: 0.84, x: 0.022, y: 0.225, z: 0.4 },\r\n\t{val: 0.78, x: 0.014, y: 0.3, z: 0.4 },\r\n\t{val: 0.78, x: 0.016, y: 0.3, z: 0.4 },\r\n\t{val: 0.78, x: 0.018, y: 0.3, z: 0.4 },\r\n\t{val: 0.78, x: 0.02, y: 0.3, z: 0.4 },\r\n\t{val: 0.78, x: 0.022, y: 0.3, z: 0.4 },\r\n\t{val: 0.76, x: 0.014, y: 0.375, z: 0.4 },\r\n\t{val: 0.76, x: 0.016, y: 0.375, z: 0.4 },\r\n\t{val: 0.76, x: 0.018, y: 0.375, z: 0.4 },\r\n\t{val: 0.76, x: 0.02, y: 0.375, z: 0.4 },\r\n\t{val: 0.76, x: 0.022, y: 0.375, z: 0.4 },\r\n\t{val: 0.75, x: 0.014, y: 0.45, z: 0.4 },\r\n\t{val: 0.75, x: 0.016, y: 0.45, z: 0.4 },\r\n\t{val: 0.75, x: 0.018, y: 0.45, z: 0.4 },\r\n\t{val: 0.75, x: 0.02, y: 0.45, z: 0.4 },\r\n\t{val: 0.75, x: 0.022, y: 0.45, z: 0.4 },\r\n\t{val: 0.995, x: 0.014, y: 0.05, z: 0.5 },\r\n\t{val: 0.995, x: 0.016, y: 0.05, z: 0.5 },\r\n\t{val: 0.995, x: 0.018, y: 0.05, z: 0.5 },\r\n\t{val: 0.995, x: 0.02, y: 0.05, z: 0.5 },\r\n\t{val: 0.995, x: 0.022, y: 0.05, z: 0.5 },\r\n\t{val: 0.979, x: 0.014, y: 0.075, z: 0.5 },\r\n\t{val: 0.979, x: 0.016, y: 0.075, z: 0.5 },\r\n\t{val: 0.979, x: 0.018, y: 0.075, z: 0.5 },\r\n\t{val: 0.979, x: 0.02, y: 0.075, z: 0.5 },\r\n\t{val: 0.979, x: 0.022, y: 0.075, z: 0.5 },\r\n\t{val: 0.963, x: 0.014, y: 0.1, z: 0.5 },\r\n\t{val: 0.963, x: 0.016, y: 0.1, z: 0.5 },\r\n\t{val: 0.963, x: 0.018, y: 0.1, z: 0.5 },\r\n\t{val: 0.963, x: 0.02, y: 0.1, z: 0.5 },\r\n\t{val: 0.963, x: 0.022, y: 0.1, z: 0.5 },\r\n\t{val: 0.924, x: 0.014, y: 0.15, z: 0.5 },\r\n\t{val: 0.924, x: 0.016, y: 0.15, z: 0.5 },\r\n\t{val: 0.924, x: 0.018, y: 0.15, z: 0.5 },\r\n\t{val: 0.924, x: 0.02, y: 0.15, z: 0.5 },\r\n\t{val: 0.924, x: 0.022, y: 0.15, z: 0.5 },\r\n\t{val: 0.894, x: 0.014, y: 0.2, z: 0.5 },\r\n\t{val: 0.894, x: 0.016, y: 0.2, z: 0.5 },\r\n\t{val: 0.894, x: 0.018, y: 0.2, z: 0.5 },\r\n\t{val: 0.894, x: 0.02, y: 0.2, z: 0.5 },\r\n\t{val: 0.894, x: 0.022, y: 0.2, z: 0.5 },\r\n\t{val: 0.88, x: 0.014, y: 0.225, z: 0.5 },\r\n\t{val: 0.88, x: 0.016, y: 0.225, z: 0.5 },\r\n\t{val: 0.88, x: 0.018, y: 0.225, z: 0.5 },\r\n\t{val: 0.88, x: 0.02, y: 0.225, z: 0.5 },\r\n\t{val: 0.88, x: 0.022, y: 0.225, z: 0.5 },\r\n\t{val: 0.83, x: 0.014, y: 0.3, z: 0.5 },\r\n\t{val: 0.83, x: 0.016, y: 0.3, z: 0.5 },\r\n\t{val: 0.83, x: 0.018, y: 0.3, z: 0.5 },\r\n\t{val: 0.83, x: 0.02, y: 0.3, z: 0.5 },\r\n\t{val: 0.83, x: 0.022, y: 0.3, z: 0.5 },\r\n\t{val: 0.815, x: 0.014, y: 0.375, z: 0.5 },\r\n\t{val: 0.815, x: 0.016, y: 0.375, z: 0.5 },\r\n\t{val: 0.815, x: 0.018, y: 0.375, z: 0.5 },\r\n\t{val: 0.815, x: 0.02, y: 0.375, z: 0.5 },\r\n\t{val: 0.815, x: 0.022, y: 0.375, z: 0.5 },\r\n\t{val: 0.81, x: 0.014, y: 0.45, z: 0.5 },\r\n\t{val: 0.81, x: 0.016, y: 0.45, z: 0.5 },\r\n\t{val: 0.81, x: 0.018, y: 0.45, z: 0.5 },\r\n\t{val: 0.81, x: 0.02, y: 0.45, z: 0.5 },\r\n\t{val: 0.81, x: 0.022, y: 0.45, z: 0.5 },\r\n\t{val: 0.998, x: 0.014, y: 0.05, z: 0.6 },\r\n\t{val: 0.998, x: 0.016, y: 0.05, z: 0.6 },\r\n\t{val: 0.998, x: 0.018, y: 0.05, z: 0.6 },\r\n\t{val: 0.998, x: 0.02, y: 0.05, z: 0.6 },\r\n\t{val: 0.998, x: 0.022, y: 0.05, z: 0.6 },\r\n\t{val: 0.984, x: 0.014, y: 0.075, z: 0.6 },\r\n\t{val: 0.984, x: 0.016, y: 0.075, z: 0.6 },\r\n\t{val: 0.984, x: 0.018, y: 0.075, z: 0.6 },\r\n\t{val: 0.984, x: 0.02, y: 0.075, z: 0.6 },\r\n\t{val: 0.984, x: 0.022, y: 0.075, z: 0.6 },\r\n\t{val: 0.972, x: 0.014, y: 0.1, z: 0.6 },\r\n\t{val: 0.972, x: 0.016, y: 0.1, z: 0.6 },\r\n\t{val: 0.972, x: 0.018, y: 0.1, z: 0.6 },\r\n\t{val: 0.972, x: 0.02, y: 0.1, z: 0.6 },\r\n\t{val: 0.972, x: 0.022, y: 0.1, z: 0.6 },\r\n\t{val: 0.945, x: 0.014, y: 0.15, z: 0.6 },\r\n\t{val: 0.945, x: 0.016, y: 0.15, z: 0.6 },\r\n\t{val: 0.945, x: 0.018, y: 0.15, z: 0.6 },\r\n\t{val: 0.945, x: 0.02, y: 0.15, z: 0.6 },\r\n\t{val: 0.945, x: 0.022, y: 0.15, z: 0.6 },\r\n\t{val: 0.921, x: 0.014, y: 0.2, z: 0.6 },\r\n\t{val: 0.921, x: 0.016, y: 0.2, z: 0.6 },\r\n\t{val: 0.921, x: 0.018, y: 0.2, z: 0.6 },\r\n\t{val: 0.921, x: 0.02, y: 0.2, z: 0.6 },\r\n\t{val: 0.921, x: 0.022, y: 0.2, z: 0.6 },\r\n\t{val: 0.908, x: 0.014, y: 0.225, z: 0.6 },\r\n\t{val: 0.908, x: 0.016, y: 0.225, z: 0.6 },\r\n\t{val: 0.908, x: 0.018, y: 0.225, z: 0.6 },\r\n\t{val: 0.908, x: 0.02, y: 0.225, z: 0.6 },\r\n\t{val: 0.908, x: 0.022, y: 0.225, z: 0.6 },\r\n\t{val: 0.87, x: 0.014, y: 0.3, z: 0.6 },\r\n\t{val: 0.87, x: 0.016, y: 0.3, z: 0.6 },\r\n\t{val: 0.87, x: 0.018, y: 0.3, z: 0.6 },\r\n\t{val: 0.87, x: 0.02, y: 0.3, z: 0.6 },\r\n\t{val: 0.87, x: 0.022, y: 0.3, z: 0.6 },\r\n\t{val: 0.86, x: 0.014, y: 0.375, z: 0.6 },\r\n\t{val: 0.86, x: 0.016, y: 0.375, z: 0.6 },\r\n\t{val: 0.86, x: 0.018, y: 0.375, z: 0.6 },\r\n\t{val: 0.86, x: 0.02, y: 0.375, z: 0.6 },\r\n\t{val: 0.86, x: 0.022, y: 0.375, z: 0.6 },\r\n\t{val: 0.86, x: 0.014, y: 0.45, z: 0.6 },\r\n\t{val: 0.86, x: 0.016, y: 0.45, z: 0.6 },\r\n\t{val: 0.86, x: 0.018, y: 0.45, z: 0.6 },\r\n\t{val: 0.86, x: 0.02, y: 0.45, z: 0.6 },\r\n\t{val: 0.86, x: 0.022, y: 0.45, z: 0.6 },\r\n\t{val: 1, x: 0.014, y: 0.05, z: 0.7 },\r\n\t{val: 1, x: 0.016, y: 0.05, z: 0.7 },\r\n\t{val: 1, x: 0.018, y: 0.05, z: 0.7 },\r\n\t{val: 1, x: 0.02, y: 0.05, z: 0.7 },\r\n\t{val: 1, x: 0.022, y: 0.05, z: 0.7 },\r\n\t{val: 0.99, x: 0.014, y: 0.075, z: 0.7 },\r\n\t{val: 0.99, x: 0.016, y: 0.075, z: 0.7 },\r\n\t{val: 0.99, x: 0.018, y: 0.075, z: 0.7 },\r\n\t{val: 0.99, x: 0.02, y: 0.075, z: 0.7 },\r\n\t{val: 0.99, x: 0.022, y: 0.075, z: 0.7 },\r\n\t{val: 0.98, x: 0.014, y: 0.1, z: 0.7 },\r\n\t{val: 0.98, x: 0.016, y: 0.1, z: 0.7 },\r\n\t{val: 0.98, x: 0.018, y: 0.1, z: 0.7 },\r\n\t{val: 0.98, x: 0.02, y: 0.1, z: 0.7 },\r\n\t{val: 0.98, x: 0.022, y: 0.1, z: 0.7 },\r\n\t{val: 0.96, x: 0.014, y: 0.15, z: 0.7 },\r\n\t{val: 0.96, x: 0.016, y: 0.15, z: 0.7 },\r\n\t{val: 0.96, x: 0.018, y: 0.15, z: 0.7 },\r\n\t{val: 0.96, x: 0.02, y: 0.15, z: 0.7 },\r\n\t{val: 0.96, x: 0.022, y: 0.15, z: 0.7 },\r\n\t{val: 0.943, x: 0.014, y: 0.2, z: 0.7 },\r\n\t{val: 0.943, x: 0.016, y: 0.2, z: 0.7 },\r\n\t{val: 0.943, x: 0.018, y: 0.2, z: 0.7 },\r\n\t{val: 0.943, x: 0.02, y: 0.2, z: 0.7 },\r\n\t{val: 0.943, x: 0.022, y: 0.2, z: 0.7 },\r\n\t{val: 0.934, x: 0.014, y: 0.225, z: 0.7 },\r\n\t{val: 0.934, x: 0.016, y: 0.225, z: 0.7 },\r\n\t{val: 0.934, x: 0.018, y: 0.225, z: 0.7 },\r\n\t{val: 0.934, x: 0.02, y: 0.225, z: 0.7 },\r\n\t{val: 0.934, x: 0.022, y: 0.225, z: 0.7 },\r\n\t{val: 0.91, x: 0.014, y: 0.3, z: 0.7 },\r\n\t{val: 0.91, x: 0.016, y: 0.3, z: 0.7 },\r\n\t{val: 0.91, x: 0.018, y: 0.3, z: 0.7 },\r\n\t{val: 0.91, x: 0.02, y: 0.3, z: 0.7 },\r\n\t{val: 0.91, x: 0.022, y: 0.3, z: 0.7 },\r\n\t{val: 0.9, x: 0.014, y: 0.375, z: 0.7 },\r\n\t{val: 0.9, x: 0.016, y: 0.375, z: 0.7 },\r\n\t{val: 0.9, x: 0.018, y: 0.375, z: 0.7 },\r\n\t{val: 0.9, x: 0.02, y: 0.375, z: 0.7 },\r\n\t{val: 0.9, x: 0.022, y: 0.375, z: 0.7 },\r\n\t{val: 0.9, x: 0.014, y: 0.45, z: 0.7 },\r\n\t{val: 0.9, x: 0.016, y: 0.45, z: 0.7 },\r\n\t{val: 0.9, x: 0.018, y: 0.45, z: 0.7 },\r\n\t{val: 0.9, x: 0.02, y: 0.45, z: 0.7 },\r\n\t{val: 0.9, x: 0.022, y: 0.45, z: 0.7 },\r\n\t{val: 1, x: 0.014, y: 0.05, z: 0.8 },\r\n\t{val: 1, x: 0.016, y: 0.05, z: 0.8 },\r\n\t{val: 1, x: 0.018, y: 0.05, z: 0.8 },\r\n\t{val: 1, x: 0.02, y: 0.05, z: 0.8 },\r\n\t{val: 1, x: 0.022, y: 0.05, z: 0.8 },\r\n\t{val: 0.995, x: 0.014, y: 0.075, z: 0.8 },\r\n\t{val: 0.995, x: 0.016, y: 0.075, z: 0.8 },\r\n\t{val: 0.995, x: 0.018, y: 0.075, z: 0.8 },\r\n\t{val: 0.995, x: 0.02, y: 0.075, z: 0.8 },\r\n\t{val: 0.995, x: 0.022, y: 0.075, z: 0.8 },\r\n\t{val: 0.988, x: 0.014, y: 0.1, z: 0.8 },\r\n\t{val: 0.988, x: 0.016, y: 0.1, z: 0.8 },\r\n\t{val: 0.988, x: 0.018, y: 0.1, z: 0.8 },\r\n\t{val: 0.988, x: 0.02, y: 0.1, z: 0.8 },\r\n\t{val: 0.988, x: 0.022, y: 0.1, z: 0.8 },\r\n\t{val: 0.974, x: 0.014, y: 0.15, z: 0.8 },\r\n\t{val: 0.974, x: 0.016, y: 0.15, z: 0.8 },\r\n\t{val: 0.974, x: 0.018, y: 0.15, z: 0.8 },\r\n\t{val: 0.974, x: 0.02, y: 0.15, z: 0.8 },\r\n\t{val: 0.974, x: 0.022, y: 0.15, z: 0.8 },\r\n\t{val: 0.961, x: 0.014, y: 0.2, z: 0.8 },\r\n\t{val: 0.961, x: 0.016, y: 0.2, z: 0.8 },\r\n\t{val: 0.961, x: 0.018, y: 0.2, z: 0.8 },\r\n\t{val: 0.961, x: 0.02, y: 0.2, z: 0.8 },\r\n\t{val: 0.961, x: 0.022, y: 0.2, z: 0.8 },\r\n\t{val: 0.955, x: 0.014, y: 0.225, z: 0.8 },\r\n\t{val: 0.955, x: 0.016, y: 0.225, z: 0.8 },\r\n\t{val: 0.955, x: 0.018, y: 0.225, z: 0.8 },\r\n\t{val: 0.955, x: 0.02, y: 0.225, z: 0.8 },\r\n\t{val: 0.955, x: 0.022, y: 0.225, z: 0.8 },\r\n\t{val: 0.94, x: 0.014, y: 0.3, z: 0.8 },\r\n\t{val: 0.94, x: 0.016, y: 0.3, z: 0.8 },\r\n\t{val: 0.94, x: 0.018, y: 0.3, z: 0.8 },\r\n\t{val: 0.94, x: 0.02, y: 0.3, z: 0.8 },\r\n\t{val: 0.94, x: 0.022, y: 0.3, z: 0.8 },\r\n\t{val: 0.93, x: 0.014, y: 0.375, z: 0.8 },\r\n\t{val: 0.93, x: 0.016, y: 0.375, z: 0.8 },\r\n\t{val: 0.93, x: 0.018, y: 0.375, z: 0.8 },\r\n\t{val: 0.93, x: 0.02, y: 0.375, z: 0.8 },\r\n\t{val: 0.93, x: 0.022, y: 0.375, z: 0.8 },\r\n\t{val: 0.93, x: 0.014, y: 0.45, z: 0.8 },\r\n\t{val: 0.93, x: 0.016, y: 0.45, z: 0.8 },\r\n\t{val: 0.93, x: 0.018, y: 0.45, z: 0.8 },\r\n\t{val: 0.93, x: 0.02, y: 0.45, z: 0.8 },\r\n\t{val: 0.93, x: 0.022, y: 0.45, z: 0.8 },\r\n\t{val: 1, x: 0.014, y: 0.05, z: 0.9 },\r\n\t{val: 1, x: 0.016, y: 0.05, z: 0.9 },\r\n\t{val: 1, x: 0.018, y: 0.05, z: 0.9 },\r\n\t{val: 1, x: 0.02, y: 0.05, z: 0.9 },\r\n\t{val: 1, x: 0.022, y: 0.05, z: 0.9 },\r\n\t{val: 0.998, x: 0.014, y: 0.075, z: 0.9 },\r\n\t{val: 0.998, x: 0.016, y: 0.075, z: 0.9 },\r\n\t{val: 0.998, x: 0.018, y: 0.075, z: 0.9 },\r\n\t{val: 0.998, x: 0.02, y: 0.075, z: 0.9 },\r\n\t{val: 0.998, x: 0.022, y: 0.075, z: 0.9 },\r\n\t{val: 0.995, x: 0.014, y: 0.1, z: 0.9 },\r\n\t{val: 0.995, x: 0.016, y: 0.1, z: 0.9 },\r\n\t{val: 0.995, x: 0.018, y: 0.1, z: 0.9 },\r\n\t{val: 0.995, x: 0.02, y: 0.1, z: 0.9 },\r\n\t{val: 0.995, x: 0.022, y: 0.1, z: 0.9 },\r\n\t{val: 0.99, x: 0.014, y: 0.15, z: 0.9 },\r\n\t{val: 0.99, x: 0.016, y: 0.15, z: 0.9 },\r\n\t{val: 0.99, x: 0.018, y: 0.15, z: 0.9 },\r\n\t{val: 0.99, x: 0.02, y: 0.15, z: 0.9 },\r\n\t{val: 0.99, x: 0.022, y: 0.15, z: 0.9 },\r\n\t{val: 0.98, x: 0.014, y: 0.2, z: 0.9 },\r\n\t{val: 0.98, x: 0.016, y: 0.2, z: 0.9 },\r\n\t{val: 0.98, x: 0.018, y: 0.2, z: 0.9 },\r\n\t{val: 0.98, x: 0.02, y: 0.2, z: 0.9 },\r\n\t{val: 0.98, x: 0.022, y: 0.2, z: 0.9 },\r\n\t{val: 0.975, x: 0.014, y: 0.225, z: 0.9 },\r\n\t{val: 0.975, x: 0.016, y: 0.225, z: 0.9 },\r\n\t{val: 0.975, x: 0.018, y: 0.225, z: 0.9 },\r\n\t{val: 0.975, x: 0.02, y: 0.225, z: 0.9 },\r\n\t{val: 0.975, x: 0.022, y: 0.225, z: 0.9 },\r\n\t{val: 0.97, x: 0.014, y: 0.3, z: 0.9 },\r\n\t{val: 0.97, x: 0.016, y: 0.3, z: 0.9 },\r\n\t{val: 0.97, x: 0.018, y: 0.3, z: 0.9 },\r\n\t{val: 0.97, x: 0.02, y: 0.3, z: 0.9 },\r\n\t{val: 0.97, x: 0.022, y: 0.3, z: 0.9 },\r\n\t{val: 0.97, x: 0.014, y: 0.375, z: 0.9 },\r\n\t{val: 0.97, x: 0.016, y: 0.375, z: 0.9 },\r\n\t{val: 0.97, x: 0.018, y: 0.375, z: 0.9 },\r\n\t{val: 0.97, x: 0.02, y: 0.375, z: 0.9 },\r\n\t{val: 0.97, x: 0.022, y: 0.375, z: 0.9 },\r\n\t{val: 0.97, x: 0.014, y: 0.45, z: 0.9 },\r\n\t{val: 0.97, x: 0.016, y: 0.45, z: 0.9 },\r\n\t{val: 0.97, x: 0.018, y: 0.45, z: 0.9 },\r\n\t{val: 0.97, x: 0.02, y: 0.45, z: 0.9 },\r\n\t{val: 0.97, x: 0.022, y: 0.45, z: 0.9 },\r\n\t{val: 1, x: 0.014, y: 0.05, z: 1 },\r\n\t{val: 1, x: 0.016, y: 0.05, z: 1 },\r\n\t{val: 1, x: 0.018, y: 0.05, z: 1 },\r\n\t{val: 1, x: 0.02, y: 0.05, z: 1 },\r\n\t{val: 1, x: 0.022, y: 0.05, z: 1 },\r\n\t{val: 1, x: 0.014, y: 0.075, z: 1 },\r\n\t{val: 1, x: 0.016, y: 0.075, z: 1 },\r\n\t{val: 1, x: 0.018, y: 0.075, z: 1 },\r\n\t{val: 1, x: 0.02, y: 0.075, z: 1 },\r\n\t{val: 1, x: 0.022, y: 0.075, z: 1 },\r\n\t{val: 1, x: 0.014, y: 0.1, z: 1 },\r\n\t{val: 1, x: 0.016, y: 0.1, z: 1 },\r\n\t{val: 1, x: 0.018, y: 0.1, z: 1 },\r\n\t{val: 1, x: 0.02, y: 0.1, z: 1 },\r\n\t{val: 1, x: 0.022, y: 0.1, z: 1 },\r\n\t{val: 1, x: 0.014, y: 0.15, z: 1 },\r\n\t{val: 1, x: 0.016, y: 0.15, z: 1 },\r\n\t{val: 1, x: 0.018, y: 0.15, z: 1 },\r\n\t{val: 1, x: 0.02, y: 0.15, z: 1 },\r\n\t{val: 1, x: 0.022, y: 0.15, z: 1 },\r\n\t{val: 1, x: 0.014, y: 0.2, z: 1 },\r\n\t{val: 1, x: 0.016, y: 0.2, z: 1 },\r\n\t{val: 1, x: 0.018, y: 0.2, z: 1 },\r\n\t{val: 1, x: 0.02, y: 0.2, z: 1 },\r\n\t{val: 1, x: 0.022, y: 0.2, z: 1 },\r\n\t{val: 1, x: 0.014, y: 0.225, z: 1 },\r\n\t{val: 1, x: 0.016, y: 0.225, z: 1 },\r\n\t{val: 1, x: 0.018, y: 0.225, z: 1 },\r\n\t{val: 1, x: 0.02, y: 0.225, z: 1 },\r\n\t{val: 1, x: 0.022, y: 0.225, z: 1 },\r\n\t{val: 1, x: 0.014, y: 0.3, z: 1 },\r\n\t{val: 1, x: 0.016, y: 0.3, z: 1 },\r\n\t{val: 1, x: 0.018, y: 0.3, z: 1 },\r\n\t{val: 1, x: 0.02, y: 0.3, z: 1 },\r\n\t{val: 1, x: 0.022, y: 0.3, z: 1 },\r\n\t{val: 1, x: 0.014, y: 0.375, z: 1 },\r\n\t{val: 1, x: 0.016, y: 0.375, z: 1 },\r\n\t{val: 1, x: 0.018, y: 0.375, z: 1 },\r\n\t{val: 1, x: 0.02, y: 0.375, z: 1 },\r\n\t{val: 1, x: 0.022, y: 0.375, z: 1 },\r\n\t{val: 1, x: 0.014, y: 0.45, z: 1 },\r\n\t{val: 1, x: 0.016, y: 0.45, z: 1 },\r\n\t{val: 1, x: 0.018, y: 0.45, z: 1 },\r\n\t{val: 1, x: 0.02, y: 0.45, z: 1 },\r\n\t{val: 1, x: 0.022, y: 0.45, z: 1 },\r\n\t{val: 1, x: 0.014, y: 0.05, z: 10000 },\r\n\t{val: 1, x: 0.016, y: 0.05, z: 10000 },\r\n\t{val: 1, x: 0.018, y: 0.05, z: 10000 },\r\n\t{val: 1, x: 0.02, y: 0.05, z: 10000 },\r\n\t{val: 1, x: 0.022, y: 0.05, z: 10000 },\r\n\t{val: 1.01, x: 0.014, y: 0.075, z: 10000 },\r\n\t{val: 1.01, x: 0.016, y: 0.075, z: 10000 },\r\n\t{val: 1.01, x: 0.018, y: 0.075, z: 10000 },\r\n\t{val: 1.01, x: 0.02, y: 0.075, z: 10000 },\r\n\t{val: 1.01, x: 0.022, y: 0.075, z: 10000 },\r\n\t{val: 1.02, x: 0.014, y: 0.1, z: 10000 },\r\n\t{val: 1.02, x: 0.016, y: 0.1, z: 10000 },\r\n\t{val: 1.02, x: 0.018, y: 0.1, z: 10000 },\r\n\t{val: 1.02, x: 0.02, y: 0.1, z: 10000 },\r\n\t{val: 1.02, x: 0.022, y: 0.1, z: 10000 },\r\n\t{val: 1.04, x: 0.014, y: 0.15, z: 10000 },\r\n\t{val: 1.04, x: 0.016, y: 0.15, z: 10000 },\r\n\t{val: 1.04, x: 0.018, y: 0.15, z: 10000 },\r\n\t{val: 1.04, x: 0.02, y: 0.15, z: 10000 },\r\n\t{val: 1.04, x: 0.022, y: 0.15, z: 10000 },\r\n\t{val: 1.06, x: 0.014, y: 0.2, z: 10000 },\r\n\t{val: 1.06, x: 0.016, y: 0.2, z: 10000 },\r\n\t{val: 1.06, x: 0.018, y: 0.2, z: 10000 },\r\n\t{val: 1.06, x: 0.02, y: 0.2, z: 10000 },\r\n\t{val: 1.06, x: 0.022, y: 0.2, z: 10000 },\r\n\t{val: 1.07, x: 0.014, y: 0.225, z: 10000 },\r\n\t{val: 1.07, x: 0.016, y: 0.225, z: 10000 },\r\n\t{val: 1.07, x: 0.018, y: 0.225, z: 10000 },\r\n\t{val: 1.07, x: 0.02, y: 0.225, z: 10000 },\r\n\t{val: 1.07, x: 0.022, y: 0.225, z: 10000 },\r\n\t{val: 1.09, x: 0.014, y: 0.3, z: 10000 },\r\n\t{val: 1.09, x: 0.016, y: 0.3, z: 10000 },\r\n\t{val: 1.09, x: 0.018, y: 0.3, z: 10000 },\r\n\t{val: 1.09, x: 0.02, y: 0.3, z: 10000 },\r\n\t{val: 1.09, x: 0.022, y: 0.3, z: 10000 },\r\n\t{val: 1.1, x: 0.014, y: 0.375, z: 10000 },\r\n\t{val: 1.1, x: 0.016, y: 0.375, z: 10000 },\r\n\t{val: 1.1, x: 0.018, y: 0.375, z: 10000 },\r\n\t{val: 1.1, x: 0.02, y: 0.375, z: 10000 },\r\n\t{val: 1.1, x: 0.022, y: 0.375, z: 10000 },\r\n\t{val: 1.1, x: 0.014, y: 0.45, z: 10000 },\r\n\t{val: 1.1, x: 0.016, y: 0.45, z: 10000 },\r\n\t{val: 1.1, x: 0.018, y: 0.45, z: 10000 },\r\n\t{val: 1.1, x: 0.02, y: 0.45, z: 10000 },\r\n\t{val: 1.1, x: 0.022, y: 0.45, z: 10000 },\r\n\t],\r\n\ttableA9 : [\r\n\t\t{val: 1, x: 0.05},\r\n\t\t{val: 0.99, x: 0.075},\r\n\t\t{val: 0.98, x: 0.10},\r\n\t\t{val: 0.95, x: 0.15},\r\n\t\t{val: 0.92, x: 0.2},\r\n\t\t{val: 0.9, x: 0.225},\r\n\t\t{val: 0.82, x: 0.3},\r\n\t\t{val: 0.72, x: 0.375},\r\n\t\t{val: 0.6, x: 0.45},\r\n\t],\t\r\n\r\n}\r\n\r\n\r\nexport function polynom(terms, x){\r\n\tlet result = 0;\r\n\tfor (let i = terms.length - 1; i >= 0; i--) {\r\n\t\tif (i === 0) {\r\n\t\t\tresult += terms[i];\r\n\t\t\t} else {\r\n\t\t\tresult += terms[i] * Math.pow(x, i);\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\n\r\nexport function drawRuler(scales,values) {\r\n\t//console.log(scales,values)\r\n\tvar ConnectionLine = [];\r\n\tvar points = []\r\n\tvar pos_y, pos_x\r\n\tvar scale, val, j,k,m,n\r\n\t// calculate for each object in scales a point on screen\r\n\t// if value = 'auto' then point y as mean of y following points. This is needed, as then scales are spreaded in y direction\r\n\tn = scales.length\r\n\tj=0\r\n\tfor (var i=0; i< n; i++){\r\n\t\tscale = JSON.parse(JSON.stringify(scales[i]))\r\n\t\tval = values[i]\r\n\t\tif ( val === 'auto' ){ m = i + 1 }\r\n\t\tswitch (String(scale.xType)) {\r\n\t\t\tcase \"inverse\" :\r\n\t\t\t\tpos_x = scale.m  * ( 1 /  val ) + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'linear' :\r\n\t\t\t\tpos_x = scale.m  * val + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"lookup\" :\r\n\t\t\t\tpos_x = tableLookup( val , scale.table , 'x' )\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"constant\" :\r\n\t\t\t\tpos_x = scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"inversePower2\" :\r\n\t\t\t\tpos_x = scale.m  * ( 1 /  Math.pow(val,2) ) + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"logarithmic\" :\r\n\t\t\t\tpos_x = scale.m * Math.log10(val) + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'exponent' :\r\n\t\t\t\tpos_x = scale.m * Math.pow( val , scale.n)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'polynom' :\r\n\t\t\t\tpos_x = polynom(scale.m, val)\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t}\r\n\t\tpoints[j] = pos_x\r\n\t\tj++\r\n\t\tswitch (String(scale.type)) {\r\n\t\t\tcase \"logarithmic\" :\r\n\t\t\t\tpos_y = scale.p * Math.log10( val ) + scale.q \r\n\t\t\t\tbreak;\r\n\t\t\tcase \"linear\" :\r\n\t\t\t\tpos_y = scale.p * val + scale.q \r\n\t\t\t\tbreak;\r\n\t\t\tcase \"lookup\" :\r\n\t\t\t\tpos_y = tableLookup( val , scale.table , 'y' )\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'exponent' :\r\n\t\t\t\tpos_y = scale.p * Math.pow ( val , scale.q )\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'polynom' :\r\n\t\t\t\tpos_y = polynom(scale.p, val)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'sqrt' :\r\n\t\t\t\tpos_y = scale.p * Math.pow ( val , 0.5 ) + scale.q\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'quadratic' :\r\n\t\t\t\tpos_y = scale.p * Math.pow ( val , 2 ) + scale.q\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'qubic' :\r\n\t\t\t\tpos_y = scale.p * Math.pow ( val , 3 ) + scale.q\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.type)\r\n\t\t}\r\n\t\tpoints[j] = pos_y\r\n\t\tj++\r\n\t}\r\n\t\r\n\tj=0\r\n\tfor ( i=0; i< n; i++){\r\n\t\tscale = JSON.parse(JSON.stringify(scales[i]))\r\n\t\tval = values[i]\r\n\t\tif( val === 'auto' ){\r\n\t\t\tpoints[j] =  scale.n\r\n\t\t\tj++\r\n\t\t\tpos_y = 0\r\n\t\t\tfor ( k = m ; k < n ; k++){\r\n\t\t\t\tpos_y = pos_y + points[2 * k + 1]\r\n\t\t\t}\r\n\t\t\tpoints[j] = pos_y / ( n - m )\r\n\t\t\tj++\r\n\t\t\t} else {\r\n\t\t\tj = j + 2\r\n\t\t}\r\n\t}\r\n\t\r\n\tpos_x = points[0]\r\n\tpos_y = points[1]\r\n\t\r\n\tn = points.length\r\n\t\r\n\tfor ( i=0; i<n; i = i + 2){\r\n\t\tpoints[i] = points[i] - pos_x\r\n\t\t}\r\n\tfor ( i=1; i<n; i = i + 2){\r\n\t\tpoints[i] = points[i] - pos_y\r\n\t\t}\r\n\r\n\r\n  ConnectionLine = {\r\n    x: pos_x,\r\n    y: pos_y,\r\n    points: points,\r\n    stroke: \"red\",\r\n    strokeWidth: stat.userSettings.strokeWidth * window.innerWidth * 2,\r\n    tension: 0\r\n  };\r\n  \r\n  return ( [ConnectionLine] ); // returns the values of connection line, where the line goes through!\r\n\r\n}\r\n\r\nexport function moveScale(scale,x,y){\r\n\tvar dx,dy\r\n\tif ( typeof(x) === 'number' ){\tdx = x } else { dx = 0 }\r\n\tif ( typeof(y) === 'number' ){\tdy = y } else { dy = 0 }\r\n\t\r\n\tif (typeof(scale.q) === 'number' ){scale.q = scale.q + dy * window.innerHeight}\r\n\tif (typeof(scale.n) === 'number' ){scale.n = scale.n + dx * window.innerWidth}\r\n\tif (typeof(scale.table) === 'object' ){\r\n\t\t//console.log(scale.table)\r\n\t\tvar length = Object.keys(scale.table).length\r\n\t\tfor (var i = 0; i < length; i++){\r\n\t\t\tscale.table[i].x = scale.table[i].x + dx * window.innerWidth\r\n\t\t\tscale.table[i].y = scale.table[i].y + dy * window.innerHeight\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport function points2intersection(points){\r\n\t//points is an array of x and y coordinates [{x: , y: },{},...]\r\n\t//the function calculate lines from points 1,2 and 3,4 and returns intersection of these two lines.\r\n\tvar m = [], t = [], x, y\r\n\t//console.log(points)\r\n\r\n\tif ( points[0].x !== points[1].x && points[2].x !== points[3].x){\r\n\t\tm[0] = ( points[1].y - points[0].y )/(points[1].x - points[0].x)\r\n\t\tm[1] = ( points[3].y - points[2].y )/(points[3].x - points[2].x)\r\n\t\tt[0] = points[0].y - ( points[1].y - points[0].y )/(points[1].x - points[0].x) * points[0].x\r\n\t\tt[1] = points[2].y - ( points[3].y - points[2].y )/(points[3].x - points[2].x) * points[2].x\r\n\t\tx = ( t[1] - t[0] )/( m[0] - m[1] )\r\n\t\ty = m[0] * x + t[0]\t\t\r\n\t}\r\n\t\r\n\tif ( points[0].x !== points[1].x && points[2].x === points[3].x){\r\n\t\tx = points[2].x\r\n\t\tm[0] = ( points[1].y - points[0].y )/(points[1].x - points[0].x)\r\n\t\tt[0] = points[0].y - ( points[1].y - points[0].y )/(points[1].x - points[0].x) * points[0].x\r\n\t\ty = m[0] * x + t[0]\r\n\t}\r\n\r\n\tif ( points[0].x === points[1].x && points[2].x !== points[3].x){\r\n\t\tconsole.log('WARNING! no math until now');\r\n\t}\r\n\t\r\n\t//console.log(m,t,x,y)\r\n\treturn { x:x , y:y }\r\n\t}\r\n\r\nexport function value2pos(scale, val){\r\n\t// takes a object and value as parameter.\r\n\t// returns according y-coordinate as pct. of screen\r\n\tvar pos_x, pos_y\r\n/*\tswitch (String(scaleProps.type)){\r\n\t\tcase 'linear':\r\n\t\t\ty=scaleProps.p * value + scaleProps.q\r\n\t\t\tbreak;\r\n\t\tcase 'logarithmic':\r\n\t\t\ty=scaleProps.p * Math.log10(value) + scaleProps.q \r\n\t\t\tbreak;\r\n\t\tcase 'sqrt':\r\n\t\t\ty=scaleProps.p * Math.pow(value, 0.5) + scaleProps.q \r\n\t\t\tbreak;\r\n\t\tcase 'quadratic':\r\n\t\t\ty=scaleProps.p * Math.pow(value, 2) + scaleProps.q \r\n\t\t\tbreak;\r\n\t\tcase 'qubic':\r\n\t\t\ty=scaleProps.p * Math.pow(value, 3) + scaleProps.q \r\n\t\t\tbreak;\r\n\t\tdefault :\r\n\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scaleProps.type)\t\t\r\n\t\t\t*/\r\n\t\t\t\r\n\t\tswitch (String(scale.xType)) {\r\n\t\t\tcase \"inverse\" :\r\n\t\t\t\tpos_x = scale.m  * ( 1 /  val ) + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'linear' :\r\n\t\t\t\tpos_x = scale.m  * val + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"lookup\" :\r\n\t\t\t\tpos_x = tableLookup( val , scale.table , 'x' )\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"constant\" :\r\n\t\t\t\tpos_x = scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"inversePower2\" :\r\n\t\t\t\tpos_x = scale.m  * ( 1 /  Math.pow(val,2) ) + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"logarithmic\" :\r\n\t\t\t\tpos_x = scale.m * Math.log10(val) + scale.n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'exponent' :\r\n\t\t\t\tpos_x = scale.m * Math.pow( val , scale.n)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'polynom' :\r\n\t\t\t\tpos_x = polynom(scale.m, val)\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.xType)\r\n\t\t}\r\n\r\n\t\tswitch (String(scale.type)) {\r\n\t\t\tcase \"logarithmic\" :\r\n\t\t\t\tpos_y = scale.p * Math.log10( val ) + scale.q \r\n\t\t\t\tbreak;\r\n\t\t\tcase \"linear\" :\r\n\t\t\t\tpos_y = scale.p * val + scale.q \r\n\t\t\t\tbreak;\r\n\t\t\tcase \"lookup\" :\r\n\t\t\t\tpos_y = tableLookup( val , scale.table , 'y' )\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'exponent' :\r\n\t\t\t\tpos_y = scale.p * Math.pow ( val , scale.q )\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'polynom' :\r\n\t\t\t\tpos_y = polynom(scale.p, val)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'sqrt' :\r\n\t\t\t\tpos_y = scale.p * Math.pow ( val , 0.5 ) + scale.q\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'quadratic' :\r\n\t\t\t\tpos_y = scale.p * Math.pow ( val , 2 ) + scale.q\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'qubic' :\r\n\t\t\t\tpos_y = scale.p * Math.pow ( val , 3 ) + scale.q\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scale.type)\r\n\t\t}\r\n\t\t\t\r\n\r\n\treturn { x:pos_x, y:pos_y }\r\n\t}\r\n\r\nexport function pos2value(scaleProps, position){\r\n\t//if scale is manual and p/q not existing, then calculate p/q first\r\n\t// if scale is manual, no curved scale possible\r\n\r\n\r\n\tvar val\r\n\r\n\tif (scaleProps.p !== 0 ){\r\n\t\tswitch (String(scaleProps.type)){\r\n\t\t\tcase 'linear':\r\n\t\t\t\tval = ( position - scaleProps.q ) / scaleProps.p\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'logarithmic':\r\n\t\t\t\tval = Math.pow(10,(position - scaleProps.q ) / scaleProps.p )\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'sqrt':\r\n\t\t\t\tval = Math.pow( (position / scaleProps.p) - (scaleProps.q / scaleProps.p), 2 )\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'quadratic':\r\n\t\t\t\tval = Math.pow( (position / scaleProps.p) - (scaleProps.q / scaleProps.p), 0.5 )\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'qubic':\r\n\t\t\t\tval = Math.pow( (position / scaleProps.p) - (scaleProps.q / scaleProps.p), (1/3) )\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scaleProps.type)\t\t\r\n\t\t\t}\r\n\t\t}\r\n\tif ( scaleProps.p === 0 ){\r\n\t\tconsole.log('WARNING: function pos2val is not defined for horizontal scales!')\t\t\t\t\r\n\t}\r\n\t\treturn val\r\n\t}\r\n\t\r\nexport function minMax2parameter(scaleProps, min, max){\r\n\tvar y_min, y_max, x_min, x_max, p, q, m, n\r\n\t\r\n\tif (scaleProps.reverse === false){\r\n\t\t\ty_min=scaleProps.positionY * window.innerHeight\r\n\t\t\ty_max=(scaleProps.positionY + scaleProps.height) * window.innerHeight\r\n\t\t\tx_min=scaleProps.positionX * window.innerWidth\r\n\t\t\tx_max=(scaleProps.positionX + scaleProps.width) * window.innerWidth\r\n\t\t}\r\n\tif (scaleProps.reverse === true){\r\n\t\t\ty_min=(scaleProps.positionY + scaleProps.height) * window.innerHeight\r\n\t\t\ty_max=scaleProps.positionY * window.innerHeight\r\n\t\t\tx_min=(scaleProps.positionX + scaleProps.width) * window.innerWidth\r\n\t\t\tx_max=scaleProps.positionX * window.innerWidth\r\n\t\t}\r\n\r\n\tswitch (String(scaleProps.type)){\r\n\t\tcase 'linear':\r\n\t\t\tp=(y_min - y_max) / (min - max)\r\n\t\t\tq=y_max - p * max\t\t\r\n\t\t\tbreak;\r\n\t\tcase 'logarithmic':\r\n\t\t\tp=(y_min - y_max) / (Math.log10(min) - Math.log10(max))\r\n\t\t\tq=y_max - p * Math.log10(max)\r\n\t\t\tbreak;\r\n\t\tcase 'quadratic':\r\n\t\t\tp=(y_min - y_max) / (Math.pow(min,2) - Math.pow(max,2))\r\n\t\t\tq=y_max - p * Math.pow(max,2);\r\n\t\t\tbreak;\r\n\t\tcase 'qubic':\r\n\t\t\tp=(y_min - y_max) / (Math.pow(min,3) - Math.pow(max,3))\r\n\t\t\tq=y_max - p * Math.pow(max,3);\r\n\t\t\tbreak;\r\n\t\tcase 'sqrt':\r\n\t\t\tp=(y_min - y_max) / (Math.pow(min,0.5) - Math.pow(max,0.5))\r\n\t\t\tq=y_max - p * Math.pow(max,0.5);\r\n\t\t\tbreak;\r\n\t\tdefault :\r\n\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scaleProps.type)\t\t\r\n\t}\r\n\t\r\n\t\tswitch (String(scaleProps.xType)){\r\n\t\tcase 'const':\r\n\t\t\tm=0\r\n\t\t\tn=x_min\r\n\t\t\tbreak;\r\n\t\tcase 'linear':\r\n\t\t\tm=(x_min - x_max) / (min - max)\r\n\t\t\tn=x_max - m * max\t\t\r\n\t\t\tbreak;\r\n\t\tcase 'logarithmic':\r\n\t\t\tm=(x_min - x_max) / (Math.log10(min) - Math.log10(max))\r\n\t\t\tn=x_max - m * Math.log10(max)\r\n\t\t\tbreak;\r\n\t\tcase 'quadratic':\r\n\t\t\tm=(x_min - x_max) / (Math.pow(min,2) - Math.pow(max,2))\r\n\t\t\tn=x_max - m * Math.pow(max,2);\r\n\t\t\tbreak;\r\n\t\tcase 'qubic':\r\n\t\t\tm=(x_min - x_max) / (Math.pow(min,3) - Math.pow(max,3))\r\n\t\t\tn=x_max - m * Math.pow(max,3);\r\n\t\t\tbreak;\r\n\t\tcase 'sqrt':\r\n\t\t\tm=(x_min - x_max) / (Math.pow(min,0.5) - Math.pow(max,0.5))\r\n\t\t\tn=x_max - m * Math.pow(max,0.5);\r\n\t\t\tbreak;\r\n\t\tdefault :\r\n\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scaleProps.xType)\t\t\r\n\t}\r\n\r\n\t\treturn { p : p, q : q, m : m, n : n }\r\n\t}\r\n\r\nexport function parameter2minMax(scaleProps, p, q){\r\n\t\r\n\tvar y_min, y_max, min, max\r\n\t\r\n\tif (scaleProps.reverse === false){\r\n\t\t\ty_min=scaleProps.positionY * window.innerHeight\r\n\t\t\ty_max=(scaleProps.positionY + scaleProps.height) * window.innerHeight\r\n\t\t}\r\n\tif (scaleProps.reverse === true){\r\n\t\ty_min=(scaleProps.positionY + scaleProps.height) * window.innerHeight\r\n\t\ty_max=scaleProps.positionY * window.innerHeight\r\n\t\t}\r\n\r\n\r\n\tswitch (String(scaleProps.type)){\r\n\t\tcase 'logarithmic':\r\n\t\t\tmin=Math.pow(10,( y_min - q) / p)\r\n\t\t\tmax=Math.pow(10,( y_max - q) / p)\r\n\t\t\tbreak;\r\n\t\tdefault :\r\n\t\t\tconsole.log('WARNING: This type not defined. Actual type: ' + scaleProps.type)\t\t\r\n\t}\r\n\t\r\n\treturn { min: min , max : max }\r\n\t}\r\n\r\nfunction points2parameterErrorCheck(type, points){\r\n\t//console.log(points)\r\n\tvar i , p, q\r\n\tvar n=Object.keys(points).length\r\n\r\n\tswitch ( String(type)) {\r\n\t\tcase \"constant\" :\r\n\t\t\tp = 0\r\n\t\t\tq = points[n-1].Sy / n\r\n\t\tbreak;\r\n\r\n\t\tcase \"exponent\" :\r\n\t\t\tq=(n * points[n-1].Syfx - points[n-1].Sy * points[n-1].Sfx) /  ( n * points[n-1].Sfx2 - Math.pow(points[n-1].Sfx,2))\r\n\t\t\tp=(points[n-1].Sy - q * points[n-1].Sfx ) / n\r\n\t\t\tp = Math.exp(p)\r\n\t\tbreak;\r\n\r\n\t\tdefault :\r\n\t\t\tp=(n * points[n-1].Syfx - points[n-1].Sy * points[n-1].Sfx) /  ( n * points[n-1].Sfx2 - Math.pow(points[n-1].Sfx,2))\r\n\t\t\tq=(points[n-1].Sy - p * points[n-1].Sfx ) / n\r\n\t}\r\n\t//calculate mean value\r\n\t//console.log(p,q)\r\n\tpoints.mean=0\r\n\tfor ( i=0; i<n; i++ ){\r\n\t\tpoints.mean = points.mean + points[i].y\r\n\t}\r\n\tpoints.mean = points.mean / n\r\n\r\n\r\n\tvar maxErr=0\r\n\tfor ( i=0; i<n; i++ ){\r\n\t\tif (type === 'inverse'){ points[i].yInterpol = p * ( 1 / points[i].val) + q }\r\n\t\tif (type === 'logarithmic'){ points[i].yInterpol = p * Math.log10( points[i].val) + q }\r\n\t\tif (type === 'arctan'){ points[i].yInterpol = p * Math.atan( points[i].val) + q }\r\n\t\tif (type === 'inversePower2'){ points[i].yInterpol = p * ( -1 / Math.pow( points[i].val, 2 )) + q }\r\n\t\tif (type === 'inversePower05'){ points[i].yInterpol = p * ( -1 / Math.pow( points[i].val, 0.5 )) + q }\r\n\t\tif (type === 'linear'){\tpoints[i].yInterpol = p * ( points[i].val) + q }\r\n\t\tif (type === 'constant'){ points[i].yInterpol =  q }\r\n\t\tif (type === 'exponent'){points[i].yInterpol = p * Math.pow( points[i].val , q) }\r\n\t\t// sr = square residual, st = square total, ssr = sum of square residual, sst = sum of square total\r\n\t\tpoints[i].sr = Math.pow(points[i].y - points[i].yInterpol , 2)\r\n\t\tpoints[i].st = Math.pow(points[i].y - points.mean , 2)\r\n\t\t\r\n\t\tif ( i > 0 ){\r\n\t\t\tpoints[i].ssr = points[i-1].ssr + points[i].sr\r\n\t\t\tpoints[i].sst = points[i-1].sst + points[i].st\r\n\t\t} else {\r\n\t\t\tpoints[i].ssr = points[i].sr\r\n\t\t\tpoints[i].sst = points[i].st\r\n\t\t}\r\n\t\t\r\n\t\tif ( i === 0 && Math.abs(points[i].err) > 0 ){ maxErr = points[i].err }\r\n\t\tif ( i > 0 && Math.abs(points[i].err) > maxErr.err) { maxErr = points[i].err }\r\n\t}\r\n\t//console.log(points)\r\n\tpoints.r2 = 1 - ( points[n-1].ssr / points[n-1].sst )\r\n/*\r\n\tif ( points.r2 < 0.9 ){\r\n\t\tconsole.log('WARNING! coefficient of determination is: ' + niceRounding( points.r2 * 100) + ' %')\r\n\t}\t\r\n*/\t\r\n\treturn points.r2\r\n}\r\n\r\nfunction myDelete(array,key){\r\n\tvar n, i\r\n\t//this function deletes the object with name \"key\" from array and closes the gap\r\n\t\r\n\tn=Object.keys(array).length\r\n\t\r\n\t//console.log(JSON.stringify(array,null,2))\r\n\tfor ( i=0; i < n ; i++){\r\n\t\tif ( i >= key ){\r\n\t\t\t//console.log(i)\r\n\t\t\tarray[i] = array[i+1]\r\n\t\t}\r\n\t}\r\n\tdelete array[n]\r\n\t//console.log(JSON.stringify(array,null,2))\r\n}\r\n\r\nexport function points2parameter(input){\r\n\t//points should be an array of minimum 2 points. If more points are given, the Errorsum is also returned!\r\n\t//for testing, a manual array of points is given.\r\n\t// points should be an array of objects: [{ y: , val: },{},...]\r\n\t// for info about math: search \"Least Squares Fitting\"  --> \"https://mathworld.wolfram.com/LeastSquaresFittingLogarithmic.html\"\r\n\t// type is one of: inverse, logarithmic, arctan, inversePower2, linear\r\n\t// filter is the amount of points to filter out.\r\n\t//console.log(type, points, filter)\r\n\tvar type = input.type\r\n\tvar points = input.table\r\n\tvar degree = input.degree\r\n\r\n\r\n\tvar p,q, r2, n, i,j\r\n\tvar pList = []\r\n\tvar poly\r\n\r\n\t\r\n\tif (type === 'polynom' ){\r\n\t\tvar length=Object.keys(points).length\r\n\t\tfor (i = 0; i < length ; i++){\r\n\t\t\tpList[i] = {x: points[i].val, y:points[i].y }\r\n\t\t}\t\t\r\n\t\t//console.log(pList,degree)\r\n\t\tpoly = PolynomialRegression.read(pList, degree);\r\n\t}\r\n\r\n\r\n\tif (type === 'constant' ){\r\n\t\tn=Object.keys(points).length\r\n\t\tfor ( i=0; i<n; i++){\r\n\t\t\tif ( i > 0 ){\r\n\t\t\t\tpoints[i].Sy = points[i-1].Sy + points[i].y\r\n\t\t\t\t}\telse {\r\n\t\t\t\tpoints[i].Sy = points[i].y\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif (type === 'inverse'){\r\n\t\tn=Object.keys(points).length\r\n\t\tfor ( i=0; i<n; i++){\r\n\t\t\tpoints[i].yfx = points[i].y * 1 / points[i].val\r\n\t\t\tpoints[i].fx = 1 / points[i].val\r\n\t\t\tpoints[i].fx2 = ( 1 / points[i].val ) * ( 1 / points[i].val )\r\n\t\t\tif ( i > 0 ){\r\n\t\t\t\tpoints[i].Syfx = points[i-1].Syfx + points[i].yfx\r\n\t\t\t\tpoints[i].Sy = points[i-1].Sy + points[i].y\r\n\t\t\t\tpoints[i].Sfx = points[i-1].Sfx + points[i].fx\r\n\t\t\t\tpoints[i].Sfx2 = points[i-1].Sfx2 + points[i].fx2\r\n\t\t\t\t} else {\r\n\t\t\t\tpoints[i].Syfx = points[i].yfx\r\n\t\t\t\tpoints[i].Sy = points[i].y\r\n\t\t\t\tpoints[i].Sfx = points[i].fx\r\n\t\t\t\tpoints[i].Sfx2 = points[i].fx2\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\tif (type === 'logarithmic'){\r\n\t\tn=Object.keys(points).length\r\n\t\t//console.log(JSON.stringify(points,null,2))\r\n\t\tj=0\r\n\t\tfor ( i=0; i<n; i++){\r\n\t\t\tif ( points[i].val > 0 ){\r\n\t\t\t\t//console.log(points[i].val)\r\n\t\t\t\tpoints[j].y = points[i].y\r\n\t\t\t\tpoints[j].val = points[i].val\r\n\t\t\t\tj++\r\n\t\t\t} \r\n\t\t}\r\n\r\n\t\tfor ( i=0; i<n; i++){\r\n\t\t\tpoints[i].yfx = points[i].y * Math.log10(points[i].val)\r\n\t\t\tpoints[i].fx = Math.log10(points[i].val)\r\n\t\t\tpoints[i].fx2 = Math.log10(points[i].val) * Math.log10(points[i].val)\r\n\t\t\tif ( i > 0 ){\r\n\t\t\t\tpoints[i].Syfx = points[i-1].Syfx + points[i].yfx\r\n\t\t\t\tpoints[i].Sy = points[i-1].Sy + points[i].y\r\n\t\t\t\tpoints[i].Sfx = points[i-1].Sfx + points[i].fx\r\n\t\t\t\tpoints[i].Sfx2 = points[i-1].Sfx2 + points[i].fx2\r\n\t\t\t\t}\telse {\r\n\t\t\t\tpoints[i].Syfx = points[i].yfx\r\n\t\t\t\tpoints[i].Sy = points[i].y\r\n\t\t\t\tpoints[i].Sfx = points[i].fx\r\n\t\t\t\tpoints[i].Sfx2 = points[i].fx2\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t//console.log(points)\r\n\t}\r\n\r\n\tif (type === 'arctan'){\r\n\t\tn=Object.keys(points).length\r\n\t\tfor ( i=0; i<n; i++){\r\n\t\t\tpoints[i].yfx = points[i].y * Math.atan(points[i].val)\r\n\t\t\tpoints[i].fx = Math.atan(points[i].val)\r\n\t\t\tpoints[i].fx2 = Math.atan(points[i].val) * Math.atan(points[i].val)\r\n\t\t\tif ( i > 0 ){\r\n\t\t\t\tpoints[i].Syfx = points[i-1].Syfx + points[i].yfx\r\n\t\t\t\tpoints[i].Sy = points[i-1].Sy + points[i].y\r\n\t\t\t\tpoints[i].Sfx = points[i-1].Sfx + points[i].fx\r\n\t\t\t\tpoints[i].Sfx2 = points[i-1].Sfx2 + points[i].fx2\r\n\t\t\t\t}\telse {\r\n\t\t\t\tpoints[i].Syfx = points[i].yfx\r\n\t\t\t\tpoints[i].Sy = points[i].y\r\n\t\t\t\tpoints[i].Sfx = points[i].fx\r\n\t\t\t\tpoints[i].Sfx2 = points[i].fx2\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\tif (type === 'inversePower2'){\r\n\t\tn=Object.keys(points).length\r\n\t\tfor ( i=0; i<n; i++){\r\n\t\t\tpoints[i].yfx = points[i].y * ( 1 / Math.pow(points[i].val , 2 ) )\r\n\t\t\tpoints[i].fx = ( 1 / Math.pow(points[i].val , 2 ) )\r\n\t\t\tpoints[i].fx2 = ( 1 / Math.pow(points[i].val , 2 ) ) * ( 1 / Math.pow(points[i].val , 2 ) )\r\n\t\t\tif ( i > 0 ){\r\n\t\t\t\tpoints[i].Syfx = points[i-1].Syfx + points[i].yfx\r\n\t\t\t\tpoints[i].Sy = points[i-1].Sy + points[i].y\r\n\t\t\t\tpoints[i].Sfx = points[i-1].Sfx + points[i].fx\r\n\t\t\t\tpoints[i].Sfx2 = points[i-1].Sfx2 + points[i].fx2\r\n\t\t\t\t}\telse {\r\n\t\t\t\tpoints[i].Syfx = points[i].yfx\r\n\t\t\t\tpoints[i].Sy = points[i].y\r\n\t\t\t\tpoints[i].Sfx = points[i].fx\r\n\t\t\t\tpoints[i].Sfx2 = points[i].fx2\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\tif (type === 'polynom2' ){\r\n\t\t\r\n\t}\r\n\r\n\r\n\tif (type === 'exponent' ){\r\n\t\t// add here type power  y = p * val^q\r\n\t\t// first: logarithmic conversion:   ln(y) = ln(p) + q * ln(val)\r\n\t\t// points[i].y --> Math.log(points[i].y)\r\n\t\t// points[i].val --> Math.log(points[i].val)\r\n\t\t// then linear regression\r\n\t\t// then convert p back\r\n\t\tn=Object.keys(points).length\r\n\t\t\r\n\t\tfor ( i=0; i<n; i++){\r\n\t\t\tpoints[i].lnVal = Math.log(points[i].val)\r\n\t\t\tpoints[i].lnY = Math.log(points[i].y)\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tfor ( i=0; i<n; i++){\r\n\t\t\tpoints[i].yfx = points[i].lnY * points[i].lnVal\r\n\t\t\tpoints[i].fx = points[i].lnVal\r\n\t\t\tpoints[i].fx2 = points[i].lnVal * points[i].lnVal\r\n\t\t\tif ( i > 0 ){\r\n\t\t\t\tpoints[i].Syfx = points[i-1].Syfx + points[i].yfx\r\n\t\t\t\tpoints[i].Sy = points[i-1].Sy + points[i].lnY\r\n\t\t\t\tpoints[i].Sfx = points[i-1].Sfx + points[i].fx\r\n\t\t\t\tpoints[i].Sfx2 = points[i-1].Sfx2 + points[i].fx2\r\n\t\t\t\t}\telse {\r\n\t\t\t\tpoints[i].Syfx = points[i].yfx\r\n\t\t\t\tpoints[i].Sy = points[i].lnY\r\n\t\t\t\tpoints[i].Sfx = points[i].fx\r\n\t\t\t\tpoints[i].Sfx2 = points[i].fx2\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n\tif (type === 'linear'){\r\n\t\t//console.log(JSON.stringify(points,null,2))\r\n\t\tn=Object.keys(points).length\r\n\t\tfor ( i=0; i<n; i++){\r\n\t\t\tpoints[i].yfx = points[i].y * points[i].val\r\n\t\t\tpoints[i].fx = points[i].val\r\n\t\t\tpoints[i].fx2 = points[i].val * points[i].val\r\n\t\t\tif ( i > 0 ){\r\n\t\t\t\tpoints[i].Syfx = points[i-1].Syfx + points[i].yfx\r\n\t\t\t\tpoints[i].Sy = points[i-1].Sy + points[i].y\r\n\t\t\t\tpoints[i].Sfx = points[i-1].Sfx + points[i].fx\r\n\t\t\t\tpoints[i].Sfx2 = points[i-1].Sfx2 + points[i].fx2\r\n\t\t\t\t}\telse {\r\n\t\t\t\tpoints[i].Syfx = points[i].yfx\r\n\t\t\t\tpoints[i].Sy = points[i].y\r\n\t\t\t\tpoints[i].Sfx = points[i].fx\r\n\t\t\t\tpoints[i].Sfx2 = points[i].fx2\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\r\n\tswitch ( String(type)) {\r\n\t\tcase \"constant\" :\r\n\t\t\tp = 0\r\n\t\t\tq = points[n-1].Sy / n\r\n\t\tbreak;\r\n\r\n\t\tcase \"exponent\" :\r\n\t\t\tq=(n * points[n-1].Syfx - points[n-1].Sy * points[n-1].Sfx) /  ( n * points[n-1].Sfx2 - Math.pow(points[n-1].Sfx,2))\r\n\t\t\tp=(points[n-1].Sy - q * points[n-1].Sfx ) / n\r\n\t\t\tp = Math.exp(p)\r\n\t\tbreak;\r\n\r\n\t\tcase \"polynom\" :\r\n\t\t\tp = poly.getTerms()\r\n\t\t\t//console.log(JSON.stringify(p))\r\n\t\t\tq = p\r\n\t\tbreak;\r\n\r\n\t\tdefault :\r\n\t\t\tp=(n * points[n-1].Syfx - points[n-1].Sy * points[n-1].Sfx) /  ( n * points[n-1].Sfx2 - Math.pow(points[n-1].Sfx,2))\r\n\t\t\tq=(points[n-1].Sy - p * points[n-1].Sfx ) / n\r\n\t}\r\n\t\r\n\tif ( type.slice(0,7) !== 'polynom' ){\r\n\t\tr2 = points2parameterErrorCheck(type,points)\t\r\n\t}\r\n\r\n\t//console.log(p,q,r2)\r\n\r\n\t\t\r\n\treturn { p : p , q : q , r2: r2}\r\n\t}\r\n\r\nexport function toSiUnits(value, unit) {\r\n\tvar factor\r\n\t\r\n\tswitch (String(unit)) {\t\t\r\n\t\tcase \"kW\" : factor = 1000; break;\r\n\t\tcase \"l/min\": factor = 60 / 3.6e6; break;\r\n\t\tcase \"l/s\": factor = 0.001; break;\r\n\t\tcase \"l/h\": factor = 1 / 3.6e6; break;\r\n\t\tcase \"m³/h\": factor = 1 / 3.6e3; break;\r\n\t\tcase \"m³/s\": factor = 1; break;\r\n\r\n\t\tcase \"mm\": factor = 0.001; break;\r\n\t\tcase \"cm\": factor = 0.01; break;\r\n\t\tcase \"m\": factor = 1; break;\r\n\t\tcase \"ft\": factor = 0.3048; break;\r\n\t\tcase \"in\": factor = 0.0254; break;\r\n\r\n\t\tcase \"m/s\": factor = 1; break;\r\n\r\n\t\tcase \"m²\": factor = 1; break\r\n\r\n\t\tcase \"N/m²\": factor = 1; break;\r\n\t\tcase \"Pa\": factor = 1; break;\r\n\t\tcase \"hPa\": factor = 100; break;\r\n\t\tcase \"kPa\": factor = 1000; break;\t\t\r\n\t\tcase \"bar\": factor = 100000; break;\r\n\t\tcase \"psi\": factor = 6894.76; break;\r\n\t\tcase \"mmHg\": factor = 133.322; break;\r\n\r\n\t\tcase \"kg\": factor = 1; break;\r\n\t\tcase \"lbs\": factor = 0.453592; break;\r\n\t\tcase \"g\": factor = 0.001; break;\r\n\t\tcase \"daN\": factor = 1.019716213; break;\r\n\t\tcase \"t\": factor = 1000; break;\r\n\r\n\r\n\t\tcase \"ml\" : factor = 0.000001; break;\t\t\r\n\t\tcase \"l\" : factor = 0.001; break;\r\n\t\tcase \"hl\" : factor = 0.1; break;\r\n\t\tcase \"m³\" : factor = 1; break;\r\n\t\t\r\n\t\t\r\n\t\tcase \"min\" : factor = 60; break;\r\n\t\tcase \"h\" : factor = 3600; break;\r\n\t\t\r\n\t\tcase \"°C\" : factor = 1; break;\r\n\t\tcase \"K/W\" : factor = 1; break;\r\n\t\t\r\n\t\tcase \"W/m²\" : factor = 1; break;\r\n\t\t\r\n\t\tcase \"W/m²K\" : factor = 1; break;\r\n\t\t\r\n\t\tcase \"J\" : factor = 1; break;\r\n\t\tcase \"kJ\" : factor = 1E3; break;\r\n\t\tcase \"MJ\" : factor = 1E6; break;\r\n\t\tcase \"GJ\" : factor = 1E9; break;\r\n\t\tcase \"Ws\" : factor = 1; break;\r\n\t\tcase \"Wh\" : factor = 3.6E3; break;\r\n\t\tcase \"kWh\" : factor = 3.6E6; break;\r\n\t\tcase \"MWh\" : factor = 3.6E9; break;\r\n\r\n\t\tdefault: \r\n\t\t\tfactor = 1\r\n\t\t\tconsole.log('WARNING: Unknown unit: ' + unit);\r\n\t}\r\n\treturn value * factor;\r\n}\r\n\r\nexport function niceRounding(value){\r\n\tvar cbValue\r\n\t// choose according rounding method.\r\n\tif ( value >= 0 && value < 0.1 ){ cbValue = value.toPrecision(1) }\r\n\tif ( value >= 0.1 && value < 1 ){ cbValue = value.toPrecision(2) }\r\n\tif ( value >= 1 && value < 10 ){ cbValue = value.toPrecision(2) }\r\n\tif ( value >= 10 && value < 100 ){ cbValue = value.toPrecision(2) }\r\n\tif ( value >= 100 ){ cbValue = value.toFixed(0) }\r\n\treturn cbValue\r\n\t}\r\n\r\nexport function toUserUnits(value, unit) {\r\n\tvar factor\r\n  factor = toSiUnits(1, unit);\r\n  return value / factor;\r\n}\r\n\r\nexport function interpolate(x1, y1, x2, y2, x) {\r\n\tvar t, y, m\r\n\tif ( x1 === x2 && x1 === x ){\r\n\t\ty = (y1 + y2) / 2\r\n\t} else {\r\n\t\t//gives linear interpolated value back. could not find such simple in math.js.\r\n\t\tm = (y2 - y1) / (x2 - x1);\r\n\t\tt = y1 - m * x1;\r\n\t\ty = m * x + t;\r\n\t}\r\n  return y;\r\n}\r\n\r\n\r\nfunction pressureDrop(sim){\r\n\r\n\tsim.velocity = sim.flowRate / (Math.PI * sim.diameter * sim.diameter * 0.25)\r\n\tsim.rho = brine( stat.userInput.pipeCalculation.brineType, 'rho', stat.userInput.pipeCalculation.temperature, userInput.pipeCalculation.brineRatio);\t\t\r\n\tsim.cp = brine( stat.userInput.pipeCalculation.brineType, 'cp', stat.userInput.pipeCalculation.temperature, userInput.pipeCalculation.brineRatio);\t\t\r\n\tsim.k = stat.userInput.pipeCalculation.roughness;\r\n\tsim.my = brine( stat.userInput.pipeCalculation.brineType, 'my', stat.userInput.pipeCalculation.temperature, userInput.pipeCalculation.brineRatio );\r\n\tsim.Re = (sim.rho * sim.velocity * sim.diameter) / sim.my;\r\n\t//calculate lambda with Haaland\r\n\tsim.lambda=Math.pow( 1 / (-1.8 * Math.log10(( 6.9 / sim.Re ) +  Math.pow((sim.k/(sim.diameter*1000))/3.71, 1.11))), 2);\r\n\tsim.pressureDrop  = sim.lambda * ( sim.length / sim.diameter) * (1/2 ) * sim.rho * Math.pow(sim.velocity, 2); // Pa\r\n\tsim.power = sim.flowRate * sim.cp * sim.rho * sim.deltaTemp\r\n\treturn sim\r\n}\r\n\r\n\r\nexport function pipeCalculation(input) {\r\n\tvar lookback = []\r\n\r\n\r\n\tvar sim = {}\r\n\t//given data in input has to be in Si units !!\r\n\tif ( input.verboseLevel > 1 ){\tconsole.log(input) }\r\n\r\n\tif (typeof(input.scaleDiameter) === 'number' && typeof(input.scalePipeLength) === 'number'){\r\n\t\tif (input.calcType === 'pipeCalculation_volume'){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\t\t\t\t\t\t\r\n\t\t\tsim.pipeDiameter = input.scaleDiameter\r\n\t\t\tsim.pipeLength = input.scalePipeLength\r\n\t\t\tsim.pipeVolume = Math.PI * Math.pow( sim.pipeDiameter , 2 ) * 0.25 * sim.pipeLength\r\n\t\t}\r\n\t}\r\n\r\n\tif (typeof(input.scaleDiameter) === 'number' && typeof(input.scaleVolume) === 'number'){\r\n\t\tif (input.calcType === 'pipeCalculation_volume'){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\t\t\t\t\t\t\r\n\t\t\tsim.pipeDiameter = input.scaleDiameter\r\n\t\t\tsim.pipeVolume = input.scaleVolume\r\n\t\t\tsim.pipeLength = sim.pipeVolume / ( Math.PI * Math.pow( sim.pipeDiameter , 2 ) * 0.25 )\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\tif (typeof(input.scaleDiameter) === 'number' && typeof(input.scalePressureDrop) === 'number'){\r\n\t\tif (input.calcType === 'pipeCalculation_pressureDrop'){\r\n\t\t\t//calculate flowRate based on Pressure Drop\r\n\t\t\t// keep diameter and vary flowRate to find pressureDrop!!\r\n\t\t\tsim.verboseLevel = input.verboseLevel\r\n\t\t\tsim.diameter = input.scaleDiameter\r\n\t\t\tsim.pressureDrop = input.scalePressureDrop\r\n\t\t\tsim.flowRate = input.startvalue\r\n//\t\t\tsim.length = stat.userInput.pipeCalculation.pipeLength\r\n\t\t\tsim.length = stat.userInput.pipeCalculation.pipeLength\r\n\r\n\t\t\tsim = pressureDrop(sim);\r\n\t\t\t\r\n\t\t\tsim.error = ( sim.pressureDrop - input.scalePressureDrop )/ input.scalePressureDrop\r\n\t\t\t\r\n\t\t\tif (sim.error > 0 ){\r\n\t\t\t\tsim.sf = input.startvalue * 0.2\r\n\t\t\t\t} else { sim.sf = input.startvalue * -0.2 \r\n\t\t\t}\r\n\t\t\tsim.counter = 0\r\n\t\t\tlookback = []\r\n\t\t\tsim.cancel = false\r\n\t\t\twhile ( sim.cancel === false ){\r\n\t\t\t//\t\twhile ( counter  <= 30 ){\r\n\t\t\t\tif (sim.error > 0 ){\r\n\t\t\t\t\tsim.flowRate = sim.flowRate + sim.sf\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\tsim.flowRate = sim.flowRate - sim.sf\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\tsim = pressureDrop(sim);\r\n\t\t\tsim.error = ( sim.pressureDrop - input.scalePressureDrop )/ input.scalePressureDrop\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif ( typeof( lookback[2] ) !== 'undefined' ){\r\n\r\n\t\t\t\t\tif ( Math.abs(sim.error) > Math.abs(lookback[0].error) ) {\r\n\t\t\t\t\t\tsim.sf = sim.sf * -1\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif ((sim.error >= 0 && lookback[0].error < 0 ) ||\r\n\t\t\t\t\t\t(sim.error < 0 && lookback[0].error >= 0) ){\r\n\t\t\t\t\t\t sim.sf = sim.sf * -0.5\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( sim.flowRate <= 0 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 1')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = 'flowRate < 0'\r\n\t\t\t\t\t\tsim.status = 'error'\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( Math.abs(sim.error) <= 0.00001 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 2')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = 'minimum error reached!'\r\n\t\t\t\t\t\tsim.status = 'success'\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( sim.counter >= 50 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 3')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = 'maximum counter reached'\r\n\t\t\t\t\t\tsim.status = 'error'\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet simCopy = JSON.parse(JSON.stringify(sim));\r\n\t\t\t\tlookback.unshift(simCopy) \t\t\t\r\n\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\tconsole.log(sim.counter, sim.sf, sim.error, sim.flowRate, sim.pressureDrop )\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsim.counter++\r\n\t\t\t}\r\n\t\t\t//console.log(sim)\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\r\n\tif( typeof(input.scaleDiameter) === 'number' && typeof(input.scaleFlowRate) === 'number' ){\r\n\t\tif ( input.calcType === 'pipeCalculation_velocity' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\t\t\t\r\n\t\t\tsim.flowRate = input.scaleFlowRate\r\n\t\t\tsim.diameter = input.scaleDiameter\r\n\t\t\tsim.velocity = sim.flowRate / (Math.PI * sim.diameter * sim.diameter * 0.25)\r\n\t\t}\r\n\t\tif ( input.calcType === 'pipeCalculation_pressureDrop' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\r\n\t\t\tsim.flowRate = input.scaleFlowRate\r\n\t\t\tsim.diameter = input.scaleDiameter\r\n\t\t\tsim.length = stat.userInput.pipeCalculation.pipeLength\r\n\t\t\tpressureDrop(sim);\r\n\t\t}\r\n\t}\r\n\t\r\n\tif( typeof(input.scaleDiameter) === 'number' && typeof(input.scaleVelocity) === 'number' ){\r\n\t\tif ( input.calcType === 'pipeCalculation_velocity' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\r\n\t\t\tsim.diameter = input.scaleDiameter\r\n\t\t\tsim.velocity = input.scaleVelocity\r\n\t\t\tsim.flowRate = sim.velocity * (Math.PI * sim.diameter * sim.diameter * 0.25)\r\n\t\t}\r\n\t}\t\r\n\r\n\r\n\t//console.log(sim);\r\n\treturn sim\r\n}\r\n\r\n\r\nexport function radiatorCalculation(input){\r\n\tvar f_2 = userInput.radiatorCalculation.f_2\r\n\tvar f_3 = userInput.radiatorCalculation.f_3\r\n\tvar f_4 = userInput.radiatorCalculation.f_4\r\n/*\r\n  possible cases. if more values are given, then needed for the case, the value will be dropped!\r\n\tin out mean OF\t\r\n\t 0 0 1 1\r\n\t 0 1 0 1\r\n\t 0 1 1 0\r\n\t 1 0 0 1\r\n\t 1 0 1 0\r\n\t 1 1 0 0\r\n*/\r\n\tvar inflowTemp, outflowTemp, meanTemp,  deltaInflowTemp ,deltaOutflowTemp, deltaMeanTemp, f_1, oversizeFactor, power, flowRate\r\n\r\n\tif ( typeof(input.meanTemp) == \"number\" && typeof(input.oversizeFactor) == \"number\" ){}\r\n\r\n\tif ( typeof(input.outflowTemp) == \"number\" && typeof(input.oversizeFactor) == \"number\" ){\r\n\t\t//output not checked!!\r\n\t\tdeltaOutflowTemp = input.outflowTemp - input.roomTemp\r\n\t\tf_1 = 1 / ( input.oversizeFactor * f_2 * f_3 * f_4 )\r\n\t\tdeltaMeanTemp = Math.pow(f_1, (1 / input.radiator.exponent) ) * input.radiator.nominalTemp \r\n\t\tdeltaInflowTemp = deltaOutflowTemp + ( deltaMeanTemp - deltaOutflowTemp)  * 2   \r\n\t\tinflowTemp = deltaInflowTemp + input.roomTemp\r\n\t\toutflowTemp = input.outflowTemp\r\n\t\toversizeFactor = input.oversizeFactor\r\n\t\tpower = f_1 * f_2 * f_3 * f_4 * input.radiator.nominalPower\r\n\t\t}\r\n\r\n\tif ( typeof(input.outflowTemp) == \"number\" && typeof(input.meanTemp) == \"number\" ){}\r\n\r\n\tif ( typeof(input.inflowTemp) == \"number\" && typeof(input.oversizeFactor) == \"number\" ){\r\n\t\tdeltaInflowTemp = input.inflowTemp - input.roomTemp\r\n\t\tf_1 = 1 / ( input.oversizeFactor * f_2 * f_3 * f_4 )\r\n\t\tdeltaMeanTemp = Math.pow( f_1 , (1 / input.radiator.exponent) ) * input.radiator.nominalTemp \r\n\t\tmeanTemp = deltaMeanTemp + input.roomTemp\r\n\t\toutflowTemp = -(input.inflowTemp - meanTemp )*2 + input.inflowTemp\r\n\t\tdeltaOutflowTemp = outflowTemp - input.roomTemp\r\n\t\tinflowTemp = input.inflowTemp\r\n\t\toversizeFactor = input.oversizeFactor\r\n\t\tpower = f_1 * f_2 * f_3 * f_4 * input.radiator.nominalPower\r\n\r\n\t\t}\r\n\r\n\tif ( typeof(input.inflowTemp) == \"number\" && typeof(input.meanTemp) == \"number\" ){}\r\n\t\t\r\n\tif ( typeof(input.inflowTemp) == \"number\" && typeof(input.outflowTemp) == \"number\" ){\r\n\t\t//if condition output is checked!\r\n\t\t//console.log(input)\r\n\t\tmeanTemp = (input.inflowTemp + input.outflowTemp) / 2\r\n\t\tdeltaInflowTemp = input.inflowTemp - input.roomTemp\r\n\t\tdeltaOutflowTemp = input.outflowTemp - input.roomTemp\r\n\t\tdeltaMeanTemp = meanTemp - input.roomTemp\r\n\r\n\t\tf_1 = Math.pow(( deltaMeanTemp / input.radiator.nominalTemp ), input.radiator.exponent )\r\n\r\n\t\toversizeFactor = 1 / ( f_1 * f_2 * f_3 * f_4 )\r\n\t\tpower = f_1 * f_2 * f_3 * f_4 * input.radiator.nominalPower\r\n\t\tinflowTemp = input.inflowTemp\r\n\t\toutflowTemp = input.outflowTemp\r\n\t\t}\r\n\t\r\n\t\r\n\treturn {\r\n\t\tinflow: inflowTemp,\r\n\t\tmean: meanTemp,\r\n\t\toutflow: outflowTemp,\r\n\t\tdeltaInflow : deltaInflowTemp,\r\n\t\tdeltaMean : deltaMeanTemp,\r\n\t\tdeltaOutflow : deltaOutflowTemp,\r\n\t\toversizeFactor : oversizeFactor,\r\n\t\tpower : power ,\r\n\t\tflowRate: flowRate\r\n\t\t}\r\n\r\n}\r\n\r\nexport function massFlowCalculation(input){\r\n\tvar sf, counter\r\n\tvar lookback = []\r\n\tvar sim = {}\r\n\tsim.verboseLevel = input.verboseLevel\r\n\tif ( input.verboseLevel > 1 ){\r\n\t\tconsole.log(input)\r\n\t}\r\n\t\r\n\tif( typeof(input.scalePower) === 'number' && typeof(input.scaleTemperature) === 'number' ){\r\n\t\tif ( input.calcType === 'massFlowRate_volumeFlow' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\t\t\t\r\n\t\t\tsim.power = input.scalePower\r\n\t\t\tsim.temperature = input.scaleTemperature\r\n\t\t\t\r\n\t\t\tsim.rho = brine(\r\n\t\t\tuserInput.massFlowCalculation.brineType, \r\n\t\t\t'rho', \r\n\t\t\tuserInput.massFlowCalculation.temperature, \r\n\t\t\tuserInput.massFlowCalculation.brineRatio\r\n\t\t\t);\t\t\t\r\n\t\t\tsim.cp = brine(\r\n\t\t\tuserInput.massFlowCalculation.brineType, \r\n\t\t\t'cp', \r\n\t\t\tuserInput.massFlowCalculation.temperature, \r\n\t\t\tuserInput.massFlowCalculation.brineRatio\r\n\t\t\t);\t\t\t\r\n\t\t\tsim.volumeFlow = sim.power / ( sim.rho * sim.cp * sim.temperature )\r\n\t\t}\r\n\t}\r\n\tif( typeof(input.scalePower) === 'number' && typeof(input.scaleVolumeFlow) === 'number' ){\r\n\t\tif ( input.calcType === 'massFlowRate_volumeFlow' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\t\t\t\r\n\t\t\tsim.power = input.scalePower\r\n\t\t\tsim.volumeFlow = input.scaleVolumeFlow\r\n\t\t\t\r\n\t\t\tsim.rho = brine(\r\n\t\t\tuserInput.massFlowCalculation.brineType, \r\n\t\t\t'rho', \r\n\t\t\tuserInput.massFlowCalculation.temperature, \r\n\t\t\tuserInput.massFlowCalculation.brineRatio\r\n\t\t\t);\t\t\t\r\n\t\t\tsim.cp = brine(\r\n\t\t\tuserInput.massFlowCalculation.brineType, \r\n\t\t\t'cp', \r\n\t\t\tuserInput.massFlowCalculation.temperature, \r\n\t\t\tuserInput.massFlowCalculation.brineRatio\r\n\t\t\t);\t\t\t\r\n\t\t\t\r\n\t\t\tsim.temperature = sim.power / ( sim.volumeFlow * sim.rho * sim.cp )\r\n\t\t}\r\n\t}\r\n\treturn sim\r\n\t\r\n\t/*\r\n\t\r\n\tvar power, flowRate, deltaTemp\r\n  var rho = brine(\r\n\t\tuserInput.massFlowCalculation.brineType, \r\n\t\t'rho', \r\n\t\tuserInput.massFlowCalculation.temperature, \r\n\t\tuserInput.massFlowCalculation.brineRatio\r\n\t\t);\t\r\n\t\t\t\t\r\n\tvar cp = brine(\r\n\t\tuserInput.massFlowCalculation.brineType, \r\n\t\t'cp', \r\n\t\tuserInput.massFlowCalculation.temperature, \r\n\t\tuserInput.massFlowCalculation.brineRatio\r\n\t\t);\t\t\t\r\n\r\n\tif ( typeof(input.power) != 'number' ){\r\n\t\tpower = cp * input.flowRate * rho * input.deltaTemp\r\n\t\tflowRate = input.flowRate\r\n\t\tdeltaTemp = input.deltaTemp\t\t\r\n\t\t}\r\n\tif ( typeof(input.deltaTemp) != 'number' ){\r\n\t\tpower = input.power\r\n\t\tflowRate = input.flowRate\r\n\t\tdeltaTemp =  power / ( rho  * cp * input.flowRate ) \r\n\t\t}\r\n\tif ( typeof(input.flowRate) != 'number' ){\r\n\t\tpower = input.power\r\n\t\tflowRate = input.power / ( rho * cp * input.deltaTemp )\r\n\t\tdeltaTemp = input.deltaTemp\r\n\r\n\t\t}\r\n\t\r\n\treturn {\r\n\t\tpower : power,\r\n\t\tflowRate : flowRate,\r\n\t\tdeltaTemp : deltaTemp\r\n\t\t}\r\n\t*/\t\r\n\t\t\r\n\t}\r\n\r\n\r\nfunction heatStorageSimulation(sim, endType, endValue){\r\n\t//sim.cylLossResistance = 1 / ((1/12) * Math.pow( sim.cylVolume * 1000 ,0.5)) //ok\r\n\tvar i=1\r\n\tvar lookback = []\r\n\t\r\n\tif ( sim.verboseLevel > 2 ){\r\n\tconsole.log('start', endType, endValue)\r\n\t}\r\n\tsim.step = 0\r\n\tsim.active = true\r\n\t\r\n\t//console.log(sim, endType, endValue)\r\n\twhile( sim.active === true && i < 1000){\r\n\t\tif ( i === 999 ){ sim.status = 'WARNING maximum steps is reached! increase step size or check for bugs.'}\r\n\r\n\tswitch (String(endType)) {\r\n\t\tcase 'userVolume' :\r\n\t\t\tsim.distToEndValue = ( endValue - sim.userVolume ) * 30\r\n\t\t\tbreak;\r\n\t\tcase 'cylMinTemp' :\r\n\t\t\tsim.distToEndValue = ( endValue - sim.cylTemp ) * 0.1\r\n\t\t\tbreak;\r\n\t\tcase 'userVolumeReheat' :\r\n\t\t\tif ( sim.userVolume <= endValue ){\r\n\t\t\t\tsim.distToEndValue = ( endValue - sim.userVolume ) * 10\r\n\t\t\t} else { sim.distToEndValue = 100 }\r\n\t\t\tbreak;\r\n\t\tdefault :\r\n\t\t\tsim.distToEndValue = 10\r\n\t}\r\n\r\n\t\t//change timestep, if near tripping points\r\n\t\tvar frf = 0 \r\n\t\tif ( sim.userFlowRate === 0 ){ frf = 1 }\r\n\t\t\r\n\t\tif ( sim.timestepAuto === true ){\r\n\t\t\t// tripping point: hgOff\r\n\t\t\tsim.deltaTrip = Math.min(\r\n\t\t\tMath.abs(sim.cylTemp - sim.hgOffTemp) * ( 0.5 + 0.5 * frf ),\r\n\t\t\t\r\n\t\t\t// tripping point: hgOn\r\n\t\t\tMath.abs(sim.cylTemp - sim.hgOnTemp) * ( 0.5 + 0.5 * frf ),\r\n\t\t\t\r\n\t\t\t// tripping point: MinTemp\r\n\t\t\tMath.abs(sim.cylTemp - sim.userTemp),\r\n\t\t\t\r\n\t\t\t// tripping point: end Value\r\n\t\t\tMath.abs(sim.distToEndValue)\r\n\t\t\t\r\n\t\t\t)\r\n\t\t\t\r\n\t\t\tif ( sim.deltaTrip < (1/sim.timestepConfinement) * sim.timestepMax ){\r\n\t\t\t\tsim.timestep = Math.max( sim.deltaTrip * sim.timestepConfinement , 1)\r\n\t\t\t\t} else {\r\n\t\t\t\tsim.timestep = sim.timestepMax\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t} else {\r\n\t\t\t\r\n\t\t\tsim.timestep = sim.timestepMax\r\n\t\t\t\r\n\t\t}\r\n\t\t//calculate reheat time\r\n\t\t\r\n\t\tsim.step = i\r\n\t\tsim.time = sim.time + sim.timestep\r\n\r\n\r\n\t\tif ( sim.hgTemp > sim.hgNomTemp ){ \t\t\r\n\t\t\tsim.hgResistance = (sim.hgTemp - sim.hgNomTemp) / sim.hgNomPower  //ok\r\n\t\t\t} else {\r\n\t\t\tsim.hgResistance = (sim.hgTemp - sim.cylTemp) / sim.hgNomPower \r\n\t\t}\r\n\r\n\r\n\t\t//high cyl temp --> hg is off.\r\n\t\tif ( sim.cylTemp >= sim.hgOffTemp ){ sim.hgPower = 0 }\r\n\r\n\t\t// area with on / off hysteresis!\r\n\t\tif ( sim.cylTemp <= sim.hgOffTemp && sim.cylTemp > sim.hgOnTemp ){\r\n\t\t\tif ( typeof( lookback[1] ) !== 'undefined' ){\r\n\t\t\t\tif ( lookback[0].cylTemp > lookback[1].cylTemp ){\r\n\t\t\t\t\tsim.hgPower = (sim.hgTemp - sim.cylTemp) / sim.hgResistance  //hgTemp - cylTemp \r\n\t\t\t\t\t} else {\t\t\t\t\t\t\t\t\t\t\t\t\t //-----------------  * nomPower\r\n\t\t\t\t\tsim.hgPower = 0\t\t\t\t\t\t\t\t\t\t\t\t //hgTemp - nomTemp\r\n\t\t\t\t}\r\n\t\t\t\t} else { \r\n\t\t\t\tsim.hgPower = 0\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t\r\n\t\t// linear degradation of power\r\n\t\tif ( sim.cylTemp <= sim.hgOnTemp && sim.cylTemp > sim.hgNomTemp  ){ \r\n\t\t\tsim.hgPower = (sim.hgTemp - sim.cylTemp) / sim.hgResistance\r\n\t\t\t}\r\n\r\n\t\t// dont go higher then nom. power!!\r\n\t\tif ( sim.cylTemp < sim.hgNomTemp ){\r\n\t\t\tsim.hgPower = sim.hgNomPower\r\n\t\t\t}\r\n\r\n\r\n\t\tsim.hgEnergy = sim.hgPower * sim.timestep  //ok\r\n\t\t\r\n\t\tsim.cylLossPower = (sim.cylTemp - sim.roomTemp) / sim.cylLossResistance  //ok\r\n\t\tsim.cylLossEnergy = sim.cylLossPower * sim.timestep //ok\r\n\t\t\r\n\t\t//userTemp must be changed, if cylTemp < userTemp \r\n\t\t// ---> hwFlowRate must be increased until hwFlowrate = userFlowRate\r\n\t\tif ( sim.userTemp <= sim.cylTemp ){\r\n\t\t\tsim.userPower = sim.userCp * 1000 * (sim.userFlowRate * sim.userRho) * ( sim.userTemp - sim.coldWaterTemp) //ok\t\t\r\n\t\t\t} else {\r\n\t\t\tsim.userPower = sim.cylCp * 1000 * (sim.userFlowRate * sim.userRho) * ( sim.cylTemp - sim.coldWaterTemp) //ok\t\t\t\t\t\r\n\t\t}\r\n\t\tsim.userEnergy = sim.userPower * sim.timestep // ok\r\n\t\tsim.hwEnergy = sim.userEnergy //ok\r\n\t\tsim.hwPower = sim.userPower //ok\r\n\t\tsim.hwFlowRate = sim.hwPower / ( sim.cylCp * 1000 * (sim.cylTemp - sim.coldWaterTemp) * sim.cylRho ) //ok\r\n\r\n\r\n\t\t//calculate volume sums\r\n\t\tif ( typeof( lookback[0] ) !== 'undefined' ){\r\n\t\t\tsim.userVolume = lookback[0].userVolume + sim.userFlowRate * sim.timestep //ok\r\n\t\t}\r\n\t\tif ( typeof( lookback[0] ) !== 'undefined' ){\r\n\t\t\tsim.hwVolume = lookback[0].hwVolume + sim.hwFlowRate * sim.timestep //ok\r\n\t\t}\r\n\r\n\r\n\t\t//calculate energy sum\r\n\t\tsim.sumPower = sim.hgPower - sim.cylLossPower - sim.hwPower //ok\r\n\t\tsim.sumEnergy = sim.sumPower * sim.timestep //ok\r\n\t\t\r\n\t\t\r\n\t\t// add energy bilance to cylinder temperature !!\r\n\t\tif ( typeof( lookback[0] ) !== 'undefined' ){\r\n\t\t\tsim.cylTemp = lookback[0].cylTemp + sim.sumEnergy / ( sim.cylCp * 1000 * sim.cylVolume * sim.cylRho ) //ok\r\n\t\t}\r\n\t\t\r\n\t\t//set markers for reheat start and stop\r\n\t\tif ( typeof( lookback[0] ) !== 'undefined' ){\r\n\t\t\tif ( sim.cylTemp > lookback[0].cylTemp && lookback[0].cylTemp < lookback[1].cylTemp && sim.hgPower !== 0 ){ sim.reheatStart = sim.time}\r\n\t\t\tif ( sim.cylTemp >= sim.hgOffTemp ){ sim.reheatStop = sim.time}\r\n\t\t}\r\n\r\n\t\t// set markers for start and stop time\r\n\t\tif ( sim.userFlowRate > 0 && sim.step === 1 ){ sim.usageStart = 0 }\r\n\t\tif ( typeof( lookback[0] ) !== 'undefined' ){\r\n\t\t\tif ( sim.userFlowRate > lookback[0].userFlowRate && lookback[0].userFlowRate === 0 ){ sim.usageStart = sim.time}\r\n\t\t\tif ( sim.userFlowRate > 0 && sim.step === 1 ){ sim.usageStart = 0 }\r\n\t\t\tif ( sim.userFlowRate < lookback[0].userFlowRate && sim.userFlowRate === 0 ){ sim.usageStop = sim.time}\r\n\t\t}\r\n\r\n\t\t// set markers for start and stop time\r\n\t\tif ( sim.userFlowRate > 0 && sim.step === 1 ){ sim.usageStart = 0 }\r\n\t\tif ( typeof( lookback[0] ) !== 'undefined' ){\r\n\t\t\tif ( sim.userFlowRate > lookback[0].userFlowRate && lookback[0].userFlowRate === 0 ){ sim.usageStart = sim.time}\r\n\t\t\tif ( sim.userFlowRate > 0 && sim.step === 1 ){ sim.usageStart = 0 }\r\n\t\t\tif ( sim.userFlowRate > 0 ){ sim.usageStop = sim.time}\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tif (sim.usageStop !== 'infinite'){\r\n\t\t\tsim.usageTime = sim.usageStop - sim.usageStart\r\n\t\t\t} else {\r\n\t\t\tsim.usageTime = 'infinite'\r\n\t\t}\r\n\r\n\r\n\t\t// set counter for usage Volume\r\n\t\tif ( sim.userFlowRate > 0 && sim.step === 1 ){ sim.usageStart = 0 }\r\n\t\tif ( typeof( lookback[0] ) !== 'undefined' ){\r\n\t\t\tif ( sim.userFlowRate > lookback[0].userFlowRate && lookback[0].userFlowRate === 0 ){ sim.usageStart = sim.time}\r\n\t\t\tif ( sim.userFlowRate > 0 && sim.step === 1 ){ sim.usageStart = 0 }\r\n\t\t\tif ( sim.userFlowRate < lookback[0].userFlowRate && sim.userFlowRate === 0 ){ sim.usageStop = sim.time}\r\n\t\t}\r\n\r\n\t\t// set trailing value for minimal cylinder temperature\r\n\t\tif ( typeof( lookback[0] ) !== 'undefined' ){\r\n\t\t\tif ( sim.cylTemp < lookback[0].cylTemp ){ \r\n\t\t\t\tsim.cylMinTemp = sim.cylTemp}\r\n\t\t}\r\n\r\n\t\t// set trailing value for temperature at the tap\r\n\t\tif ( typeof( lookback[0] ) !== 'undefined' ){\r\n\t\t\tif ( sim.cylTemp < sim.userTemp ){ \r\n\t\t\t\tsim.userMinTemp = sim.cylTemp} else {\r\n\t\t\t\tsim.userMinTemp = sim.userTemp \r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\t\tif ( endType === 'cylTemp' ){\r\n\t\t\t////////////////////////\r\n\t\t\t// calculate, if draw off should be ended\r\n\t\t\t// userActualTemp = min (cylTemp,userTemp)\r\n\t\t\t// if userActualTemp < userMinTemp ; then userFlowrate = 0 and start reheat\r\n\r\n\r\n\t\t\tif ( sim.cylTemp < endValue ){ \r\n\t\t\t\tsim.active = false\r\n\t\t\t\t\tconsole.log('DEBUG')\r\n\t\t\t\tsim.userFlowRate = 0\r\n\t\t\t\tsim.status = 'Minimum user Temperature reached. reheat can be calculated'\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t// stop flowRate, if heater is switched on and temperature is rising!\r\n\t\t\t// so no reheat time applicable\r\n\t\t\tif ( typeof( lookback[0] ) !== 'undefined' ){\r\n\t\t\t\tif ( sim.cylTemp > lookback[0].cylTemp && sim.userFlowRate > 0 ){\r\n\t\t\t\t\tsim.active = false \r\n\t\t\t\t\tconsole.log('DEBUG')\r\n\t\t\t\t\tsim.userFlowRate = 0 \r\n\t\t\t\t\tsim.status = 'On-Off mode between hgOn and hgOff, as flowrate is small'\r\n\t\t\t\t\tsim.usageStop = 'infinite'\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// set flowRate to zero, if equilibrium is reached --> usageTime = infinite\r\n\t\t\tif ( typeof( lookback[0] ) !== 'undefined' ){\r\n\t\t\t\tif ( Math.abs( (sim.cylTemp - lookback[0].cylTemp) / sim.timestep)  < 0.001 ){\r\n\t\t\t\t\tconsole.log('DEBUG')\r\n\t\t\t\t\tsim.active = false\r\n\t\t\t\t\tsim.usageStop = 'infinite'\r\n\t\t\t\t\tsim.userFlowRate = 0\r\n\t\t\t\t\tsim.status = 'Equilibrium between Power of heat generator and draw off reached. Increase flowrate, or reduce heater Power!'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//stop sim also, if hg switches off \r\n\t\t\tif ( sim.cylTemp >= sim.hgOffTemp ){\r\n\t\t\t\tsim.active = false\r\n\t\t\t\tsim.status = 'cylTemp >= sim.hgOffTemp ... heater reheated to switchoff temperature'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif ( endType === 'userVolume' ){\r\n\t\t\tif ( sim.userVolume >= endValue ){\r\n\t\t\t\t//console.log('case: userVolume')\r\n\t\t\t\tsim.active = false\r\n\t\t\t\tsim.status = 'success'\r\n\t\t\t\tsim.status2 = 'userVolume >= given Value: ' + endValue\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( endType === 'usageTime' ){\r\n\t\t\tif ( sim.usageTime >= endValue ){\r\n\t\t\t\tsim.active = false\r\n\t\t\t\tsim.status = 'success'\r\n\t\t\t\tsim.status2 = 'usageTime >= given value: ' + endValue\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( endType === 'usageProfile'){\r\n\t\t\t//enter here different szenarios which also include change of flowRate, depending on british standards table\r\n\t\t}\r\n\r\n\t\tif ( endType === 'cylMinTemp'){\r\n\t\t\tif ( sim.cylMinTemp <= endValue ){\r\n\t\t\t\t//console.log('case: cylMinTemp')\r\n\t\t\t\tsim.active = false\r\n\t\t\t\tsim.status = 'success'\r\n\t\t\t\tsim.status2 = 'cylMinTemp <= given value: ' + endValue\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( endType === 'userVolumeReheat' ){\r\n\t\t\tif ( sim.userVolume >= endValue ){\r\n\t\t\t\t//console.log('case: userVolumeReheat', sim.userVolume , endValue)\r\n\t\t\t\tsim.userFlowRate = 0\r\n\t\t\t\tif ( sim.cylTemp >= sim.hgOffTemp ){\r\n\t\t\t\t\tsim.active = false\r\n\t\t\t\t\tsim.status = 'success'\r\n\t\t\t\t\tsim.status2 = 'hgOff temperature reached! '\r\n\t\t\t\t}\r\n\t\t\t\tif ( sim.cylTemp >= sim.hgOnTemp && sim.hgPower === 0 ){\r\n\t\t\t\t\tsim.active = false\r\n\t\t\t\t\tsim.status = 'failed'\r\n\t\t\t\t\tsim.status2 = 'FlowRate zero and heater not on! '\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif ( typeof( lookback[0] ) !== 'undefined' ){\r\n\t\t\t\t\tif ( ( Math.abs( sim.cylTemp - lookback[0].cylTemp) / sim.timestep ) < 1e-6 ){\r\n\t\t\t\t\t\tsim.active = false\r\n\t\t\t\t\t\tsim.status = 'failed'\r\n\t\t\t\t\t\tsim.status2 = 'Equilibrium temperature! no reheat time possible '\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//deep copy, before saving to lookback !\r\n\t\tlet simCopy = JSON.parse(JSON.stringify(sim));\r\n\t\tlookback.unshift(simCopy) \r\n\r\n\t\tif ( sim.verboseLevel > 2 && i === 1 ){\r\n\t\tconsole.log(JSON.stringify(sim,null,2))\r\n\t\t}\r\n\r\n\t\tif ( sim.verboseLevel > 2 && i === 1 ){\r\n\t\tconsole.log('sim.step, sim.time, sim.timestep, sim.hgPower, sim.hwPower, sim.cylLossPower, sim.cylTemp, sim.hwFlowRate, sim.userVolume, sim.distToEndValue, sim.deltaTrip ')\r\n\t\t}\r\n\t\t\r\n\t\tif ( sim.verboseLevel > 2 ){\r\n\t\tconsole.log(sim.step, sim.time, sim.timestep, sim.hgPower, sim.hwPower, sim.cylLossPower, sim.cylTemp, sim.hwFlowRate, sim.userVolume, sim.distToEndValue, sim.deltaTrip)\r\n\t\t}\r\n\r\n\r\n\t\ti++\r\n\t}\r\n\t\r\n\tif ( sim.verboseLevel > 2 ){\r\n\tconsole.log(JSON.stringify(sim,null,2))\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tsim.reheatTime = sim.reheatStop - sim.reheatStart\r\n\t// end loop\r\n\treturn sim\r\n\t}\r\n\r\nexport function heatStorageCalculation(input){\r\n\tif ( input.verboseLevel > 1 ){\r\n\t\tconsole.log(input)\r\n\t}\r\n\tvar sim = {}\r\n\tsim.verboseLevel = input.verboseLevel\r\n\r\n\t\r\nif ( input.calcType !== 'heatStorageCalculation_thermalEnergy'  ){\t\t\t\t\t\t//workaround, for older, bad structured verision\r\n\tif ( input.verboseLevel > 1 ){\r\n\t\tconsole.log(input)\r\n\t}\r\n\t//console.log(stat.userInput[input.nomoName])\r\n\tvar sim = {\r\n\t\t// all in SI units, except temperature in °C !!!\r\n\t\thgName : input.hgName,\r\n\t\tcylName : input.cylName,\r\n\t\thgNomPower : stat.userSetup.heatGenerators[input.hgName].hgNomPower,  \r\n\t\thgNomTemp : stat.userSetup.heatGenerators[input.hgName].hgNomTemp,     \t\t// at wich temperature has heat generator its nominal power e.g. Nominal Power at heating from 10° to 45° = mean 27,5°\r\n\t\thgOffTemp : stat.userSetup.heatGenerators[input.hgName].hgOffTemp,     \t\t// temperature , where the heater is switched on\r\n\t\thgOnTemp : stat.userSetup.heatGenerators[input.hgName].hgOnTemp,\t\t\t\t// temperature , where the heater is switched on\r\n\t\thgTemp : stat.userSetup.heatGenerators[input.hgName].hgTemp,\t\t\t\t// temperature where power is zero\r\n\r\n\t\tcylTemp : stat.userSetup.heatGenerators[input.hgName].hgOffTemp,\r\n\t\tcylMinTemp : stat.userSetup.heatGenerators[input.hgName].hgOffTemp,\r\n\t\tcylVolume : stat.userSetup.storageCylinders[input.cylName].cylVolume,\r\n\t\tuserTemp : stat.userInput[input.nomoName].userTemp,\t\t\t\t\t\t\t// userTemp is a constant value during sim. It is the desired temp at the tap. If cyl is hotter than userTemp, the user gets his temp\r\n\t\tuserFlowRate : stat.userInput[input.nomoName].userFlowRate,  \r\n\t\t\r\n\t\tcoldWaterTemp : stat.userInput[input.nomoName].coldWaterTemp,\r\n\t\ttimestepMax : stat.userInput[input.nomoName].timestepMax,\r\n\t\ttimestepAuto : stat.userInput[input.nomoName].timestepAuto,\r\n\t\ttimestepConfinement : stat.userInput[input.nomoName].timestepConfinement,\r\n\t\tuserVolume : 0,\r\n\t\thwVolume : 0,\r\n\t\ttime : 0,\r\n\t\treheatStart : 0,\r\n\t\treheatStop : 0,\r\n\t\troomTemp : stat.userInput[input.nomoName].roomTemp,\r\n\t\tbrineType : stat.userSetup.storageCylinders[input.cylName].brineType,\r\n\t\tbrineRatio : stat.userSetup.storageCylinders[input.cylName].brineRatio,\r\n\t\tverboseLevel : input.verboseLevel\r\n\t}\r\n\r\n\tif ( typeof(stat.userSetup.storageCylinders[input.cylName].cylLossResistance) !== 'number' ){\r\n\t\tsim.cylLossResistance = \r\n\t\t12 / Math.pow(stat.userSetup.storageCylinders[input.cylName].cylVolume , 0.5)\t// commonly R= U_HG * A_HG, can be estimated with formula 12 / sqrt(vol in Liter)\r\n\t} else {\r\n\t\tsim.cylLossResistance = stat.userSetup.storageCylinders[input.cylName].cylLossResistance\r\n\t}\r\n\r\n\r\n\t// add here brine.js \r\n\tsim.cylCp = 4.2\r\n\tsim.cylRho = 1000\r\n\tsim.userCp = 4.2\r\n\tsim.userRho = 1000\r\n\t\r\n\t//console.log(input)\r\n\r\n\t// add here bugfix , if ending of scale is \"_number\" , then remove _number\r\n\tif(typeof(input.scaleMinimumTemperature_1) === 'number'){ input.scaleMinimumTemperature = input.scaleMinimumTemperature_1 }\r\n\tif(typeof(input.scaleMinimumTemperature_2) === 'number'){ input.scaleMinimumTemperature = input.scaleMinimumTemperature_2 }\r\n\tif(typeof(input.scaleMinimumTemperature_3) === 'number'){ input.scaleMinimumTemperature = input.scaleMinimumTemperature_3 }\r\n\r\n\t\r\n\tif( typeof(input.scaleStorageVolume) === 'number' && typeof(input.scaleFlowRate) === 'number' ){\r\n\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\tconsole.log('case 1') \r\n\t\t}\r\n\r\n\t\tsim.cylVolume = input.scaleStorageVolume\r\n\t\tsim.userFlowRate = input.scaleFlowRate \r\n\t\tsim.userFlowRateSetting = sim.userFlowRate\r\n\t\tsim = heatStorageSimulation(sim,'cylTemp',sim.userMinTemp)\r\n\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\tconsole.log('-', '-', sim.error, sim.cylMinTemp, sim.userMinTempOld, sim.cylVolume, sim.userVolume, sim.hgNomPower)\r\n\t\t}\r\n\t\t\r\n\t} \r\n\t\r\n\tif( typeof(input.scaleStorageVolume) === 'number' && typeof(input.scaleUsageTime) === 'number' ){\r\n\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\tconsole.log('case 2')\r\n\t\t}\r\n\t\t// console.log('now iterate userFlowRate solution to search usageTime')\r\n\t\t// ---> change it to iterate second manual scale, dpending on what will be decision by paul!!!\r\n\t\t// e.g. search usageTime by iterating drawOff Volume, \r\n\r\n\r\n\t\t// use this only in the case, if \r\n\t\t// Volume is  pivot-point on scale and \r\n\t\t// userFlowrate is second manual scale\r\n\t\t// console.log(input)\r\n\t\tsim.cylVolume = input.scaleStorageVolume\r\n\t\tsim.oldUsageTime = input.scaleUsageTime\r\n\t\tsim.userFlowRateSetting = sim.userFlowRate\r\n\t\tsim = heatStorageSimulation(sim)\r\n\r\n\r\n\t\tvar sf\r\n\t\tif (sim.usageTime < sim.oldUsageTime ){\r\n\t\t\tsf = sim.userFlowRateSetting * 0.2\r\n\t\t\t} else { sf = sim.userFlowRateSetting * -0.2 \r\n\t\t}\r\n\r\n\t\tsim.error = sim.usageTime - sim.oldUsageTime\r\n\t\tvar lookback = []\r\n\t\tvar counter = 0\r\n\t\tsim.cancel = false\r\n\t\t\t/*\r\n\t\t\tconsole.log(counter, sim.step,\r\n\t\t\t\tsim.cylVolume, sim.userFlowRateSetting, \r\n\t\t\t\tsim.usageTime, sim.oldUsageTime, sim.status\r\n\t\t\t\t)\r\n\t\t\t*/\r\n\t\twhile ( sim.cancel === false ){\r\n\t\t//\t\twhile ( counter  <= 30 ){\r\n\t\t\tif (sim.usageTime > sim.oldUsageTime ){\r\n\t\t\t\t//console.log('time > oldTime')\r\n\t\t\t\tsim.userFlowRate = sim.userFlowRateSetting + sf\r\n\t\t\t\t} else {\r\n\t\t\t\t//console.log('time < oldTime')\r\n\t\t\t\tsim.userFlowRate = sim.userFlowRateSetting - sf\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tsim.userFlowRateSetting = sim.userFlowRate\r\n\t\t\tsim.userVolume = 0\r\n\t\t\tsim.hwVolume = 0\r\n\t\t\tsim.time = 0\r\n\r\n\t\t\tsim = heatStorageSimulation(sim)\r\n\t\t\t//console.log(sim)\r\n\t\t\t//var oldError = error\r\n\t\t\tsim.error = sim.usageTime - sim.oldUsageTime\r\n\t\t\t\r\n\t\t\t//wrong search direction: turn search direction\r\n\t\t\tif ( typeof( lookback[3] ) !== 'undefined' ){\r\n\t\t\t\t//console.log(Math.abs(sim.error), Math.abs(lookback[0].error), counter )\r\n\r\n\t\t\t\tif ( Math.abs(sim.error) > Math.abs(lookback[0].error) ) {\r\n\t\t\t\t\t//\tconsole.log('change direction')\r\n\t\t\t\t\tsf = sf * -1\r\n\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tif ((sim.error >= 0 && lookback[0].error < 0 ) ||\r\n\t\t\t\t\t(sim.error < 0 && lookback[0].error >= 0) ){\r\n\t\t\t\t\t//\tconsole.log('refining')\r\n\t\t\t\t\t sf = sf * -0.5\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t//calculate sma\r\n\t\t\t\tif ( typeof(sim.error) === 'number' && \r\n\t\t\t\t\ttypeof(lookback[0].error) === 'number' && \r\n\t\t\t\t\ttypeof(lookback[1].error) === 'number' && \r\n\t\t\t\t\ttypeof(lookback[2].error) === 'number' ){\r\n\t\t\t\t\tsim.sma4 = ( sim.error + lookback[0].error + lookback[1].error + lookback[2].error) / 4 \r\n\t\t\t\t\r\n\t\t\t\t\tif ( Math.abs(sim.sma4 - lookback[0].sma4 )< 0.1){\r\n\t\t\t\t\t\tconsole.log('cond 1')\r\n\t\t\t\t\t\tsim.cancel = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (\r\n\t\t\t\t\t//Math.abs(sim.error) > Math.abs(lookback[0].error) ||   //not working\r\n\t\t\t\t\tMath.abs(sim.error) <= 5 || \r\n\t\t\t\t\tcounter >= 30 \r\n\t\t\t\t\t){\r\n\t\t\t\t\tconsole.log('cond 2')\r\n\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet simCopy = JSON.parse(JSON.stringify(sim));\r\n\t\t\tlookback.unshift(simCopy) \t\t\t\r\n\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log(counter, sf, sim.error, sim.cylMinTemp, sim.userMinTempOld, sim.cylVolume, sim.userVolume, sim.hgNomPower)\r\n\t\t\t}\r\n\r\n\t\t\tcounter++\r\n\t\t\t// Bug flow rate goes into negative... no search value found.\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tif( typeof(input.scaleStorageVolume) === 'number' && typeof(input.scaleReheatTime1) === 'number' ){\r\n\t\t// this part is not finally tested. handle with care!!\r\n\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\tconsole.log('case 3')\r\n\t\t}\r\n\t\t// console.log('now iterate userFlowRate solution to search reheatTime')\r\n\t\t// console.log(input)\r\n\t\tsim.cylVolume = input.scaleStorageVolume\r\n\t\tsim.oldReheatTime = input.scaleReheatTime1\r\n\t\tsim.userFlowRateSetting = sim.userFlowRate\r\n\t\t// console.log(sim.usageTime , sim.oldUsageTime)  undefined, number\r\n\t\tsim = heatStorageSimulation(sim)\r\n\t\t// console.log(sim.usageTime , sim.oldUsageTime)\r\n\r\n\r\n\t\t\r\n\t\tif (sim.reheatTime < sim.oldReheatTime ){\r\n\t\t\tsf = sim.userFlowRateSetting * 0.2\r\n\t\t\t} else { sf = sim.userFlowRateSetting * -0.2 \r\n\t\t}\r\n\r\n\t\tsim.error = sim.reheatTime - sim.oldReheatTime\r\n\t\tlookback = []\r\n\t\tcounter = 0\r\n\t\tsim.cancel = false\r\n\t\t\t/*\r\n\t\t\tconsole.log(counter, sim.step,\r\n\t\t\t\tsim.cylVolume, sim.userFlowRateSetting, \r\n\t\t\t\tsim.usageTime, sim.oldUsageTime, sim.status\r\n\t\t\t\t)\r\n\t\t\t*/\r\n\t\twhile ( sim.cancel === false ){\r\n\t\t//\t\twhile ( counter  <= 30 ){\r\n\t\t\tif (sim.reheatTime > sim.oldReheatTime ){\r\n\t\t\t\t//console.log('time > oldTime')\r\n\t\t\t\tsim.userFlowRate = sim.userFlowRateSetting + sf\r\n\t\t\t\t} else {\r\n\t\t\t\t//console.log('time < oldTime')\r\n\t\t\t\tsim.userFlowRate = sim.userFlowRateSetting - sf\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tsim.userFlowRateSetting = sim.userFlowRate\r\n\t\t\tsim.userVolume = 0\r\n\t\t\tsim.hwVolume = 0\r\n\t\t\tsim.time = 0\r\n\r\n\t\t\tsim = heatStorageSimulation(sim)\r\n\t\t\t//console.log(sim)\r\n\t\t\t//var oldError = error\r\n\t\t\tsim.error = sim.reheatTime - sim.oldReheatTime\r\n\t\t\t\r\n\t\t\t//wrong search direction: turn search direction\r\n\t\t\tif ( typeof( lookback[3] ) !== 'undefined' ){\r\n\t\t\t\t//console.log(Math.abs(sim.error), Math.abs(lookback[0].error), counter )\r\n\r\n\t\t\t\tif ( Math.abs(sim.error) > Math.abs(lookback[0].error) ) {\r\n\t\t\t\t\t//\tconsole.log('change direction')\r\n\t\t\t\t\tsf = sf * -1\r\n\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tif ((sim.error >= 0 && lookback[0].error < 0 ) ||\r\n\t\t\t\t\t(sim.error < 0 && lookback[0].error >= 0) ){\r\n\t\t\t\t\t//\tconsole.log('refining')\r\n\t\t\t\t\t sf = sf * -0.5\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t//calculate sma\r\n\t\t\t\tif ( typeof(sim.error) === 'number' && \r\n\t\t\t\t\ttypeof(lookback[0].error) === 'number' && \r\n\t\t\t\t\ttypeof(lookback[1].error) === 'number' && \r\n\t\t\t\t\ttypeof(lookback[2].error) === 'number' ){\r\n\t\t\t\t\tsim.sma4 = ( sim.error + lookback[0].error + lookback[1].error + lookback[2].error) / 4 \r\n\t\t\t\t\r\n\t\t\t\t\tif ( Math.abs(sim.sma4 - lookback[0].sma4 ) < 0.01){\r\n\t\t\t\t\t\tconsole.log('cond 1')\r\n\t\t\t\t\t\tsim.cancel = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (\r\n\t\t\t\t\t//Math.abs(sim.error) > Math.abs(lookback[0].error) ||   //not working\r\n\t\t\t\t\tMath.abs(sim.error) <= 5 || \r\n\t\t\t\t\tcounter >= 30 \r\n\t\t\t\t\t){\r\n\t\t\t\t\tconsole.log('cond 2')\r\n\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet simCopy = JSON.parse(JSON.stringify(sim));\r\n\t\t\tlookback.unshift(simCopy) \t\t\t\r\n\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log(counter, sf, sim.error, sim.cylMinTemp, sim.userMinTempOld, sim.cylVolume, sim.userVolume, sim.hgNomPower)\r\n\t\t\t}\r\n\r\n\t\t\tcounter++\r\n\t\t\t// Bug flow rate goes into negative... no search value found.\r\n\t\t\t\r\n\t\t}\r\n\t} \r\n\r\n\tif( typeof(input.scaleStorageVolume) === 'number' && typeof(input.scaleUsageVolume) === 'number' ){\r\n\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\tconsole.log('case 4')\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(input.calcType === 'heatStorageCalculation_minimumTemperature' ){\r\n\t\t\t//wanted is minimum Temperature in Cylinder. This can be done by single simulation.\r\n\t\t\t\r\n\t\t\tsim.cylVolume = input.scaleStorageVolume\r\n\t\t\t\r\n\t\t\t//console.log(input)\r\n\t\t\t//console.log(sim)\r\n\t\t\t\r\n\t\t\tsim = heatStorageSimulation(sim,'userVolume',input.scaleUsageVolume)\r\n\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log('-', '-', '-', sim.cylMinTemp, sim.userTemp, sim.userMinTemp, sim.cylVolume, sim.userVolume, sim.hgNomPower)\r\n\t\t\t}\r\n\t\t\tsim.error = ( sim.userVolume - input.scaleUsageVolume ) / input.scaleUsageVolume\r\n\t\t\tsim.status2 = ' && no iterated search'\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(input.calcType === 'heatStorageCalculation_hgPower' ){\r\n\t\t\t// iterate hgPower, to find hgPower, which produces a end temperature of userMinTemp\r\n\r\n\t\t\tsim.cylVolume = input.scaleStorageVolume\r\n\t\t\tsim.userMinTemp = input.userMinTemp\r\n\t\t\tsim.cylTemp = stat.userSetup.heatGenerators[input.hgName].hgOffTemp\r\n\t\t\tsim.hgPower = stat.userSetup.heatGenerators[input.hgName].hgPower\r\n\t\t\t// stop sim at userVolume and vary hgPower\r\n\t\t\tsim = heatStorageSimulation(sim,'userVolume', input.scaleUsageVolume)\r\n\r\n\t\t\tsim.error = ( sim.cylMinTemp - sim.userTemp ) / sim.userTemp\r\n\t\t\t\r\n\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log(counter, sf, sim.error, sim.cylMinTemp, sim.userTemp, sim.userMinTemp, sim.cylVolume, sim.userVolume, sim.hgNomPower)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif (sim.error >= 0 ){\r\n\t\t\t\tsf = sim.hgNomPower * 0.1\r\n\t\t\t\t} else { sf = sim.hgNomPower * -0.1 \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlookback = []\r\n\t\t\tcounter = 0\r\n\t\t\tsim.cancel = false\r\n\r\n\t\t\twhile ( sim.cancel === false ){\r\n\t\t\t//while ( counter  <= 10 ){\r\n\t\t\t\tif ( sim.error >= 0 ){\r\n\t\t\t\t\t//console.log('time > oldTime')\r\n\t\t\t\t\tsim.hgNomPower = sim.hgNomPower - sf\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t//console.log('time < oldTime')\r\n\t\t\t\t\tsim.hgNomPower = sim.hgNomPower + sf\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsim.cylTemp = stat.userSetup.heatGenerators[input.hgName].hgOffTemp\t\t\t\t\r\n\t\t\t\tsim.userVolume = 0\r\n\t\t\t\tsim.hwVolume = 0\r\n\t\t\t\tsim.time = 0\r\n\t\t\t\t//console.log(JSON.stringify(sim, null, 2))\r\n\r\n\t\t\t\tsim = heatStorageSimulation(sim,'userVolume', input.scaleUsageVolume)\r\n\t\t\t\t//console.log(sim)\r\n\t\t\t\t//var oldError = error\r\n\t\t\t\tsim.error = ( sim.cylMinTemp - sim.userTemp ) / sim.userTemp\r\n\t\t\t\t\r\n\t\t\t\t//wrong search direction: turn search direction\r\n\t\t\t\tif ( typeof( lookback[3] ) !== 'undefined' ){\r\n\t\t\t\t\t//console.log(Math.abs(sim.error), Math.abs(lookback[0].error), counter )\r\n\r\n\t\t\t\t\tif ( Math.abs(sim.error) > Math.abs(lookback[0].error) ) {\r\n\t\t\t\t\t\t//\tconsole.log('change direction')\r\n\t\t\t\t\t\tsf = sf * -1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif ((sim.error >= 0 && lookback[0].error < 0 ) ||\r\n\t\t\t\t\t\t(sim.error < 0 && lookback[0].error >= 0) ){\r\n\t\t\t\t\t\t//\tconsole.log('refining')\r\n\t\t\t\t\t\t sf = sf * -0.5\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( counter >= 100 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 1, counter max reached!')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = ' && loop exit condition 1, counter maximum reached: ' + counter\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( Math.abs(sim.error) <= 0.001 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 2, error < 0.1%')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = ' && loop exit condition 2, search error smaller 0.001: ' + Math.abs(sim.error)\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( sim.hgNomPower <= 0 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 3: hgNomPower = 0')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = ' && loop exit condition 3, hgNom Power <= 0'\r\n\t\t\t\t\t\t// set here a marker for not using this calculation in nomograph\r\n\t\t\t\t\t\tsim.status3 = true\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet simCopy = JSON.parse(JSON.stringify(sim));\r\n\t\t\t\tlookback.unshift(simCopy) \t\t\t\r\n\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\tconsole.log(counter, sf, sim.error, sim.cylMinTemp, sim.userTemp, sim.userMinTemp, sim.cylVolume, sim.userVolume, sim.hgNomPower)\r\n\t\t\t\t}\r\n\t\t\t\tcounter++\r\n\t\t\t}\r\n\t\t}\r\n\t} \r\n\r\n\tif( typeof(input.scaleStorageVolume) === 'number' && typeof(input.scaleMinimumTemperature) === 'number' ){\r\n\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\tconsole.log('case 5')\r\n\t\t}\r\n\t\t//console.log('now get userVolume according to minimumTemperature === cylMinTemp ')\r\n\t\tif(input.calcType === 'heatStorageCalculation_minimumTemperature' ){\r\n\t\t\tsim.cylVolume = input.scaleStorageVolume\r\n\t\t\tsim.cylTemp = stat.userSetup.heatGenerators[input.hgName].hgOffTemp\r\n\t\t\t\r\n\t\t\tsim = heatStorageSimulation(sim,'cylMinTemp',input.scaleMinimumTemperature)\r\n\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log('-', '-', '-', sim.cylMinTemp, sim.userTemp, sim.userMinTemp, sim.cylVolume, sim.userVolume, sim.hgNomPower)\r\n\t\t\t}\r\n\t\t\tsim.error = ( sim.cylTemp - input.scaleMinimumTemperature ) / input.scaleMinimumTemperature\r\n\t\t\tsim.status2 = ' && no iterated search'\r\n\t\t}\r\n\t} \r\n\r\n\r\n\tif( typeof(input.scaleStorageVolume) === 'number' && typeof(input.scaleHgPower) === 'number' ){\r\n\t\t// return draw-off volume\r\n\t\t\r\n\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\tconsole.log('case 6')\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(input.calcType === 'heatStorageCalculation_usageVolume' ){\r\n\t\t\t//make simulation, to get draw-off volume, stop at 45 deg.\r\n\t\t\tsim.hgNomPower = input.scaleHgPower\r\n\t\t\tsim.cylVolume = input.scaleStorageVolume\r\n\t\t\t//sim.userTemp = \r\n\t\t\t//sim.cylMinTemp = sim.hgOffTemp\r\n\t\t\tsim = heatStorageSimulation(sim,'cylMinTemp',sim.userTemp)\r\n\r\n\t\t\t\r\n\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log('-', '-', '-', sim.cylMinTemp, sim.userTemp, sim.userMinTemp, sim.cylVolume, sim.userVolume, sim.hgNomPower)\r\n\t\t\t}\r\n\r\n\t\t\tsim.error = ( sim.cylMinTemp - sim.userTemp ) / sim.userTemp\r\n\t\t\tsim.status2 = ' && no iterated search'\r\n\t\t}\r\n\t\t\r\n\t\tif(input.calcType === 'heatStorageCalculation_hgPower' ){\r\n\t\t\t//make simulation, to get draw-off volume, stop at 45 deg.\r\n\t\t\tsim.hgNomPower = input.scaleHgPower\r\n\t\t\tsim = heatStorageSimulation(sim,'cylMinTemp',sim.userTemp)\r\n\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log('-', '-', '-', sim.cylMinTemp, sim.userTemp, sim.userMinTemp, sim.cylVolume, sim.userVolume, sim.hgNomPower)\r\n\t\t\t}\r\n\t\t\tsim.error = ( sim.cylMinTemp - sim.userTemp ) / sim.userTemp\r\n\t\t\tsim.status2 = ' && no iterated search'\r\n\t\t}\r\n\t\t\r\n\t} \r\n\r\n\tif( typeof(input.scaleUsageVolume) === 'number' && typeof(input.scaleHgPower) === 'number' ){\r\n\r\n\t\t\r\n\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\tconsole.log('case 7')\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(input.calcType === 'heatStorageCalculation_usageVolume' ){\r\n\t\t\t//make simulation, to get cylinder volume, \r\n\t\t\t// iterate hgPower, stop at userTemp in deg.\r\n\t\t\tsim.hgNomPower = input.scaleHgPower\r\n\t\t\t//sim.cylVolume = 0.5\r\n\t\t\t\r\n\t\t\t//console.log(input.userTemp)\r\n\t\t\tsim = heatStorageSimulation(sim,'cylMinTemp',input.userTemp)\r\n\r\n\t\t\t//sim = heatStorageSimulation(sim,'userVolume',input.scaleUsageVolume)\r\n\r\n\t\t\tsim.error = ( sim.userVolume - input.scaleUsageVolume ) / input.scaleUsageVolume\r\n\t\t\t\r\n\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log(counter, sf, sim.error, sim.cylMinTemp, sim.userTemp, sim.userMinTemp, sim.cylVolume, sim.userVolume, sim.hgNomPower)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif (sim.error >= 0 ){\r\n\t\t\t\tsf = sim.cylVolume * -0.1\r\n\t\t\t\t} else { sf = sim.cylVolume * 0.1 \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlookback = []\r\n\t\t\tcounter = 0\r\n\t\t\tsim.cancel = false\r\n\r\n\t\t\twhile ( sim.cancel === false ){\r\n\t\t\t//while ( counter  <= 10 ){\r\n\t\t\t\tif ( sim.error >= 0 ){\r\n\t\t\t\t\t//console.log('time > oldTime')\r\n\t\t\t\t\tsim.cylVolume = sim.cylVolume - sf\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t//console.log('time < oldTime')\r\n\t\t\t\t\tsim.cylVolume = sim.cylVolume + sf\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsim.cylTemp = stat.userSetup.heatGenerators[input.hgName].hgOffTemp\t\t\t\t\r\n\t\t\t\tsim.cylMinTemp = stat.userSetup.heatGenerators[input.hgName].hgOffTemp\t\t\t\t\r\n\t\t\t\tsim.userVolume = 0\r\n\t\t\t\tsim.hwVolume = 0\r\n\t\t\t\tsim.time = 0\r\n\t\t\t\t//console.log(JSON.stringify(sim, null, 2))\r\n\r\n\t\t\t\tsim = heatStorageSimulation(sim,'cylMinTemp',input.userTemp)\r\n\t\t\t\t//console.log(sim)\r\n\t\t\t\t//var oldError = error\r\n\t\t\t\tsim.error = ( sim.userVolume - input.scaleUsageVolume ) / input.scaleUsageVolume\r\n\t\t\t\t\r\n\t\t\t\t//wrong search direction: turn search direction\r\n\t\t\t\tif ( typeof( lookback[3] ) !== 'undefined' ){\r\n\t\t\t\t\t//console.log(Math.abs(sim.error), Math.abs(lookback[0].error), counter )\r\n\r\n\t\t\t\t\tif ( Math.abs(sim.error) > Math.abs(lookback[0].error) ) {\r\n\t\t\t\t\t\t//\tconsole.log('change direction')\r\n\t\t\t\t\t\tsf = sf * -1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif ((sim.error >= 0 && lookback[0].error < 0 ) ||\r\n\t\t\t\t\t\t(sim.error < 0 && lookback[0].error >= 0) ){\r\n\t\t\t\t\t\t//\tconsole.log('refining')\r\n\t\t\t\t\t\t sf = sf * -0.5\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( counter >= 100 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 1, counter max reached!')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = ' && loop exit condition 1, counter maximum reached: ' + counter\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( Math.abs(sim.error) <= 0.001 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 2, error < 0.1%')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = ' && loop exit condition 2, search error smaller 0.001: ' + Math.abs(sim.error)\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( sim.cylVolume <= 0 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 3: cylVolume = 0')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = ' && loop exit condition 3, cylVolume <= 0'\r\n\t\t\t\t\t\t// set here a marker for not using this calculation in nomograph\r\n\t\t\t\t\t\tsim.status3 = true\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet simCopy = JSON.parse(JSON.stringify(sim));\r\n\t\t\t\tlookback.unshift(simCopy) \t\t\t\r\n\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\tconsole.log(counter, sf, sim.error, sim.cylMinTemp, sim.userTemp, sim.userMinTemp, sim.cylVolume, sim.userVolume, sim.hgNomPower)\r\n\t\t\t\t}\r\n\t\t\t\tcounter++\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( input.calcType === 'heatStorageCalculation_reheatTime' ){\r\n\t\t\t//make simulation, to get reheat time, \r\n\t\t\t// no iteration, start reheat at usage Volume, end reheat at hgOffTemp\r\n\t\t\t\r\n\t\t\tsim.hgNomPower = input.scaleHgPower\r\n\t\t\tsim.userTemp = input.userTemp\r\n\t\t\t\r\n\t\t\tsim = heatStorageSimulation(sim,'userVolumeReheat',input.scaleUsageVolume)\r\n\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log('counter, sf, sim.error, sim.cylMinTemp, sim.userTemp, sim.userMinTemp, sim.cylVolume, sim.userVolume, sim.hgNomPower, sim.reheatTime')\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log(sim)\r\n\t\t\t\tconsole.log(counter, sf, sim.error, sim.cylMinTemp, sim.userTemp, sim.userMinTemp, sim.cylVolume, sim.userVolume, sim.hgNomPower, sim.reheatTime)\r\n\t\t\t}\r\n\r\n\t\t\tsim.error = ( sim.userVolume - input.scaleUsageVolume ) / input.scaleUsageVolume\r\n\t\t\tsim.status2 = ' && no iterated search'\r\n\t\t\t\r\n\t\t}\t\t\r\n\t} \r\n\r\n\tif( typeof(input.scaleReheatTime) === 'number' && typeof(input.scaleHgPower) === 'number' ){\r\n\t\t// Power (is pivot)\r\n\t\t// variation of draw off, start-value = 100liter\r\n\r\n\t\t// error is reheat time!!\r\n\r\n\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\tconsole.log('case 8')\t\t\r\n\t\t}\r\n\r\n\t\tif( input.calcType === 'heatStorageCalculation_reheatTime' ){\r\n\t\t\t\r\n\t\t\tsim.userTemp = input.userTemp\r\n\t\t\tsim.cylTemp = stat.userSetup.heatGenerators[input.hgName].hgOffTemp\r\n\t\t\tsim.hgNomPower = input.scaleHgPower\r\n\t\t\t\r\n\t\t\t// stop sim at userVolume and vary hgPower\r\n\t\t\tsim = heatStorageSimulation(sim,'userVolumeReheat',input.userVolume)\r\n\t\t\tsim.error = ( input.scaleReheatTime - sim.reheatTime) / input.scaleReheatTime\r\n\r\n\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log('counter, sf, sim.error, sim.cylMinTemp, sim.userTemp, sim.userMinTemp, sim.cylVolume, sim.userVolume, sim.hgNomPower, sim.reheatTime')\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log(counter, sf, sim.error, sim.cylMinTemp, sim.userTemp, sim.userMinTemp, sim.cylVolume, sim.userVolume, sim.hgNomPower, sim.reheatTime)\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\tif (sim.error >= 0 ){\r\n\t\t\t\tsf = input.userVolume * 0.1\r\n\t\t\t\t} else { sf = input.userVolume * -0.1 \r\n\t\t\t}\r\n\r\n\t\t\tlookback = []\r\n\t\t\tcounter = 0\r\n\t\t\tsim.cancel = false\r\n\r\n//\t\t\twhile ( counter < 1 ){\r\n\t\t\twhile ( sim.cancel === false ){\r\n\t\t\t\tif ( sim.error >= 0 ){\r\n\t\t\t\t\tinput.userVolume = input.userVolume - sf\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\tinput.userVolume = input.userVolume + sf\r\n\t\t\t\t}\r\n\t\t\t\tsim.userFlowRate = stat.userInput[input.nomoName].userFlowRate\r\n\t\t\t\tsim.cylTemp = stat.userSetup.heatGenerators[input.hgName].hgOffTemp\t\t\t\t\r\n\t\t\t\tsim.userVolume = 0\r\n\t\t\t\tsim.hwVolume = 0\r\n\t\t\t\tsim.time = 0\r\n\t\t\t\tsim.reheatStart = 0\r\n\t\t\t\tsim.reheatStop = 0\r\n\t\t\t\t//console.log(JSON.stringify(sim, null, 2))\r\n\t\t\t\tsim = heatStorageSimulation(sim,'userVolumeReheat',input.userVolume)\r\n\t\t\t\t//console.log(sim)\r\n\t\t\t\t//var oldError = error\r\n\t\t\t\tsim.error = ( input.scaleReheatTime - sim.reheatTime) / input.scaleReheatTime\r\n\t\t\t\t\r\n\t\t\t\t//wrong search direction: turn search direction\r\n\t\t\t\tif ( typeof( lookback[3] ) !== 'undefined' ){\r\n\t\t\t\t\t//console.log(Math.abs(sim.error), Math.abs(lookback[0].error), counter )\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( Math.abs(sim.error) > Math.abs(lookback[0].error) ) {\r\n\t\t\t\t\t\t\t//console.log('change direction')\r\n\t\t\t\t\t\tsf = sf * -1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ((sim.error >= 0 && lookback[0].error < 0 ) ||\r\n\t\t\t\t\t\t(sim.error < 0 && lookback[0].error >= 0) ){\r\n\t\t\t\t\t\t\t//console.log('refining')\r\n\t\t\t\t\t\t sf = sf * -0.5\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( counter >= 80 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 1, counter max reached!')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = ' && loop exit condition 1, counter maximum reached: ' + counter\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( Math.abs(sim.error) <= 0.001 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 2, error < 0.1%')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = ' && loop exit condition 2, search error smaller 0.001: ' + Math.abs(sim.error)\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( sim.hgNomPower <= 0 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 3: hgNomPower = 0')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = ' && loop exit condition 3, hgNom Power <= 0'\r\n\t\t\t\t\t\t// set here a marker for not using this calculation in nomograph\r\n\t\t\t\t\t\tsim.status3 = true\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( sim.error === lookback[0].error ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 4: error no more change in error')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = ' && loop exit condition 4, probably no solution found'\r\n\t\t\t\t\t\t// set here a marker for not using this calculation in nomograph\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet simCopy = JSON.parse(JSON.stringify(sim));\r\n\t\t\t\tlookback.unshift(simCopy) \t\t\t\r\n\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\tconsole.log(counter, sf, sim.error, sim.cylMinTemp, sim.userTemp, sim.userMinTemp, sim.cylVolume, sim.userVolume, sim.hgNomPower, sim.reheatTime)\r\n\t\t\t\t}\r\n\t\t\t\tcounter++\r\n\t\t\t}\r\n\t\t\tconsole.log(counter);\r\n\t\t}\r\n\t} \r\n\r\n\t//console.log(sim)\r\n\treturn( sim )\r\n\t}\r\n\t\r\n\r\n\tif( typeof(input.scaleVolume) === 'number' && typeof(input.scaleDeltaT) === 'number' ){\r\n\t\tif( input.calcType === 'heatStorageCalculation_thermalEnergy' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\r\n\t\t\tsim.cylVolume = input.scaleVolume\r\n\t\t\tsim.cylDeltaT = input.scaleDeltaT\r\n\t\t\t\r\n\t\t\tsim.rho = brine(\r\n\t\t\t\tstat.userInput.hotWaterStorage5.brineType, \r\n\t\t\t\t'rho', \r\n\t\t\t\tstat.userInput.hotWaterStorage5.temperature, \r\n\t\t\t\tstat.userInput.hotWaterStorage5.brineRatio\r\n\t\t\t\t);\r\n\t\t\tsim.cp = brine(\r\n\t\t\t\tstat.userInput.hotWaterStorage5.brineType, \r\n\t\t\t\t'cp', \r\n\t\t\t\tstat.userInput.hotWaterStorage5.temperature, \r\n\t\t\t\tstat.userInput.hotWaterStorage5.brineRatio\r\n\t\t\t\t);\r\n\t\t\tsim.thermalEnergy = sim.cp * sim.rho * sim.cylVolume * sim.cylDeltaT\t\r\n\t\t}\r\n\t}\r\n\tif( typeof(input.scaleVolume) === 'number' && typeof(input.scaleThermalEnergy) === 'number' ){\r\n\t\tif( input.calcType === 'heatStorageCalculation_thermalEnergy' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\r\n\t\t\tsim.cylVolume = input.scaleVolume\r\n\t\t\tsim.thermalEnergy = input.scaleThermalEnergy\r\n\t\t\t\r\n\t\t\tsim.rho = brine(\r\n\t\t\t\tstat.userInput.hotWaterStorage5.brineType, \r\n\t\t\t\t'rho', \r\n\t\t\t\tstat.userInput.hotWaterStorage5.temperature, \r\n\t\t\t\tstat.userInput.hotWaterStorage5.brineRatio\r\n\t\t\t\t);\r\n\t\t\tsim.cp = brine(\r\n\t\t\t\tstat.userInput.hotWaterStorage5.brineType, \r\n\t\t\t\t'cp', \r\n\t\t\t\tstat.userInput.hotWaterStorage5.temperature, \r\n\t\t\t\tstat.userInput.hotWaterStorage5.brineRatio\r\n\t\t\t\t);\r\n\t\t\tsim.cylDeltaT = sim.thermalEnergy / ( sim.cp * sim.rho * sim.cylVolume )\t\r\n\t\t}\r\n\t}\r\n\treturn sim\r\n}\r\n\r\n\r\nexport function expansionVesselCalculation(input){\r\n\tvar sf, counter\r\n\tvar lookback = []\r\n\tif ( input.verboseLevel > 1 ){\r\n\t\tconsole.log(input)\r\n\t}\r\n\t\r\n\tvar sim = {}\r\n\t\r\n\tif( typeof(input.scaleSysVolume) === 'number' && typeof(input.scalePrechargePressure) === 'number' ){\r\n\t\tif ( input.verboseLevel > 2 ){\r\n\t\t\tconsole.log('case 1: calculate expansion vessel size')\r\n\t\t}\r\n\t\tsim.error = 0\r\n\t\tsim.status = 'direct calculation'\r\n\t\tsim.status2 = ''\r\n\t\tsim.systemVolume = input.scaleSysVolume\r\n\t\tsim.prechargePressure = input.scalePrechargePressure\r\n\t\tsim.safetyPressure = userInput.expansionVessel1.systemSafetyPressure\r\n\t\tsim.rho_rt = brine(\r\n\t\t\tuserInput.expansionVessel1.brineType, \r\n\t\t\t'rho', \r\n\t\t\tuserInput.expansionVessel1.roomTemp, \r\n\t\t\tuserInput.expansionVessel1.brineRatio\r\n\t\t);\r\n\t\t\r\n\t\tsim.rho_hot = brine(\r\n\t\t\tuserInput.expansionVessel1.brineType, \r\n\t\t\t'rho', \r\n\t\t\tuserInput.expansionVessel1.maxTemp, \r\n\t\t\tuserInput.expansionVessel1.brineRatio\r\n\t\t);\r\n\t\t\r\n\t\tsim.expansionVolume = 1.25 * ( sim.systemVolume * ( sim.rho_rt - sim.rho_hot ) / sim.rho_hot)\r\n\t\t\r\n\t\tsim.vesselOutput = (( sim.safetyPressure + 1E5 ) - ( sim.prechargePressure + 1E5)) \r\n\t\t\t\t\t\t\t\t\t/ ( sim.safetyPressure + 1E5) \r\n\t\t\t\t\r\n\t\tsim.expansionVesselVolume = sim.expansionVolume / sim.vesselOutput\r\n\r\n\t}\r\n\t\r\n\tif( typeof(input.scaleSysVolume) === 'number' && typeof(input.scaleExpansionVesselVolume) === 'number' ){\r\n\t\t\r\n\t\tif( input.calcType === 'expansionVessel_VesselVolume' ){\r\n\t\t\tif ( input.verboseLevel > 2 ){\r\n\t\t\t\tconsole.log('case 2: calculate precharge pressure')\r\n\t\t\t}\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'direct calculation'\r\n\t\t\tsim.status2 = ''\r\n\r\n\t\t\tsim.systemVolume = input.scaleSysVolume\r\n\t\t\tsim.safetyPressure = userInput.expansionVessel1.systemSafetyPressure\r\n\t\t\tsim.expansionVesselVolume = input.scaleExpansionVesselVolume\r\n\t\t\tsim.maxTemp = userInput.expansionVessel1.maxTemp\r\n\r\n\t\t\tsim.rho_rt = brine(\r\n\t\t\t\tuserInput.expansionVessel1.brineType, \r\n\t\t\t\t'rho', \r\n\t\t\t\tuserInput.expansionVessel1.roomTemp, \r\n\t\t\t\tuserInput.expansionVessel1.brineRatio\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\tsim.rho_hot = brine(\r\n\t\t\t\tuserInput.expansionVessel1.brineType, \r\n\t\t\t\t'rho', \r\n\t\t\t\tuserInput.expansionVessel1.maxTemp, \r\n\t\t\t\tuserInput.expansionVessel1.brineRatio\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\tsim.expansionVolume = 1.25 * ( sim.systemVolume * ( sim.rho_rt - sim.rho_hot ) / sim.rho_hot)\r\n\t\t\tsim.vesselOutput = sim.expansionVolume / sim.expansionVesselVolume \r\n\t\t\tsim.prechargePressure =   sim.safetyPressure - sim.vesselOutput * ( sim.safetyPressure + 1E5)\r\n\r\n\t\t}\r\n\r\n\t\tif( input.calcType === 'expansionVessel_MaximumTemperature' ){\r\n\t\t\tif ( input.verboseLevel > 2 ){\r\n\t\t\t\tconsole.log('case 2b: calculate maximum Temperature')\r\n\t\t\t}\r\n\t\t\tsim.maxTemp = input.startvalue // just a random startpoint for search is needed.\r\n\t\t\tsim.systemVolume = input.scaleSysVolume\r\n//\t\t\tsim.expansionVesselVolume = 0.020\r\n\t\t\tsim.expansionVesselVolume = input.scaleExpansionVesselVolume\r\n\t\t\tsim.prechargePressure = userInput.expansionVessel2.systemPrechargePressure \r\n\t\t\tsim.safetyPressure = userInput.expansionVessel2.systemSafetyPressure \r\n\t\t\tsim.rho_rt = brine(\r\n\t\t\t\tuserInput.expansionVessel2.brineType, \r\n\t\t\t\t'rho', \r\n\t\t\t\tuserInput.expansionVessel2.roomTemp, \r\n\t\t\t\tuserInput.expansionVessel2.brineRatio\r\n\t\t\t);\r\n\t\t\tsim.vesselOutput = (( sim.safetyPressure + 1E5 ) - ( sim.prechargePressure + 1E5)) \r\n\t\t\t\t\t\t\t\t\t/ ( sim.safetyPressure + 1E5) \r\n\t\t\tsim.expansionVolume = sim.vesselOutput * sim.expansionVesselVolume\r\n\t\t\t//sim.expansionVolume = 1.25 * ( sim.systemVolume * ( sim.rho_rt - sim.rho_hot ) / sim.rho_hot)\r\n\t\t\tsim.rho_hot = sim.rho_rt / ( sim.expansionVolume /(1.25 * sim.systemVolume) + 1)\r\n\t\t\t\r\n\t\t\t// now iterate temp to get rho equal\r\n\r\n\r\n\r\n\t\t\tsim.rho_temp = brine(\r\n\t\t\t\tuserInput.expansionVessel2.brineType, \r\n\t\t\t\t'rho', \r\n\t\t\t\tsim.maxTemp, \r\n\t\t\t\tuserInput.expansionVessel2.brineRatio\r\n\t\t\t);\r\n\r\n\t\t\tsim.error = ( sim.rho_hot - sim.rho_temp) / sim.rho_hot\r\n\r\n\t\t\tif ( input.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log('counter, sf, sim.error, sim.rho_hot, sim.rho_temp, sim.maxTemp')\r\n\t\t\t\tconsole.log(counter, sf, sim.error, sim.rho_hot, sim.rho_temp, sim.maxTemp)\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\tif (sim.error >= 0 ){\r\n\t\t\t\tsf = sim.maxTemp * -0.1\r\n\t\t\t\t} else { sf = sim.maxTemp * 0.1 \r\n\t\t\t}\r\n\r\n\t\t\tlookback = []\r\n\t\t\tcounter = 0\r\n\t\t\tsim.cancel = false\r\n\r\n\t\t\t//console.log(JSON.stringify(sim,null,2))\r\n\r\n//\t\t\twhile ( counter < 1 ){\r\n\t\t\twhile ( sim.cancel === false ){\r\n\t\t\t\tif ( sim.error >= 0 ){\r\n\t\t\t\t\tsim.maxTemp = sim.maxTemp - sf\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\tsim.maxTemp = sim.maxTemp + sf\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsim.rho_temp = brine(\r\n\t\t\t\t\tuserInput.expansionVessel2.brineType, \r\n\t\t\t\t\t'rho', \r\n\t\t\t\t\tsim.maxTemp, \r\n\t\t\t\t\tuserInput.expansionVessel2.brineRatio\r\n\t\t\t\t);\r\n\r\n\t\t\t\tsim.error = ( sim.rho_hot - sim.rho_temp) / sim.rho_hot\r\n\t\t\t\t\r\n\t\t\t\t//wrong search direction: turn search direction\r\n\t\t\t\tif ( typeof( lookback[0] ) !== 'undefined' ){\r\n\t\t\t\t\t//console.log(Math.abs(sim.error), Math.abs(lookback[0].error), counter )\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( Math.abs(sim.error) > Math.abs(lookback[0].error) ) {\r\n\t\t\t\t\t\t\t//console.log('change direction')\r\n\t\t\t\t\t\tsf = sf * -1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ((sim.error >= 0 && lookback[0].error < 0 ) ||\r\n\t\t\t\t\t\t(sim.error < 0 && lookback[0].error >= 0) ){\r\n\t\t\t\t\t\t\t//console.log('refining')\r\n\t\t\t\t\t\t sf = sf * -0.5\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( counter >= 50 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 1, counter max reached!')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = ' && loop exit condition 1, counter maximum reached: ' + counter\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( Math.abs(sim.error) <= 0.00001 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 2, error < 0.1%')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = ' && loop exit condition 2, search error smaller 0.001: ' + Math.abs(sim.error)\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( sim.maxTemp > 120 || sim.maxTemp < 0 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 3, out of range')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = ' && loop exit condition 3, temperature is out of range -50..100: ' + sim.maxTemp\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( sim.error === lookback[0].error ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 4: error no more change in error')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = ' && loop exit condition 4, probably no solution found'\r\n\t\t\t\t\t\t// set here a marker for not using this calculation in nomograph\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet simCopy = JSON.parse(JSON.stringify(sim));\r\n\t\t\t\tlookback.unshift(simCopy) \t\t\t\r\n\r\n\t\t\t\tif ( input.verboseLevel > 1 ){\r\n\t\t\t\t\tconsole.log(counter, sf, sim.error, sim.rho_hot, sim.rho_temp, sim.maxTemp)\r\n\t\t\t\t}\r\n\t\t\t\tcounter++\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tif( typeof(input.scaleSysVolume) === 'number' && typeof(input.scaleMaximumTemp) === 'number' ){\r\n\t\tif( input.calcType === 'expansionVessel_MaximumTemperature' ){\r\n\t\t\tif ( input.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log('case 3: calculate Expansion Vessel Size')\r\n\t\t\t}\r\n\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'direct calculation'\r\n\t\t\tsim.status2 = ''\r\n\r\n\t\t\tsim.systemVolume = input.scaleSysVolume\r\n\t\t\tsim.maxTemp = input.scaleMaximumTemp\r\n\t\t\tsim.prechargePressure = userInput.expansionVessel2.systemPrechargePressure \r\n\t\t\tsim.safetyPressure = userInput.expansionVessel2.systemSafetyPressure \r\n\r\n\r\n\r\n\r\n\t\t\tsim.rho_rt = brine(\r\n\t\t\t\tuserInput.expansionVessel2.brineType, \r\n\t\t\t\t'rho', \r\n\t\t\t\tuserInput.expansionVessel2.roomTemp, \r\n\t\t\t\tuserInput.expansionVessel2.brineRatio\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\tsim.rho_hot = brine(\r\n\t\t\t\tuserInput.expansionVessel2.brineType, \r\n\t\t\t\t'rho', \r\n\t\t\t\tsim.maxTemp, \r\n\t\t\t\tuserInput.expansionVessel2.brineRatio\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\tsim.expansionVolume = 1.25 * ( sim.systemVolume * ( sim.rho_rt - sim.rho_hot ) / sim.rho_hot)\r\n\t\t\t\r\n\t\t\tsim.vesselOutput = (( sim.safetyPressure + 1E5 ) - ( sim.prechargePressure + 1E5)) \r\n\t\t\t\t\t\t\t\t\t\t/ ( sim.safetyPressure + 1E5) \r\n\t\t\t\t\t\r\n\t\t\tsim.expansionVesselVolume = sim.expansionVolume / sim.vesselOutput\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn sim\r\n}\r\n\r\nfunction interpolate1D(table, x0){\r\n\t//table is a object. contains: x , val\r\n\t//value is a value to lookup \r\n\t//field is the name of the output wanted!\r\n\t//console.log(table, x0)\r\n\r\n\tvar length, i, order, end=0, cb\r\n\tlength=Object.keys(table).length\r\n\r\n\tif (x0 >= table[0].x && x0 <= table[length - 1].x){\r\n\r\n\t\tif ( table[0].x > table[1].x ){ order = 'reverse'}\r\n\r\n\t\tif ( order === 'reverse' ){\r\n\t\t\ti=length - 1\r\n\t\t\tif ( (x0 > table[0].x) || (x0 < table[length - 1].x) ){\r\n\t\t\t\tconsole.log('WARNING! table-lookup was extrapolated.') \r\n\t\t\t\tconsole.log('WARNING: ' + x0 + ' not in ' + table[0].x + '..' + table[length - 1].x )\r\n\t\t\t\t}\r\n\r\n\t\t\tend = 0\r\n\t\t\twhile ( end === 0){\r\n\t\t\t\tif ( i > 0 && table[i].x <= x0 ){ \r\n\t\t\t\t\ti-- \r\n\t\t\t\t\t} else { \r\n\t\t\t\t\tend = 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\t\t\r\n\r\n\r\n\t\tif ( order !== 'reverse' ){\r\n\t\t\ti=0\r\n\t\t\tif ( (x0 < table[0].x) || (x0 > table[length - 1].x) ){\r\n\t\t\t\tconsole.log('WARNING! table-lookup was extrapolated.') \r\n\t\t\t\tconsole.log('WARNING! ' + x0 + ' not in ' + table[0].x + '..' + table[length - 1].x )\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\tend = 0\r\n\t\t\twhile ( end === 0){\r\n\t\t\t\tif ( i < length && table[i].x <= x0 ){ \r\n\t\t\t\t\ti++ \r\n\t\t\t\t\t} else { \r\n\t\t\t\t\tend = 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\tif ( order === 'reverse' ){ i = i + 1 }\r\n\r\n\r\n\t\tif (i === 0){\r\n\r\n\t\t\tcb = interpolate(\r\n\t\t\ttable[i].x, \r\n\t\t\ttable[i].val, \r\n\t\t\ttable[i+1].x, \r\n\t\t\ttable[i+1].val, \r\n\t\t\tx0)\r\n\t\t\t}\r\n\r\n\t\tif ( i > 0 && i < length){\r\n\r\n\t\t\tcb = interpolate(\r\n\t\t\ttable[i-1].x, \r\n\t\t\ttable[i-1].val, \r\n\t\t\ttable[i].x, \r\n\t\t\ttable[i].val, \r\n\t\t\tx0)\r\n\t\t\t} \r\n\t\t\t\r\n\t\tif ( i >= length){\r\n\t\t\tcb = interpolate(\r\n\t\t\ttable[i-2].x, \r\n\t\t\ttable[i-2].val, \r\n\t\t\ttable[i-1].x, \r\n\t\t\ttable[i-1].val, \r\n\t\t\tx0)\r\n\t\t\t}\r\n\r\n\t}\r\n\telse {\r\n\t\tcb = 'error'\r\n\t\t//console.log( 'x0 out of table ' + x0, length)\r\n\t}\r\n\treturn (cb)\r\n}\r\n\r\nfunction interpolate2D(table, x0, y0){\r\n\t//search all values around datapoint.\r\n\t// dataset must be sorted: ascending 1.Y  2.X  3.value\r\n\t// dataset must be a filled square shaped matrix !! no missing points.\r\n\t//y<y0, y>y0, x<x0, x>x0\r\n\t//just for testing:\r\n\r\n\tvar index={}\r\n\tvar value={}\r\n\tvar length = Object.keys(table).length\r\n\tvar i , dimension = {}\r\n\tvar m = {\r\n\t\ta1 : {},\r\n\t\ta2 : {},\r\n\t\ta3 : {},\r\n\t\tb2 : {x: x0, y: y0},\r\n\t\tc1 : {},\r\n\t\tc2 : {},\r\n\t\tc3 : {},\r\n\t\t}\r\n\t\r\n\tif (x0 >= table[0].x && x0 <= table[length - 1].x && \r\n\t\ty0 >= table[0].y && y0 <= table[length - 1].y ){\r\n\t\r\n\t\t\r\n\t\tdimension.v = 1\r\n\t\ti=0\r\n\t\tif ( typeof(table[i].x) === 'number' && typeof(table[i].y) !== 'number' ){\r\n\t\t\tdimension.u = length\r\n\t\t\tdimension.v = 1\r\n\t\t\tdimension.w = 1\r\n\t\t}\r\n\t\t\r\n\t\tif ( typeof(table[i].x) === 'number' && typeof(table[i].y) === 'number' ){\r\n\t\t\tfor (i = 1; i < length; i++){\r\n\t\t\t\tif (table[i].y !== table[i-1].y){ dimension.v++ }\r\n\t\t\t}\t\r\n\t\t\tdimension.u = length / dimension.v\r\n\t\t\tdimension.w = 1\r\n\t\t}\r\n\r\n\t/*\tif ( x0 < table[0].x || x0 > table[length -1 ].x ){ \r\n\t\t\tconsole.log('WARNING! x0 out of range', \r\n\t\t\tx0 ,\r\n\t\t\t'not in', \r\n\t\t\ttable[0].x, \r\n\t\t\ttable[length -1 ].x,\r\n\t\t\t'table length:' ,\r\n\t\t\tlength )}\r\n\t\t\t\r\n\t\tif ( y0 < table[0].y || x0 > table[length -1 ].y ){ \r\n\t\t\t//console.log('WARNING! y0 out of range', \r\n\t\t\ty0 ,\r\n\t\t\t'not in', \r\n\t\t\ttable[0].y, \r\n\t\t\ttable[length -1 ].y,\r\n\t\t\t'table length:' ,\r\n\t\t\tlength )}\r\n\t\t\t*/\r\n\t\tif ( length !== dimension.u * dimension.v){\r\n\t\t\tconsole.log('WARNING! Wrong number of elements in matrix. May be not rectangle shaped!')\r\n\t\t}\r\n\r\n\t\ti = 0\r\n\t\twhile ( table[i].y < y0 ){\r\n\t\t\ti++\r\n\t\t}\r\n\t\twhile ( table[i].x < x0 ){\r\n\t\ti++\r\n\t\t}\r\n\t\t\r\n\t\tm.c3.index = i\r\n\t\tm.c1.index = i - 1\r\n\t\tm.a1.index = m.c1.index - dimension.u\r\n\t\tm.a3.index = m.c3.index - dimension.u\r\n\r\n\t\tm.c3.value = table[m.c3.index].val\r\n\t\tm.c1.value = table[m.c1.index].val\r\n\t\tm.a1.value = table[m.a1.index].val\r\n\t\tm.a3.value = table[m.a3.index].val\r\n\r\n\t\tm.c3.x = table[m.c3.index].x\r\n\t\tm.c1.x = table[m.c1.index].x\r\n\t\tm.a1.x = table[m.a1.index].x\r\n\t\tm.a3.x = table[m.a3.index].x\r\n\r\n\t\tm.c3.y = table[m.c3.index].y\r\n\t\tm.c1.y = table[m.c1.index].y\r\n\t\tm.a1.y = table[m.a1.index].y\r\n\t\tm.a3.y = table[m.a3.index].y\r\n\r\n\r\n\t\t//interpolate between a1 and a3 new value: a2\r\n\t\tm.a2.value = interpolate(\r\n\t\t\tm.a1.x, \r\n\t\t\tm.a1.value, \r\n\t\t\tm.a3.x, \r\n\t\t\tm.a3.value, \r\n\t\t\tm.b2.x\r\n\t\t)\r\n\t\tm.a2.y = m.a1.y\r\n\t\t//interpolate between c1 and c3 new value: c2\r\n\t\tm.c2.value = interpolate(\r\n\t\t\tm.c1.x, \r\n\t\t\tm.c1.value, \r\n\t\t\tm.c3.x, \r\n\t\t\tm.c3.value, \r\n\t\t\tm.b2.x\r\n\t\t)\r\n\t\tm.c2.y = m.c1.y\r\n\r\n\t\t//interpolate between a2 and c2 new value: b2\r\n\t\tm.b2.value = interpolate(\r\n\t\t\tm.a2.y, \r\n\t\t\tm.a2.value, \r\n\t\t\tm.c2.y, \r\n\t\t\tm.c2.value, \r\n\t\t\tm.b2.y\r\n\t\t)\r\n\r\n\t}\r\n\r\n\telse {\r\n\t\tm.b2.value='error'\r\n\t\t//console.log('x0 or y0 out of table ' + x0, y0, length)\r\n\t}\r\n\treturn (m.b2.value)\r\n}\r\n\r\n\r\nfunction interpolate3D(table, x0, y0, z0){\r\n\t//cut table to the values next to z0 and send to 2D interpolate\r\n\t\r\n\t//interpolate then linear between these two values!!\r\n\tvar length = Object.keys(table).length\r\n\r\n\tif (x0 >= table[0].x && x0 <= table[length - 1].x && \r\n\t\ty0 >= table[0].y && y0 <= table[length - 1].y &&\r\n\t\tz0 >= table[0].z && z0 <= table[length - 1].z ){\r\n\r\n\t\tvar i, j, z_u, z_l, part_table=[], index\r\n\t\t\r\n\t\t//checking getting upper and lower boundary coordinates!\r\n\t\ti=0\r\n\t\tfor (i=0; i < length; i++){\r\n\t\t\tif ( i >= 1 ){\r\n\t\t\t\tif ( z0 > table[ i-1 ].z  && z0 < table[ i ].z ){\r\n\t\t\t\t\tz_u = table[i].z\r\n\t\t\t\t\tz_l = table[i-1].z \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( z0 === 0 ){\r\n\t\t\t\tz_u = 1\r\n\t\t\t\tz_l = 0\r\n\t\t\t}\r\n\t\t\tif ( z0 === table[length - 1].z ){\r\n\t\t\t\tz_u = table[length - 1].z\r\n\t\t\t\tz_l = table[length - 2].z\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t// making par_table for lower boundary\r\n\t\tj=0\r\n\t\tfor (i=0; i < length; i++){\r\n\t\t\tif ( table[i].z === z_l ){\r\n\t\t\t\tpart_table[j]={val: table[i].val , x: table[i].x , y:table[i].y}\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar val_z_l = interpolate2D(part_table, x0, y0)\r\n\r\n\r\n\t\t// making par_table for upper boundary\r\n\t\tj=0\r\n\t\tfor (i=0; i < length; i++){\r\n\t\t\tif ( table[i].z === z_u ){\r\n\t\t\t\tpart_table[j]={val: table[i].val , x: table[i].x , y:table[i].y}\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar val_z_u = interpolate2D(part_table, x0, y0)\r\n\r\n\r\n\r\n\t\tvar value = interpolate(\r\n\t\t\tz_l, \r\n\t\t\tval_z_l, \r\n\t\t\tz_u, \r\n\t\t\tval_z_u, \r\n\t\t\tz0\r\n\t\t)\r\n\t\t// console.log( z_l, val_z_l, z_u, val_z_u, z0, value )\r\n\t} else {\r\n\t\tvalue = 'error'\r\n\t\t//console.log('x0 or y0 or z0 out of table ' + x0, y0, z0, length)\r\n\t}\r\n\treturn (value)\r\n}\r\n\r\nfunction bs_1264_calculation(sim){\r\n\t\r\n\tif ( sim.systemType === 'A' || sim.systemType === 'C' ){\r\n\r\n\r\n\t\tsim.alpha=10.8\r\n\t\tsim.lambda_u0=1\r\n\t\tsim.s_u0=0.045\r\n\t\tsim.a_T=interpolate1D(britishStandard.tableA1 , sim.R_lambdaB)\r\n\t\tsim.a_u=interpolate2D(britishStandard.tableA2, sim.R_lambdaB, sim.T)\r\n\t\tsim.a_D=interpolate2D(britishStandard.tableA3, sim.R_lambdaB, sim.T)\r\n\t\tsim.B_0=6.7\r\n\t\tsim.a_B=(1 / sim.alpha + sim.s_u0 / sim.lambda_u0) / ( 1/sim.alpha + sim.s_E / sim.lambda_E + sim.R_lambdaB )\r\n\t\tsim.m_T = 1 - sim.T / 0.075\r\n\t\tsim.m_u = 100 * ( 0.045 - sim.s_E )\r\n\t\tsim.m_D = 250 * (stat.userInput.floorHeating1.pipeDiameter - 0.020)\r\n\t\tsim.q=sim.B_0 * sim.a_B * Math.pow(sim.a_T, sim.m_T) * Math.pow(sim.a_u, sim.m_u) * Math.pow(sim.a_D, sim.m_D) * sim.deltaTemp\r\n\t\tsim.floorTemp = Math.pow(sim.q / 8.92, 1/1.11) + stat.userInput.floorHeating1.roomTemp ;\r\n\t\t\r\n\t\tif ( sim.a_T === 'error' || sim.a_u === 'error' || sim.a_D === 'error'  ){ \r\n\t\t\tsim.status = 'fail' \r\n\t\t\tsim.status2 = sim.a_T  + ' ' + sim.a_u +  ' ' + sim.a_D }\r\n\t\tif ( isNaN(sim.q) ){ sim.status = 'fail' } else {sim.status = 'success'}\r\n\t}\r\n\tif ( sim.systemType === 'B' ){\r\n\t\tsim.alpha=10.8\r\n\t\tsim.s_u0=0.045\r\n\t\tsim.lambda_u0=1\r\n\t\t// the following must be defined into sim one level up already!!\r\n\t\t//sim.D = stat.userInput.floorHeating1.pipeDiameter\r\n\t\t//sim.s_E = stat.userInput.floorHeating1.s_E\r\n\t\t//sim.lambda_E = stat.userInput.floorHeating1.lambda_E // 1.2\r\n\t\t//sim.s_WL = stat.userInput.floorHeating1.s_WL\r\n\t\t//sim.lambda_WL = stat.userInput.floorHeating1.lambda_WL\r\n\t\t//sim.T=stat.userInput.floorHeating1.pipeDistance\r\n\t\t\r\n\r\n\r\n\t\tsim.a_u=((1/sim.alpha) + (sim.s_u0/sim.lambda_u0))/( (1/sim.alpha) + (sim.s_E/sim.lambda_E))\r\n\t\tsim.a_T=interpolate1D(britishStandard.tableA1 , sim.R_lambdaB)\r\n\t\tsim.m_T = 1 - sim.T / 0.075\r\n\t\tsim.B_0=6.5\r\n\t\tsim.b_u = interpolate1D(britishStandard.tableA7 , sim.T)\t\t\t\r\n\t\tsim.K_WL = (sim.s_WL * sim.lambda_WL + sim.b_u * sim.s_E * sim.lambda_E)/0.125\r\n\r\n\t\tif ( typeof(sim.K_WL) === 'number' ){\r\n\t\t\tif ( sim.K_WL <= 1){\r\n\t\t\t\tsim.a_WL = interpolate3D(britishStandard.tableA8 , sim.D , sim.T , sim.K_WL)\t// --> table A8\r\n\t\t\t} else {\r\n\t\t\t\tsim.a_WL_inf = interpolate3D(britishStandard.tableA8 , sim.D , sim.T , 10000)\r\n\t\t\t\tsim.a_WL_null = interpolate3D(britishStandard.tableA8 , sim.D , sim.T , 0 )\r\n\t\t\t\tif ( sim.a_WL_inf === 'error' || sim.a_WL_null === 'error' || sim.K_WL === 'error' ){\r\n\t\t\t\t\tsim.a_WL = 'error' \r\n\t\t\t\t\t} else {\r\n\t\t\t\t\tsim.a_WL = sim.a_WL_inf - ( sim.a_WL_inf - sim.a_WL_null ) * Math.pow( ( (sim.a_WL_inf - 1) / (sim.a_WL_inf - sim.a_WL_null)) , sim.K_WL)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsim.K_WL = 'error'\r\n\t\t}\r\n\r\n\r\n\t\tsim.a_K = interpolate1D(britishStandard.tableA9 , sim.T)\r\n\t\tsim.a_B=(1 / ( 1 + sim.B_0 * sim.a_u * Math.pow(sim.a_T, sim.m_T) * sim.a_WL * sim.a_K * sim.R_lambdaB * (1 + 0.44 * Math.sqrt(sim.T) )) )\r\n\t\tsim.q=sim.B_0 * sim.a_B * Math.pow(sim.a_T, sim.m_T) * sim.a_u * sim.a_WL * sim.a_K * sim.deltaTemp\r\n\t\tsim.floorTemp = Math.pow(sim.q / 8.92, 1/1.11) + stat.userInput.floorHeating1.roomTemp ;\r\n\r\n\t\tif ( sim.a_T === 'error' || sim.a_u === 'error' || sim.a_WL === 'error' || sim.b_u === 'error' ){\r\n\t\t\tsim.status = 'fail' \r\n\t\t\tsim.status2 = sim.a_T  + ' ' + sim.a_u +  ' ' + sim.a_WL +  ' ' +  sim.b_u  }\t\t\r\n\t\t\tif ( isNaN(sim.q) ){ sim.status = 'fail' } else {sim.status = 'success'}\r\n\t\t\t\r\n\t}\r\n\t\r\n\tif ( sim.systemType === 'U' ){\r\n\t\t//this is for the underground heat loss\r\n\t\tconsole.log('add math for heat loss underground!');\r\n\t\t\r\n\t}\r\n\t//onsole.log(sim)\r\n\treturn sim\r\n}\r\n\r\nexport function floorHeatingCalculation(input){\r\n\tvar sf, counter\r\n\tvar lookback = []\r\n\tvar sim = {}\r\n\tsim.verboseLevel = input.verboseLevel\r\n\tif ( input.verboseLevel > 1 ){\r\n\t\tconsole.log(input)\r\n\t}\r\n\r\n\tif( typeof(input.scaleFlowRate) === 'number' && typeof(input.scalePipeLength) === 'number' ){\r\n\t\tsim.error = 0\r\n\t\tsim.status = 'success'\r\n\t\tsim.status2 = 'direct calculation'\r\n\t\tsim.flowRate = input.scaleFlowRate\r\n\t\tsim.diameter = stat.userInput.floorHeating3.pipeDiameter\r\n\t\tsim.length = input.scalePipeLength\r\n\t\tsim.deltaTemp = input.deltaTemp\r\n\t\tpressureDrop(sim);\t\t\r\n\t}\r\n\r\n\tif( typeof(input.scalePressureDrop) === 'number' && typeof(input.scalePipeLength) === 'number' ){\r\n\r\n\t\tif (input.calcType === 'floorHeating_pressureDrop'){\r\n\t\t\t//calculate pipeLength based on Pressure Drop\r\n\t\t\t// keep diameter and vary flowRate to find pressureDrop!!\r\n\t\t\tsim.verboseLevel = input.verboseLevel\r\n\t\t\tsim.diameter = stat.userInput.floorHeating3.pipeDiameter\r\n\t\t\tsim.pressureDrop = input.scalePressureDrop\r\n\t\t\tsim.flowRate = input.startvalue\r\n//\t\t\tsim.length = stat.userInput.pipeCalculation.pipeLength\r\n\t\t\tsim.length = input.scalePipeLength\r\n\r\n\t\t\tsim = pressureDrop(sim);\r\n\t\t\t\r\n\t\t\tsim.error = ( sim.pressureDrop - input.scalePressureDrop )/ input.scalePressureDrop\r\n\t\t\t\r\n\t\t\tif (sim.error > 0 ){\r\n\t\t\t\tsim.sf = input.startvalue * 0.2\r\n\t\t\t\t} else { sim.sf = input.startvalue * -0.2 \r\n\t\t\t}\r\n\t\t\tsim.counter = 0\r\n\t\t\tlookback = []\r\n\t\t\tsim.cancel = false\r\n\t\t\twhile ( sim.cancel === false ){\r\n\t\t\t//\t\twhile ( counter  <= 30 ){\r\n\t\t\t\tif (sim.error > 0 ){\r\n\t\t\t\t\tsim.flowRate = sim.flowRate + sim.sf\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\tsim.flowRate = sim.flowRate - sim.sf\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\tsim = pressureDrop(sim);\r\n\t\t\tsim.error = ( sim.pressureDrop - input.scalePressureDrop )/ input.scalePressureDrop\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif ( typeof( lookback[2] ) !== 'undefined' ){\r\n\r\n\t\t\t\t\tif ( Math.abs(sim.error) > Math.abs(lookback[0].error) ) {\r\n\t\t\t\t\t\tsim.sf = sim.sf * -1\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif ((sim.error >= 0 && lookback[0].error < 0 ) ||\r\n\t\t\t\t\t\t(sim.error < 0 && lookback[0].error >= 0) ){\r\n\t\t\t\t\t\t sim.sf = sim.sf * -0.5\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( sim.flowRate <= 0 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 1')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = 'flowRate < 0'\r\n\t\t\t\t\t\tsim.status = 'error'\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( Math.abs(sim.error) <= 0.00001 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 2')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = 'minimum error reached!'\r\n\t\t\t\t\t\tsim.status = 'success'\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( sim.counter >= 50 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 3')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status2 = 'maximum counter reached'\r\n\t\t\t\t\t\tsim.status = 'error'\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet simCopy = JSON.parse(JSON.stringify(sim));\r\n\t\t\t\tlookback.unshift(simCopy) \t\t\t\r\n\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\tconsole.log(sim.counter, sim.sf, sim.error, sim.flowRate, sim.pressureDrop )\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsim.counter++\r\n\t\t\t}\r\n\t\t\t//console.log(sim)\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tif( typeof(input.scaleFloorCoverResistance) === 'number' && typeof(input.scaleMeanTemp) === 'number' ){\r\n\t\t//collect input data for calculation according to BS\r\n\t\tif( input.calcType === 'floorHeating1_Power' ){\r\n\t\t\tsim.mwt = input.scaleMeanTemp\r\n\t\t\tsim.R_lambdaB=input.scaleFloorCoverResistance\r\n\r\n\t\t\tsim.systemType=stat.userInput.floorHeating1.systemType\r\n\t\t\tsim.deltaTemp = sim.mwt - stat.userInput.floorHeating1.roomTemp\r\n\t\t\tsim.R_lambdaB = stat.userInput.floorHeating1.R_lambdaB\r\n\t\t\tsim.D = stat.userInput.floorHeating1.pipeDiameter\r\n\t\t\tsim.s_E = stat.userInput.floorHeating1.s_E\r\n\t\t\tsim.lambda_E = stat.userInput.floorHeating1.lambda_E // 1.2\r\n\t\t\tsim.s_WL = stat.userInput.floorHeating1.s_WL\r\n\t\t\tsim.lambda_WL = stat.userInput.floorHeating1.lambda_WL\r\n\r\n\t\t\tsim.systemType=stat.userInput.floorHeating1.systemType\r\n\t\t\tsim.deltaTemp = sim.mwt - stat.userInput.floorHeating1.roomTemp\r\n\r\n\r\n\t\t\tsim.error = 0\r\n\t\t\tsim = bs_1264_calculation(sim)\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tif( typeof(input.scalePower) === 'number' && typeof(input.scaleMeanTemp) === 'number' ){\t\r\n\t\tif( input.calcType === 'floorHeating1_Power' ){\r\n\t\t\tsim.mwt = input.scaleMeanTemp\r\n\t\t\tsim.R_lambdaB = input.startvalue\r\n\r\n\r\n\r\n\t\t\t// variation of sim.R_lambdaB until input.scalePower === sim.q\r\n\r\n\t\t\tsim = bs_1264_calculation(sim)\t\t\r\n\t\t\tsim.error = ( sim.q - input.scalePower ) / input.scalePower\r\n\r\n\t\t\t// set start direction of search\r\n\t\t\tif (sim.error > 0 ){\r\n\t\t\t\tsf = input.startvalue * 0.2\r\n\t\t\t\t} else { sf = input.startvalue * -0.2\r\n\t\t\t}\r\n\t\t\tcounter = 0\r\n\t\t\tlookback = []\r\n\t\t\tsim.cancel = false\r\n\t\t\twhile ( sim.cancel === false ){\r\n\t\t\t//\t\twhile ( counter  <= 30 ){\r\n\t\t\t\tif (sim.error > 0 ){\r\n\t\t\t\t\tsim.R_lambdaB = sim.R_lambdaB + sf\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\tsim.R_lambdaB = sim.R_lambdaB - sf\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tsim = bs_1264_calculation(sim)\t\t\r\n\t\t\t\tsim.error = ( sim.q - input.scalePower ) / input.scalePower\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif ( typeof( lookback[2] ) !== 'undefined' ){\r\n\r\n\t\t\t\t\tif ( Math.abs(sim.error) > Math.abs(lookback[0].error) ) {\r\n\t\t\t\t\t\tsf = sf * -1\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif ((sim.error >= 0 && lookback[0].error < 0 ) ||\r\n\t\t\t\t\t\t(sim.error < 0 && lookback[0].error >= 0) ){\r\n\t\t\t\t\t\t sf = sf * -0.5\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( sim.R_lambdaB <= 0 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 1')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( Math.abs(sim.error) <= 0.00001 || counter >= 50 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 2')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet simCopy = JSON.parse(JSON.stringify(sim));\r\n\t\t\t\tlookback.unshift(simCopy) \t\t\t\r\n\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\tconsole.log(counter, sf, sim.error, sim.sma4, sim.q, input.scalePower, sim.R_lambdaB )\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcounter++\r\n\t\t\t}\r\n\t\t\t//console.log(sim)\r\n\t\t}\r\n\r\n\t\tif( input.calcType === 'floorHeating4_Power' ){\r\n\r\n\t\t\tsim.mwt = input.scaleMeanTemp\r\n\t\t\tsim.T = input.startvalue\r\n\r\n\t\t\tsim.systemType=stat.userInput.floorHeating4.systemType\r\n\t\t\tsim.deltaTemp = sim.mwt - stat.userInput.floorHeating4.roomTemp\r\n\t\t\tsim.R_lambdaB = stat.userInput.floorHeating4.R_lambdaB\r\n\t\t\tsim.D = stat.userInput.floorHeating4.pipeDiameter\r\n\t\t\tsim.s_E = stat.userInput.floorHeating4.s_E\r\n\t\t\tsim.lambda_E = stat.userInput.floorHeating4.lambda_E // 1.2\r\n\t\t\tsim.s_WL = stat.userInput.floorHeating4.s_WL\r\n\t\t\tsim.lambda_WL = stat.userInput.floorHeating4.lambda_WL\r\n\r\n\t\t\t\r\n\t\t\tsim = bs_1264_calculation(sim)\t\t\r\n\t\t\tsim.error = ( sim.q - input.scalePower ) / input.scalePower\r\n\r\n\t\t\t// set start direction of search\r\n\t\t\tif (sim.error < 0 ){\r\n\t\t\t\tsf = input.startvalue * 0.1\r\n\t\t\t\t} else { sf = input.startvalue * -0.1\r\n\t\t\t}\r\n\t\t\tcounter = 0\r\n\t\t\tlookback = []\r\n\t\t\tsim.cancel = false\r\n\t\t\twhile ( sim.cancel === false ){\r\n\t\t\t//\t\twhile ( counter  <= 30 ){\r\n\t\t\t\tif (sim.error > 0 ){\r\n\t\t\t\t\tsim.T = sim.T + sf\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\tsim.T = sim.T - sf\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tsim = bs_1264_calculation(sim)\t\t\r\n\t\t\t\tsim.error = ( sim.q - input.scalePower ) / input.scalePower\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif ( typeof( lookback[2] ) !== 'undefined' ){\r\n\r\n\t\t\t\t\tif ( Math.abs(sim.error) > Math.abs(lookback[0].error) ) {\r\n\t\t\t\t\t\tsf = sf * -1\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif ((sim.error >= 0 && lookback[0].error < 0 ) ||\r\n\t\t\t\t\t\t(sim.error < 0 && lookback[0].error >= 0) ){\r\n\t\t\t\t\t\t sf = sf * -0.5\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( sim.T <= 0.02 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 1')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tif ( sim.T >= 0.45 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 2')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( Math.abs(sim.error) <= 0.0001 || counter >= 50 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 3')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet simCopy = JSON.parse(JSON.stringify(sim));\r\n\t\t\t\tlookback.unshift(simCopy) \t\t\t\r\n\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\tconsole.log(counter, sf, sim.error, sim.q, input.scalePower, sim.T )\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcounter++\r\n\t\t\t}\r\n\t\t\t//console.log(sim)\r\n\t\t}\r\n\r\n\r\n\t}\r\n\t\r\n\tif( typeof(input.scaleFloorArea) === 'number' && typeof(input.scalePipeDistance) === 'number' ){\r\n\t\tif( input.calcType === 'floorHeating1_pipeLength' || input.calcType === 'floorHeating1_pipeVolume' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\r\n\t\t\tsim.floorArea = input.scaleFloorArea\r\n\t\t\tsim.pipeDistance = input.scalePipeDistance\r\n\t\t\tsim.pipeLength = ( 1 / sim.pipeDistance ) * sim.floorArea\r\n\t\t\tsim.pipeVolume = sim.pipeLength * Math.PI * Math.pow (stat.userInput.floorHeating2.pipeDiameter , 2 ) * 0.25\r\n\t\t}\r\n\t}\r\n\t\r\n\tif( typeof(input.scalePipeLength) === 'number' && typeof(input.scalePipeDistance) === 'number' ){\r\n\t\tif( input.calcType === 'floorHeating1_pipeLength' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\r\n\t\t\tsim.pipeLength = input.scalePipeLength\r\n\t\t\tsim.pipeDistance = input.scalePipeDistance\r\n\t\t\tsim.floorArea = sim.pipeLength / ( 1 / sim.pipeDistance )\r\n\t\t}\r\n\t}\t\r\n\r\n\tif( typeof(input.scalePipeVolume) === 'number' && typeof(input.scalePipeDistance) === 'number' ){\r\n\t\tif( input.calcType === 'floorHeating1_pipeVolume' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation21'\r\n\t\t\tsim.pipeLength = input.scalePipeVolume / (Math.PI * Math.pow (stat.userInput.floorHeating2.pipeDiameter , 2 ) * 0.25)\r\n\t\t\tsim.pipeDistance = input.scalePipeDistance\r\n\t\t\tsim.floorArea = sim.pipeLength / ( 1 / sim.pipeDistance )\r\n\t\t}\r\n\t}\t\r\n\r\n\tif( typeof(input.scaleFloorTemp) === 'number' && typeof(input.scaleMeanTemp) === 'number' ){\r\n\t\tif( input.calcType === 'floorHeating1_floorTemp' ){\r\n\t\t\tsim.mwt = input.scaleMeanTemp\r\n\t\t\tsim.systemType=stat.userInput.floorHeating1.systemType\r\n\t\t\tsim.deltaTemp = sim.mwt - stat.userInput.floorHeating1.roomTemp\r\n\t\t\t// variation of sim.R_lambdaB until input.scalePower === sim.q\r\n\r\n\t\t\tsim.R_lambdaB = input.startvalue\r\n\t\t\tsim = bs_1264_calculation(sim)\t\t\r\n\t\t\tsim.error = ( sim.floorTemp - input.scaleFloorTemp ) / input.scaleFloorTemp\r\n\r\n\t\t\t// set start direction of search\r\n\t\t\tif (sim.error < 0 ){\r\n\t\t\t\tsf = input.startvalue * 0.2\r\n\t\t\t\t} else { sf = input.startvalue * -0.2 \r\n\t\t\t}\r\n\t\t\tcounter = 0\r\n\t\t\tlookback = []\r\n\t\t\tsim.cancel = false\r\n\t\t\twhile ( sim.cancel === false ){\r\n\t\t\t//\t\twhile ( counter  <= 30 ){\r\n\t\t\t\tif (sim.error > 0 ){\r\n\t\t\t\t\tsim.R_lambdaB = sim.R_lambdaB + sf\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\tsim.R_lambdaB = sim.R_lambdaB - sf\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tsim = bs_1264_calculation(sim)\t\t\r\n\t\t\t\tsim.error = ( sim.floorTemp - input.scaleFloorTemp ) / input.scaleFloorTemp\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif ( typeof( lookback[2] ) !== 'undefined' ){\r\n\r\n\t\t\t\t\tif ( Math.abs(sim.error) > Math.abs(lookback[0].error) ) {\r\n\t\t\t\t\t\tsf = sf * -1\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif ((sim.error >= 0 && lookback[0].error < 0 ) ||\r\n\t\t\t\t\t\t(sim.error < 0 && lookback[0].error >= 0) ){\r\n\t\t\t\t\t\t sf = sf * -0.5\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( sim.R_lambdaB <= 0 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 1')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( Math.abs(sim.error) <= 0.00001 || counter >= 50 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 2')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet simCopy = JSON.parse(JSON.stringify(sim));\r\n\t\t\t\tlookback.unshift(simCopy) \t\t\t\r\n\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\tconsole.log(counter, sf, sim.error, sim.floorTemp, input.scaleFloorTemp, sim.R_lambdaB )\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcounter++\r\n\t\t\t}\r\n\t\t\t//console.log(sim)\r\n\t\t}\r\n\t\tif( input.calcType === 'floorHeating4_floorTemp' ){\r\n\t\t\tsim.mwt = input.scaleMeanTemp\r\n\t\t\tsim.T = input.scalePipeDistance\r\n\t\t\tsim.systemType=stat.userInput.floorHeating4.systemType\r\n\t\t\tsim.deltaTemp = sim.mwt - stat.userInput.floorHeating4.roomTemp\r\n\t\t\tsim.R_lambdaB = stat.userInput.floorHeating4.R_lambdaB\r\n\t\t\tsim.D = stat.userInput.floorHeating4.pipeDiameter\r\n\t\t\tsim.s_E = stat.userInput.floorHeating4.s_E\r\n\t\t\tsim.lambda_E = stat.userInput.floorHeating4.lambda_E // 1.2\r\n\t\t\tsim.s_WL = stat.userInput.floorHeating4.s_WL\r\n\t\t\tsim.lambda_WL = stat.userInput.floorHeating4.lambda_WL\r\n\r\n\r\n\t\t\t// variation of sim.T until input.scalePower === sim.q\r\n\r\n\t\t\tsim.T = input.startvalue\r\n\t\t\tsim = bs_1264_calculation(sim)\t\t\r\n\t\t\tsim.error = ( sim.floorTemp - input.scaleFloorTemp ) / input.scaleFloorTemp\r\n\r\n\t\t\t// set start direction of search\r\n\t\t\tif (sim.error < 0 ){\r\n\t\t\t\tsf = input.startvalue * 0.2\r\n\t\t\t\t} else { sf = input.startvalue * -0.2 \r\n\t\t\t}\r\n\t\t\tcounter = 0\r\n\t\t\tlookback = []\r\n\t\t\tsim.cancel = false\r\n\t\t\twhile ( sim.cancel === false ){\r\n\t\t\t//\t\twhile ( counter  <= 30 ){\r\n\t\t\t\tif (sim.error < 0 ){\r\n\t\t\t\t\tsim.T = sim.T + sf\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\tsim.T = sim.T - sf\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tsim = bs_1264_calculation(sim)\t\t\r\n\t\t\t\tsim.error = ( sim.floorTemp - input.scaleFloorTemp ) / input.scaleFloorTemp\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif ( typeof( lookback[2] ) !== 'undefined' ){\r\n\r\n\t\t\t\t\tif ( Math.abs(sim.error) > Math.abs(lookback[0].error) ) {\r\n\t\t\t\t\t\tsf = sf * -1\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif ((sim.error >= 0 && lookback[0].error < 0 ) ||\r\n\t\t\t\t\t\t(sim.error < 0 && lookback[0].error >= 0) ){\r\n\t\t\t\t\t\t sf = sf * -0.5\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( sim.R_lambdaB <= 0 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 1')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( Math.abs(sim.error) <= 0.0001 || counter >= 50 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 2')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet simCopy = JSON.parse(JSON.stringify(sim));\r\n\t\t\t\tlookback.unshift(simCopy) \t\t\t\r\n\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\tconsole.log(counter, sf, sim.error, sim.floorTemp, input.scaleFloorTemp, sim.R_lambdaB )\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcounter++\r\n\t\t\t}\r\n\t\t\t//console.log(sim)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tif( typeof(input.scalePipeDistance) === 'number' && typeof(input.scaleMeanTemp) === 'number' ){\r\n\t\t//collect input data for calculation according to BS\r\n\t\tif( input.calcType === 'floorHeating4_Power' ){\r\n\t\t\tsim.mwt = input.scaleMeanTemp\r\n\t\t\tsim.T = input.scalePipeDistance\r\n\t\t\tsim.systemType=stat.userInput.floorHeating4.systemType\r\n\t\t\tsim.deltaTemp = sim.mwt - stat.userInput.floorHeating1.roomTemp\r\n\r\n\t\t\tsim.R_lambdaB = stat.userInput.floorHeating4.R_lambdaB\r\n\r\n\t\t\tsim.D = stat.userInput.floorHeating4.pipeDiameter\r\n\t\t\tsim.s_E = stat.userInput.floorHeating4.s_E\r\n\t\t\tsim.lambda_E = stat.userInput.floorHeating4.lambda_E // 1.2\r\n\t\t\tsim.s_WL = stat.userInput.floorHeating4.s_WL\r\n\t\t\tsim.lambda_WL = stat.userInput.floorHeating4.lambda_WL\r\n\r\n\t\t\tsim.error = 0\r\n\r\n\t\t\tsim = bs_1264_calculation(sim)\r\n\t\t}\t\r\n\t\tif( input.calcType === 'floorHeating4_floorTemp' ){\r\n\t\t\tsim.mwt = input.scaleMeanTemp\r\n\t\t\tsim.T = input.scalePipeDistance\r\n\t\t\tsim.systemType=stat.userInput.floorHeating4.systemType\r\n\t\t\tsim.deltaTemp = sim.mwt - stat.userInput.floorHeating4.roomTemp\r\n\r\n\t\t\tsim.R_lambdaB = stat.userInput.floorHeating4.R_lambdaB\r\n\r\n\t\t\tsim.D = stat.userInput.floorHeating4.pipeDiameter\r\n\t\t\tsim.s_E = stat.userInput.floorHeating4.s_E\r\n\t\t\tsim.lambda_E = stat.userInput.floorHeating4.lambda_E // 1.2\r\n\t\t\tsim.s_WL = stat.userInput.floorHeating4.s_WL\r\n\t\t\tsim.lambda_WL = stat.userInput.floorHeating4.lambda_WL\r\n\r\n\t\t\tsim.error = 0\r\n\r\n\t\t\tsim = bs_1264_calculation(sim)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\treturn sim\r\n}\r\n\r\nexport function uValueCalculation(input){\r\n\tvar sf, counter\r\n\tvar lookback = []\r\n\tvar sim = {}\r\n\tsim.verboseLevel = input.verboseLevel\r\n\tif ( input.verboseLevel > 1 ){\r\n\t\tconsole.log(input)\r\n\t}\r\n\r\n\tfunction table321(sim){\r\n\t\t\tvar fp = {\r\n\t\t\t\ta1 : -0.0545621 , a2 :  0.3016047 , a3 : -0.575197 ,\r\n\t\t\t\tb1 :  0.1436498 , b2 : -0.7512028 , b3 :  1.263755 ,\r\n\t\t\t\tc1 : -0.0078826 , c2 :  0.0119111 , c3 :  0.153662 ,\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (stat.userInput.uValue1.ownEquation5 === true ){\r\n\t\t\t\tfp = { ...fp, n1 : -0.4993, n2 : 1.5059, n3 : 0.1234 }\r\n\t\t\t}\r\n\r\n\t\t\tif (stat.userInput.uValue1.ownEquation5 === false ){\r\n\t\t\t\tfp = { ...fp, n1 : -0.6, n2 : 1.65, n3 : 0.05 }\r\n\t\t\t}\r\n\r\n\t\t\tsim.fp = fp\r\n\r\n\t\t\tif (stat.userInput.uValue1.table321 === true ){\r\n\t\t\t\tsim.u00 = fp.n1 * Math.pow( sim.relativePerimeter , 2 ) + fp.n2 * sim.relativePerimeter + fp.n3\r\n\t\t\t\tsim.m1 = fp.a1 * Math.pow( sim.wallThickness / sim.lambda , 2 ) + fp.a2 * (sim.wallThickness / sim.lambda) + fp.a3 \r\n\t\t\t\tsim.m2 = fp.b1 * Math.pow( sim.wallThickness / sim.lambda , 2 ) + fp.b2 * (sim.wallThickness / sim.lambda) + fp.b3\r\n\t\t\t\tsim.m3 = fp.c1 * Math.pow( sim.wallThickness / sim.lambda , 2 ) + fp.c2 * (sim.wallThickness / sim.lambda) + fp.c3\r\n\t\t\t\tsim.u = sim.m1 * Math.pow( sim.relativePerimeter , 2 ) + sim.m2 * sim.relativePerimeter + sim.m3\r\n\t\t\t}\r\n\r\n\t\t\tif (stat.userInput.uValue1.table321 === false ){\r\n\t\t\t\tsim.u00 = fp.n1 * Math.pow( sim.relativePerimeter , 2 ) + fp.n2 * sim.relativePerimeter + fp.n3\r\n\t\t\t\tsim.u =1/( (sim.wallThickness / sim.lambda) + 1/sim.u00)\r\n\t\t\t}\r\n\r\n\t\t\treturn sim\r\n\t};\r\n\r\n\tif( typeof(input.scaleRelativePerimeter) === 'number' && typeof(input.scaleWallThicknes) === 'number' ){\r\n\t\tif( input.calcType === 'uCalculation_floorValue' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\t\t\t\r\n\t\t\tsim.lambda = stat.userInput.uValue1.lambda\r\n\t\t\tsim.relativePerimeter = input.scaleRelativePerimeter\r\n\t\t\tsim.wallThickness = input.scaleWallThicknes\r\n\t\t\tsim = table321(sim);\t\t\t\r\n\t\t}\r\n\t\tif( input.calcType === 'u00Calculation_floorValue' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\t\t\t\r\n\t\t\tsim.lambda = stat.userInput.uValue1.lambda\r\n\t\t\tsim.relativePerimeter = input.scaleRelativePerimeter\r\n\t\t\tsim.wallThickness = input.scaleWallThicknes\r\n\t\t\tsim = table321(sim);\t\t\t\r\n\t\t}\r\n\t}\t\r\n\r\n\tif( typeof(input.scaleRelativePerimeter) === 'number' && typeof(input.scaleUValue) === 'number' ){\r\n\t\tif( input.calcType === 'uCalculation_floorValue' ){\r\n\t\t\t//reverse function with iterative search!!\r\n\t\t\t//variation of wall thickness error is uValue difference\r\n\r\n\t\tsim.relativePerimeter = input.scaleRelativePerimeter\r\n\t\tsim.lambda = stat.userInput.uValue1.lambda\r\n\t\tsim.wallThickness = input.startvalue\r\n\t\tsim = table321(sim)\t\t\r\n\t\tsim.error = ( sim.u - input.scaleUValue ) / input.scaleUValue\r\n\r\n\t\t// set start direction of search\r\n\t\tif (sim.error < 0 ){\r\n\t\t\tsf = input.startvalue * 0.1\r\n\t\t\t} else { sf = input.startvalue * -0.1\r\n\t\t}\r\n\t\tcounter = 0\r\n\t\tlookback = []\r\n\t\tsim.cancel = false\r\n\t\twhile ( sim.cancel === false ){\r\n\t\t//\t\twhile ( counter  <= 30 ){\r\n\t\t\tif (sim.error > 0 ){\r\n\t\t\t\tsim.wallThickness = sim.wallThickness + sf\r\n\t\t\t\t} else {\r\n\t\t\t\tsim.wallThickness = sim.wallThickness - sf\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tsim = table321(sim)\t\t\r\n\t\t\tsim.error = ( sim.u - input.scaleUValue ) / input.scaleUValue\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif ( typeof( lookback[2] ) !== 'undefined' ){\r\n\r\n\t\t\t\tif ( Math.abs(sim.error) > Math.abs(lookback[0].error) ) {\r\n\t\t\t\t\tsf = sf * -1\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tif ((sim.error >= 0 && lookback[0].error < 0 ) ||\r\n\t\t\t\t\t(sim.error < 0 && lookback[0].error >= 0) ){\r\n\t\t\t\t\t sf = sf * -0.5\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( sim.wallThickness < 0 ){\r\n\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\tconsole.log('cond 1')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsim.status = 'failed'\r\n\t\t\t\t\tsim.status2 = 'wall insulation thickness < 0'\r\n\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tif(stat.userInput.uValue1.table321 === true){\r\n\t\t\t\t\tif ( sim.wallThickness > 0.1 ){\r\n\t\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\t\tconsole.log('cond 1b')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsim.status = 'failed'\r\n\t\t\t\t\t\tsim.status2 = 'wall insulation thickness > 0.1'\r\n\t\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( sim.relativePerimeter < 0.1 ){\r\n\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\tconsole.log('cond 1c')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsim.status = 'failed'\r\n\t\t\t\t\tsim.status2 = 'wall insulation thickness > 0.1'\r\n\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tif ( sim.relativePerimeter > 1 ){\r\n\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\tconsole.log('cond 1d')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsim.status = 'failed'\r\n\t\t\t\t\tsim.status2 = 'wall insulation thickness > 0.1'\r\n\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tif ( counter >= 50 ){\r\n\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\tconsole.log('cond 2')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsim.status = 'failed'\r\n\t\t\t\t\tsim.status2 = 'counter > 50'\r\n\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( Math.abs(sim.error) <= 0.00001 ){\r\n\t\t\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\t\t\tconsole.log('cond 3')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsim.status = 'success'\r\n\t\t\t\t\tsim.status2 = 'minimum error reached'\t\r\n\t\t\t\t\tsim.cancel = true \r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tlet simCopy = JSON.parse(JSON.stringify(sim));\r\n\t\t\tlookback.unshift(simCopy) \t\t\t\r\n\t\t\tif ( sim.verboseLevel > 1 ){\r\n\t\t\t\tconsole.log(counter, sf, sim.error, sim.wallThickness, sim.u, input.scaleUValue )\r\n\t\t\t}\r\n\r\n\t\t\tcounter++\r\n\t\t}\r\n\t\t//console.log(sim)\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\t\r\n\r\n\treturn sim\r\n}\r\n\r\nexport function kValueCalculation(input){\r\n\tif ( input.verboseLevel > 1 ){\r\n\t\tconsole.log(input)\r\n\t}\r\n\t\tvar sim = {}\r\n\tsim.verboseLevel = input.verboseLevel\r\n\tif( typeof(input.scaleKV) === 'number' && typeof(input.scaleVolumeFlow) === 'number' ){\r\n\t\tif( input.calcType === 'kValue_pressureDrop' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\t\t\t\r\n\t\t\tsim.kValue = input.scaleKV\r\n\t\t\tsim.volumeFlow = input.scaleVolumeFlow\r\n\t\t\tsim.rho = brine(\r\n\t\t\t\tstat.userInput.kValue1.brineType, \r\n\t\t\t\t'rho', \r\n\t\t\t\tstat.userInput.kValue1.temperature, \r\n\t\t\t\tstat.userInput.kValue1.brineRatio\r\n\t\t\t\t);\r\n\t\t\tsim.cp = brine(\r\n\t\t\t\tstat.userInput.kValue1.brineType, \r\n\t\t\t\t'cp', \r\n\t\t\t\tstat.userInput.kValue1.temperature, \r\n\t\t\t\tstat.userInput.kValue1.brineRatio\r\n\t\t\t\t);\r\n\t\t\tsim.dP = ( Math.pow(sim.volumeFlow,2) * sim.rho * 100) / Math.pow(sim.kValue,2);\r\n\t\t\tsim.power = sim.cp * sim.rho * stat.userInput.kValue1.deltaTemp * sim.volumeFlow \r\n\t\t}\r\n\t}\t\r\n\r\n\tif( typeof(input.scaleKV) === 'number' && typeof(input.scalePressureDrop) === 'number' ){\r\n\t\tif( input.calcType === 'kValue_pressureDrop' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\t\t\t\r\n\t\t\tsim.kValue = input.scaleKV\r\n\t\t\tsim.dP = input.scalePressureDrop\r\n\t\t\tsim.rho = brine(\r\n\t\t\t\tstat.userInput.kValue1.brineType, \r\n\t\t\t\t'rho', \r\n\t\t\t\tstat.userInput.kValue1.temperature, \r\n\t\t\t\tstat.userInput.kValue1.brineRatio\r\n\t\t\t\t);\r\n\t\t\tsim.volumeFlow = sim.kValue / (Math.pow( (1E5 / sim.dP)*(sim.rho/1000) ,0.5));\r\n\t\t}\r\n\t}\t\r\n\r\n\r\n\tif( typeof(input.scaleZeta) === 'number' && typeof(input.scaleVelocity) === 'number' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\t\t\t\r\n\t\t\tsim.zeta = input.scaleZeta\r\n\t\t\tsim.velocity = input.scaleVelocity\r\n\t\t\tsim.brineType = stat.userInput.kValue2.brineType\r\n\t\t\tsim.brineRatio = stat.userInput.kValue2.brineRatio\r\n\t\t\tsim.temperature = stat.userInput.kValue2.temperature\r\n\t\t\tsim.deltaTemp = stat.userInput.kValue2.deltaTemp\r\n\r\n\t\t\tsim.cp = brine(\r\n\t\t\t\tsim.brineType, \r\n\t\t\t\t'cp', \r\n\t\t\t\tsim.temperature, \r\n\t\t\t\tsim.brineRatio\r\n\t\t\t\t);\r\n\r\n\t\t\t\r\n\t\t\tsim.rho = brine(\r\n\t\t\t\tsim.brineType, \r\n\t\t\t\t'rho', \r\n\t\t\t\tsim.temperature, \r\n\t\t\t\tsim.brineRatio\r\n\t\t\t\t);\r\n\t\t\t\r\n\t\t\tsim.dP = sim.zeta * ( sim.rho / 2 ) * Math.pow( sim.velocity, 2);\r\n\t\t\tsim.power = sim.cp * sim.rho * stat.userInput.kValue2.deltaTemp \r\n\t\t\t\t* stat.userInput.kValue2.diameter * stat.userInput.kValue2.diameter * 0.25 * Math.PI\r\n\t\t\t\t* sim.velocity \r\n\t\t\t\r\n\t}\r\n\r\n\tif( typeof(input.scaleZeta) === 'number' && typeof(input.scalePressureDrop) === 'number' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\t\t\t\r\n\t\t\tsim.zeta = input.scaleZeta\r\n\t\t\tsim.dP = input.scalePressureDrop\r\n\t\t\tsim.brineType = stat.userInput.kValue2.brineType\r\n\t\t\tsim.brineRatio = stat.userInput.kValue2.brineRatio\r\n\t\t\tsim.temperature = stat.userInput.kValue2.temperature\r\n\t\t\tsim.deltaTemp = stat.userInput.kValue2.deltaTemp\r\n\t\t\t\r\n\t\t\tsim.rho = brine(\r\n\t\t\t\tsim.brineType, \r\n\t\t\t\t'rho', \r\n\t\t\t\tsim.temperature, \r\n\t\t\t\tsim.brineRatio\r\n\t\t\t\t);\r\n\t\t\t\r\n\t\t\tsim.velocity = Math.pow(sim.dP / (sim.zeta * ( sim.rho /  2 )) , 0.5 ) ;\r\n\r\n\t}\r\n\r\n\tif( typeof(input.scaleDeltaPCircuit) === 'number' && typeof(input.scaleDeltaPValve) === 'number' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\t\t\t\r\n\t\t\tsim.dpv = input.scaleDeltaPValve\r\n\t\t\tsim.dpc = input.scaleDeltaPCircuit\r\n\t\t\tsim.n = sim.dpv / (sim.dpv + sim.dpc)\r\n\t\t}\r\n\r\n\tif( typeof(input.scaleAuthority) === 'number' && typeof(input.scaleDeltaPValve) === 'number' ){\r\n\t\t\tsim.error = 0\r\n\t\t\tsim.status = 'success'\r\n\t\t\tsim.status2 = 'direct calculation'\t\t\t\r\n\t\t\tsim.dpv = input.scaleDeltaPValve\r\n\t\t\tsim.n = input.scaleAuthority\r\n\t\t\tsim.dpc = ( sim.dpv - sim.n  * sim.dpv ) /  sim.n  \r\n\t\t}\r\n\r\n\r\n\treturn sim\r\n\r\n}\r\n","import React from \"react\";\r\nimport { Line } from \"react-konva\";\r\nimport { minMax2parameter } from \"../../coreFunctions\";\r\nimport { drawScale, getAutoScaleParameter } from \"../../scales\";\r\nimport { stat } from \"../../settings\";\r\n\r\nclass NomographScales extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // calculate parameter for scaleStorageVolume and Outflow\r\n    // this.cb = minMax2parameter(\r\n    //   stat.userSetup.massFlowCalculation.scalePower,\r\n    //   stat.userSetup.massFlowCalculation.scalePower.min,\r\n    //   stat.userSetup.massFlowCalculation.scalePower.max\r\n    // );\r\n\r\n    // stat.userSetup.massFlowCalculation.scalePower.m = this.cb.m;\r\n    // stat.userSetup.massFlowCalculation.scalePower.n = this.cb.n;\r\n    // stat.userSetup.massFlowCalculation.scalePower.p = this.cb.p;\r\n    // stat.userSetup.massFlowCalculation.scalePower.q = this.cb.q;\r\n\r\n    // this.cb = minMax2parameter(\r\n    //   stat.userSetup.massFlowCalculation.scaleTemperature,\r\n    //   stat.userSetup.massFlowCalculation.scaleTemperature.min,\r\n    //   stat.userSetup.massFlowCalculation.scaleTemperature.max\r\n    // );\r\n\r\n    // stat.userSetup.massFlowCalculation.scaleTemperature.m = this.cb.m;\r\n    // stat.userSetup.massFlowCalculation.scaleTemperature.n = this.cb.n;\r\n    // stat.userSetup.massFlowCalculation.scaleTemperature.p = this.cb.p;\r\n    // stat.userSetup.massFlowCalculation.scaleTemperature.q = this.cb.q;\r\n\r\n\r\n    this.scale = {};\r\n\r\n    this.scale[1] = drawScale(stat.userSetup.massFlowCalculation.scalePower);\r\n    this.scale[2] = drawScale(\r\n      stat.userSetup.massFlowCalculation.scaleTemperature\r\n    );\r\n\r\n    getAutoScaleParameter({\r\n      scale1: stat.userSetup.massFlowCalculation.scalePower,\r\n      name1: \"scalePower\",\r\n      scale2: stat.userSetup.massFlowCalculation.scaleTemperature,\r\n      name2: \"scaleTemperature\",\r\n      scale3: stat.userSetup.massFlowCalculation.scaleVolumeFlow,\r\n      name3: \"scaleVolumeFlow\",\r\n      calcType: \"massFlowRate_volumeFlow\",\r\n      nomoName: \"massFlowRate\",\r\n      verboseLevel: 1,\r\n    });\r\n\r\n    this.scale[3] = drawScale(\r\n      stat.userSetup.massFlowCalculation.scaleVolumeFlow\r\n    );\r\n\r\n    this.lines = [\r\n      ...this.scale[1].scales,\r\n      ...this.scale[2].scales,\r\n      ...this.scale[3].scales,\r\n    ];\r\n  }\r\n\r\n  shouldComponentUpdate() {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    console.log(\"Render Nomograph Skales!!!\");\r\n    const lines = this.lines;\r\n    return lines.map(function (line, id) {\r\n      return (\r\n        <Line\r\n          draggable={false}\r\n          key={id}\r\n          x={line.x}\r\n          y={line.y}\r\n          points={line.points}\r\n          strokeWidth={line.strokeWidth}\r\n          stroke={line.stroke}\r\n          tension={line.tension}\r\n          bezier={line.bezier}\r\n          opacity={line.opacity}\r\n          fill={line.fill}\r\n          closed={line.closed}\r\n        />\r\n      );\r\n    });\r\n  }\r\n}\r\n\r\nexport default NomographScales;\r\n","import React from \"react\";\r\nimport { Line } from \"react-konva\";\r\nimport {\r\n  drawRuler,\r\n  massFlowCalculation,\r\n  toUserUnits,\r\n} from \"../../coreFunctions\";\r\nimport { stat } from \"../../settings\";\r\n\r\nclass NomographRuler extends React.Component {\r\n  drawRuller(massFlowCalculationS) {\r\n    const cb = massFlowCalculation({\r\n      scalePower: massFlowCalculationS.power,\r\n      scaleTemperature: massFlowCalculationS.deltaTemp,\r\n      calcType: \"massFlowRate_volumeFlow\",\r\n      nomoName: \"massFlowRate\",\r\n      verboseLevel: 0,\r\n    });\r\n\r\n    // ruler [{data}]\r\n    const ruler = drawRuler(\r\n      [\r\n        stat.userSetup.massFlowCalculation.scalePower,\r\n        stat.userSetup.massFlowCalculation.scaleTemperature,\r\n        stat.userSetup.massFlowCalculation.scaleVolumeFlow,\r\n      ],\r\n      [\r\n        toUserUnits(\r\n          cb.power,\r\n          stat.userSetup.massFlowCalculation.scalePower.unit\r\n        ),\r\n        toUserUnits(\r\n          cb.temperature,\r\n          stat.userSetup.massFlowCalculation.scaleTemperature.unit\r\n        ),\r\n        toUserUnits(\r\n          cb.volumeFlow,\r\n          stat.userSetup.massFlowCalculation.scaleVolumeFlow.unit\r\n        ),\r\n      ]\r\n    );\r\n\r\n    // return {data}\r\n    return ruler[0];\r\n  }\r\n\r\n  componentWillUpdate() {\r\n\r\n  }\r\n\r\n  render() {\r\n    const ruler = this.drawRuller(this.props.massFlowCalculationS);\r\n    return (\r\n      <Line\r\n        draggable={false}\r\n        x={ruler.x}\r\n        y={ruler.y}\r\n        points={ruler.points}\r\n        strokeWidth={ruler.strokeWidth}\r\n        stroke={ruler.stroke}\r\n        tension={ruler.tension}\r\n        bezier={ruler.bezier}\r\n        opacity={ruler.opacity}\r\n        fill={ruler.fill}\r\n        closed={ruler.closed}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default NomographRuler;\r\n","import React from \"react\";\r\nimport { Text } from \"react-konva\";\r\nimport { drawScale, } from \"../../scales\";\r\nimport { stat } from \"../../settings\";\r\n\r\n\r\nclass NomographLabels extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.scale = {\r\n      1: drawScale(stat.userSetup.massFlowCalculation.scalePower),\r\n      2: drawScale(stat.userSetup.massFlowCalculation.scaleTemperature),\r\n      3: drawScale(stat.userSetup.massFlowCalculation.scaleVolumeFlow),\r\n    };\r\n    this.labels = [\r\n      ...this.scale[1].labels,\r\n      ...this.scale[2].labels,\r\n      ...this.scale[3].labels,\r\n    ];\r\n  }\r\n\r\n  shouldComponentUpdate() {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    console.log(\"Render Nomograph Labels!!!\");\r\n    const labels = this.labels;\r\n    return labels.map(function (label, id) {\r\n      return (\r\n        <Text\r\n          draggable={false}\r\n          key={id}\r\n          x={label.x}\r\n          y={label.y}\r\n          text={label.text}\r\n          align={label.position}\r\n          fontSize={label.fontSize}\r\n          offsetX={label.offsetX}\r\n          offsetY={label.offsetY}\r\n        />\r\n      );\r\n    });\r\n  }\r\n}\r\n\r\nexport default NomographLabels;\r\n","import React from \"react\";\r\nimport { Circle } from \"react-konva\";\r\nimport { pos2value, value2pos } from \"../../coreFunctions\";\r\nimport { stat } from \"../../settings\";\r\n\r\nconst SetNomorgaphValue = (valueName, newValue, prevState, setState) => {\r\n  setState(() => {\r\n    const state = prevState;\r\n    state[valueName] = newValue;\r\n    return {\r\n      ...state,\r\n    };\r\n  });\r\n};\r\n\r\nclass NomographDrugBtn extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.prefix = props.prefix;\r\n    this.stat = stat;\r\n    this.value2pos = value2pos;\r\n    this.x = props.btnState.x;\r\n    this.y = props.btnState.y;\r\n    this.setBtnState = props.setBtnState;\r\n    this.skaleProps = props.skaleProps;\r\n    this.minValue = props.minValue;\r\n    this.maxValue = props.maxValue;\r\n    this.valueName = props.valueName;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Circle\r\n        id={\"100\"}\r\n        radius={24}\r\n        stroke={\r\n          this.props.btnState.isDragging ? \"rgba(62, 127, 249, 1)\" : \"black\"\r\n        }\r\n        strokeWidth={2}\r\n        x={this.props.btnState.x}\r\n        y={this.props.btnState.y}\r\n        draggable\r\n        fill={\"rgba(62, 127, 249, 0.38)\"}\r\n        onDragStart={() => {\r\n          this.props.setBtnState({\r\n            ...this.props.btnState,\r\n            isDragging: true,\r\n          });\r\n        }}\r\n        onDragEnd={(e) => {\r\n          this.props.setBtnState(() => {\r\n            return {\r\n              isDragging: false,\r\n              x: e.target.x(),\r\n              y: e.target.y(),\r\n            };\r\n          });\r\n        }}\r\n        dragBoundFunc={(pos) => {\r\n          const currentValue = pos2value(this.skaleProps, pos.y);\r\n          const startPos = value2pos(this.skaleProps, this.minValue);\r\n          const endPos = value2pos(this.skaleProps, this.maxValue);\r\n          const yPos =\r\n            currentValue < this.minValue\r\n              ? startPos\r\n              : currentValue > this.maxValue\r\n              ? endPos\r\n              : pos.y;\r\n          const newDataTemp =\r\n            currentValue < this.minValue\r\n              ? this.minValue\r\n              : currentValue > this.maxValue\r\n              ? this.maxValue\r\n              : currentValue;\r\n\r\n          SetNomorgaphValue(\r\n            this.valueName,\r\n            newDataTemp * this.prefix,\r\n            this.props.massFlowCalculationS,\r\n            this.props.setMassFlowCalculationS\r\n          );\r\n          this.props.setFieldValue(this.valueName, newDataTemp.toFixed(2));\r\n          return {\r\n            x: this.props.btnState.x,\r\n            y: yPos,\r\n          };\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport const NomographDeltaTDrugBtn = (props) => {\r\n  return (\r\n    <NomographDrugBtn\r\n      valueName={\"deltaTemp\"}\r\n      minValue={stat.userSetup.massFlowCalculation.scaleTemperature.min}\r\n      maxValue={stat.userSetup.massFlowCalculation.scaleTemperature.max}\r\n      prefix={1}\r\n      setFieldValue={props.setFieldValue}\r\n      skaleProps={stat.userSetup.massFlowCalculation.scaleTemperature}\r\n      setMassFlowCalculationS={props.setMassFlowCalculationS}\r\n      massFlowCalculationS={props.massFlowCalculationS}\r\n      btnState={props.deltaTDrugBtnState}\r\n      setBtnState={props.setDeltaTDrugBtnState}\r\n    />\r\n  );\r\n};\r\n\r\nexport const NomographPowerBtn = (props) => {\r\n  return (\r\n    <NomographDrugBtn\r\n      valueName={\"power\"}\r\n      minValue={stat.userSetup.massFlowCalculation.scalePower.min}\r\n      maxValue={stat.userSetup.massFlowCalculation.scalePower.max}\r\n      prefix={1000}\r\n      setFieldValue={props.setFieldValue}\r\n      skaleProps={stat.userSetup.massFlowCalculation.scalePower}\r\n      setMassFlowCalculationS={props.setMassFlowCalculationS}\r\n      massFlowCalculationS={props.massFlowCalculationS}\r\n      btnState={props.powerDrugBtnState}\r\n      setBtnState={props.setPowerDrugBtnState}\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Stage, Layer } from \"react-konva\";\r\nimport NomographScales from \"./ChildComponents/NomographScales.js\";\r\nimport NomographRuler from \"./ChildComponents/NomographRuler.js\";\r\nimport NomographLabels from \"./ChildComponents/NomographLabels.js\";\r\nimport { stat } from \"../settings.js\";\r\nimport {\r\n  NomographDeltaTDrugBtn,\r\n  NomographPowerBtn,\r\n} from \"./ChildComponents/NomographDrugBtn.js\";\r\n\r\n\r\nexport const MassFlowNomographUpdated = (props) => {\r\n\r\n  if (stat.userSettings.renderWidth > 0) {\r\n    window.innerWidth = stat.userSettings.renderWidth;\r\n  }\r\n  if (stat.userSettings.renderHeight > 0) {\r\n    window.innerHeight = stat.userSettings.renderHeight;\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   const newWidth = document.querySelector(\r\n  //     \"#MassFlowNomographContainer\"\r\n  //   ).clientWidth;\r\n  //   document.querySelector(\r\n  //     \".konvajs-content\"\r\n  //   ).children[0].style.width = `${newWidth}px`;\r\n  // }, []);\r\n\r\n \r\n\r\n  return (\r\n    <Stage width={window.innerWidth} height={window.innerHeight}>\r\n      <Layer>\r\n        <NomographDeltaTDrugBtn\r\n          setFieldValue={props.setFieldValue}\r\n          setMassFlowCalculationS={props.setMassFlowCalculationS}\r\n          massFlowCalculationS={props.massFlowCalculationS}\r\n          deltaTDrugBtnState={props.deltaTDrugBtnState}\r\n          setDeltaTDrugBtnState={props.setDeltaTDrugBtnState}\r\n        />\r\n        <NomographPowerBtn\r\n          setFieldValue={props.setFieldValue}\r\n          setMassFlowCalculationS={props.setMassFlowCalculationS}\r\n          setPowerDrugBtnState={props.setPowerDrugBtnState}\r\n          powerDrugBtnState={props.powerDrugBtnState}\r\n          massFlowCalculationS={props.massFlowCalculationS}\r\n        />\r\n        <NomographScales />\r\n        <NomographRuler setFieldValue={props.setFieldValue} massFlowCalculationS={props.massFlowCalculationS} />\r\n        <NomographLabels />\r\n      </Layer>\r\n    </Stage>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { Row, Button, Col } from \"react-bootstrap\";\r\nimport { useFormik } from \"formik\";\r\nimport { stat } from \"../../nomographExample/settings\";\r\nimport { MassFlowNomographUpdated } from \"../../nomographExample/MassFlowNomographUpdated/MassFlowNomographUpdated\";\r\nimport { value2pos } from \"../coreFunctions\";\r\nimport { minMax2parameter } from \"../coreFunctions.js\";\r\n\r\nexport const MassFlowNomographContent = (props) => {\r\n  let cb = minMax2parameter(\r\n    stat.userSetup.massFlowCalculation.scalePower,\r\n    stat.userSetup.massFlowCalculation.scalePower.min,\r\n    stat.userSetup.massFlowCalculation.scalePower.max\r\n  );\r\n\r\n  stat.userSetup.massFlowCalculation.scalePower.m = cb.m;\r\n  stat.userSetup.massFlowCalculation.scalePower.n = cb.n;\r\n  stat.userSetup.massFlowCalculation.scalePower.p = cb.p;\r\n  stat.userSetup.massFlowCalculation.scalePower.q = cb.q;\r\n\r\n  cb = minMax2parameter(\r\n    stat.userSetup.massFlowCalculation.scaleTemperature,\r\n    stat.userSetup.massFlowCalculation.scaleTemperature.min,\r\n    stat.userSetup.massFlowCalculation.scaleTemperature.max\r\n  );\r\n\r\n  stat.userSetup.massFlowCalculation.scaleTemperature.m = cb.m;\r\n  stat.userSetup.massFlowCalculation.scaleTemperature.n = cb.n;\r\n  stat.userSetup.massFlowCalculation.scaleTemperature.p = cb.p;\r\n  stat.userSetup.massFlowCalculation.scaleTemperature.q = cb.q;\r\n\r\n  // initial form values\r\n  const initialFormValues = {\r\n    deltaTemp: stat.userInput.massFlowCalculation.deltaTemp,\r\n    power: stat.userInput.massFlowCalculation.power / 1000,\r\n    cb: 0,\r\n    rho: 0,\r\n  };\r\n\r\n  const [massFlowCalculationS, setMassFlowCalculationS] = useState(\r\n    stat.userInput.massFlowCalculation\r\n  );\r\n\r\n  const [deltaTDrugBtnState, setDeltaTDrugBtnState] = useState({\r\n    isDragging: false,\r\n    x: value2pos(\r\n      stat.userSetup.massFlowCalculation.scaleTemperature,\r\n      stat.userInput.massFlowCalculation.deltaTemp\r\n    ).x,\r\n    y: value2pos(\r\n      stat.userSetup.massFlowCalculation.scaleTemperature,\r\n      stat.userInput.massFlowCalculation.deltaTemp\r\n    ).y,\r\n  });\r\n\r\n  const [powerDrugBtnState, setPowerDrugBtnState] = useState({\r\n    isDragging: false,\r\n    x: value2pos(\r\n      stat.userSetup.massFlowCalculation.scalePower,\r\n      stat.userInput.massFlowCalculation.power / 1000\r\n    ).x,\r\n    y: value2pos(\r\n      stat.userSetup.massFlowCalculation.scalePower,\r\n      stat.userInput.massFlowCalculation.power / 1000\r\n    ).y,\r\n  });\r\n\r\n  const { handleSubmit, setFieldValue, values } = useFormik({\r\n    initialValues: initialFormValues,\r\n    onSubmit: (values) => {\r\n      setMassFlowCalculationS(() => {\r\n        return {\r\n          ...massFlowCalculationS,\r\n          deltaTemp: Number(values.deltaTemp),\r\n          power: Number(values.power * 1000),\r\n        };\r\n      });\r\n      setDeltaTDrugBtnState(() => {\r\n        return {\r\n          isDragging: false,\r\n          x: deltaTDrugBtnState.x,\r\n          y: value2pos(\r\n            stat.userSetup.massFlowCalculation.scaleTemperature,\r\n            Number(values.deltaTemp)\r\n          ).y,\r\n        };\r\n      });\r\n      setPowerDrugBtnState(() => {\r\n        return {\r\n          isDragging: false,\r\n          x: powerDrugBtnState.x,\r\n          y: value2pos(\r\n            stat.userSetup.massFlowCalculation.scalePower,\r\n            Number(values.power)\r\n          ).y,\r\n        };\r\n      });\r\n    },\r\n  });\r\n\r\n  const customHandleChange = (e) => {\r\n    if (e.target.name === \"deltaTemp\") {\r\n      if (\r\n        e.target.value < stat.userSetup.massFlowCalculation.scaleTemperature.min\r\n      ) {\r\n        e.target.value =\r\n          stat.userSetup.massFlowCalculation.scaleTemperature.min;\r\n      } else if (\r\n        e.target.value > stat.userSetup.massFlowCalculation.scaleTemperature.max\r\n      ) {\r\n        e.target.value =\r\n          stat.userSetup.massFlowCalculation.scaleTemperature.max;\r\n      }\r\n\r\n      setFieldValue(e.target.name, e.target.value);\r\n\r\n      setMassFlowCalculationS(() => {\r\n        return {\r\n          ...massFlowCalculationS,\r\n          deltaTemp: Number(e.target.value),\r\n        };\r\n      });\r\n\r\n      setDeltaTDrugBtnState(() => {\r\n        return {\r\n          isDragging: false,\r\n          x: deltaTDrugBtnState.x,\r\n          y: value2pos(\r\n            stat.userSetup.massFlowCalculation.scaleTemperature,\r\n            Number(e.target.value)\r\n          ).y,\r\n        };\r\n      });\r\n    }\r\n    if (e.target.name === \"power\") {\r\n      if (e.target.value < stat.userSetup.massFlowCalculation.scalePower.min) {\r\n        e.target.value = stat.userSetup.massFlowCalculation.scalePower.min;\r\n      } else if (\r\n        e.target.value > stat.userSetup.massFlowCalculation.scalePower.max\r\n      ) {\r\n        e.target.value = stat.userSetup.massFlowCalculation.scalePower.max;\r\n      }\r\n      setFieldValue(e.target.name, e.target.value);\r\n      setMassFlowCalculationS(() => {\r\n        return {\r\n          ...massFlowCalculationS,\r\n          power: Number(e.target.value * 1000),\r\n        };\r\n      });\r\n      setPowerDrugBtnState(() => {\r\n        return {\r\n          isDragging: false,\r\n          x: powerDrugBtnState.x,\r\n          y: value2pos(\r\n            stat.userSetup.massFlowCalculation.scalePower,\r\n            Number(e.target.value)\r\n          ).y,\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col item xs={12}>\r\n          <div id=\"MassFlowNomographContainer\">\r\n            <MassFlowNomographUpdated\r\n              setFieldValue={setFieldValue}\r\n              deltaTDrugBtnState={deltaTDrugBtnState}\r\n              massFlowCalculationS={massFlowCalculationS}\r\n              setMassFlowCalculationS={setMassFlowCalculationS}\r\n              setDeltaTDrugBtnState={setDeltaTDrugBtnState}\r\n              powerDrugBtnState={powerDrugBtnState}\r\n              setPowerDrugBtnState={setPowerDrugBtnState}\r\n            />\r\n          </div>\r\n        </Col>\r\n        <Col xs={12}>\r\n          <div>\r\n            <form>\r\n              <Col xs={12} className=\"mt-2\">\r\n                <Form.Label>Delta Temp</Form.Label>\r\n                <Form.Control\r\n                  onChange={customHandleChange}\r\n                  value={values.deltaTemp}\r\n                  type=\"number\"\r\n                  placeholder=\"Delta Temp\"\r\n                  name=\"deltaTemp\"\r\n                />\r\n              </Col>\r\n              <Col item xs={12} className=\"mt-2\">\r\n                <Form.Label>Power [kW]</Form.Label>\r\n                <Form.Control\r\n                  onChange={customHandleChange}\r\n                  value={values.power}\r\n                  type=\"number\"\r\n                  placeholder=\"Power [kW]\"\r\n                  name=\"power\"\r\n                />\r\n              </Col>\r\n              <Col item xs={12} className=\"mt-2\">\r\n                <Form.Label>cb</Form.Label>\r\n                <Form.Control\r\n                  onChange={customHandleChange}\r\n                  value={values.cb}\r\n                  type=\"number\"\r\n                  placeholder=\"cb\"\r\n                  name=\"cb\"\r\n                />\r\n              </Col>\r\n              <Col item xs={12} className=\"mt-2\">\r\n                <Form.Label>rho</Form.Label>\r\n                <Form.Control\r\n                  onChange={customHandleChange}\r\n                  value={values.rho}\r\n                  type=\"number\"\r\n                  placeholder=\"rho\"\r\n                  name=\"rho\"\r\n                />\r\n              </Col>\r\n              <Button\r\n                className=\"mt-2\"\r\n                variant=\"primary\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  handleSubmit();\r\n                }}\r\n              >\r\n                Result\r\n              </Button>\r\n            </form>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n","import WallPage from \"pages/WallPage\";\r\nimport Project from \"./pages/Project\";\r\nimport RoomPage from \"./pages/RoomPage\";\r\nimport StartPage from \"./pages/StartPage\";\r\nimport Report from \"./pages/Report\";\r\nimport Nomograph from \"./pages/Nomograph\";\r\nimport NomographExample from \"./pages/NomographExample\";\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/start\",\r\n    name: \"Start Page\",\r\n    icon: \"nc-icon nc-alien-33\",\r\n    component: StartPage,\r\n    layout: \"/main\",\r\n  },\r\n  {\r\n    path: \"/mat-app\",\r\n    name: \"Project\",\r\n    icon: \"nc-icon nc-chart-pie-35\",\r\n    component: Project,\r\n    layout: \"/main\",\r\n  },\r\n  // {\r\n  //   path: \"/mat-app/room\",\r\n  //   name: \"Project\",\r\n  //   icon: \"nc-icon nc-chart-pie-35\",\r\n  //   component: RoomPage,\r\n  //   layout: \"/main\",\r\n  // },\r\n  {\r\n    path: \"/mat-app/room/:id\",\r\n    name: \"Project\",\r\n    icon: \"nc-icon nc-chart-pie-35\",\r\n    component: RoomPage,\r\n    layout: \"/main\",\r\n  },\r\n  // {\r\n  //   path: \"/mat-app/room/:id/wall/:wallId\",\r\n  //   name: \"Project\",\r\n  //   icon: \"nc-icon nc-chart-pie-35\",\r\n  //   component: WallPage,\r\n  //   layout: \"/main\",\r\n  // },\r\n  {\r\n    path: \"/mat-app/room/:id/wall\",\r\n    name: \"Project\",\r\n    icon: \"nc-icon nc-chart-pie-35\",\r\n    component: WallPage,\r\n    layout: \"/main\",\r\n  },\r\n  {\r\n    path: \"/report\",\r\n    name: \"Report\",\r\n    icon: \"nc-icon nc-circle-09\",\r\n    component: Report,\r\n    layout: \"/main\",\r\n  },\r\n  {\r\n    path: \"/nomograph\",\r\n    name: \"Nomograph\",\r\n    icon: \"nc-icon nc-notes\",\r\n    component: Nomograph,\r\n    layout: \"/main\",\r\n  },\r\n  {\r\n    path: \"/massflownomograph\",\r\n    name: \"Mass flow nomograph\",\r\n    icon: \"nc-icon nc-paper-2\",\r\n    component: NomographExample,\r\n    layout: \"/main\",\r\n  },\r\n];\r\nexport default routes;\r\n","import React from \"react\";\r\nimport { MassFlowNomographContent } from \"../nomographExample/MassFlowNomographUpdated/MassFlowNomographContent\";\r\n\r\nconst NomographExample = () => {\r\n  return <MassFlowNomographContent />;\r\n};\r\n\r\nexport default NomographExample;\r\n","import Footer from \"components/app-components/AppFooter/AppFooter\";\r\nimport Header from \"components/app-components/AppHeader/AppHeader\";\r\nimport Sidebar from \"components/app-components/AppSidebar/AppSidebar\";\r\nimport routes from \"routes.js\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\n\r\nconst MainLayout = () => {\r\n  const getRoutes = (routes) => {\r\n    return routes.map((prop, key) => {\r\n      if (prop.layout === \"/main\") {\r\n        return (\r\n          <Route\r\n            path={prop.layout + prop.path}\r\n            render={(props) => <prop.component {...props} />}\r\n            key={key}\r\n          />\r\n        );\r\n      } else {\r\n        return null;\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header sidebarBtn={<Sidebar routes={routes} name={\"Open sidebar\"} />} />\r\n      <div className=\"content\">\r\n        <Switch>{getRoutes(routes)}</Switch>\r\n      </div>\r\n      {/* <Footer /> */}\r\n    </>\r\n  );\r\n};\r\nexport default MainLayout;\r\n","import React, { useEffect } from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { calculate_project_data } from \"./redux/store/project/actions\";\r\nimport ClearStorageAlertDialog from \"./components/app-components/ClearStorageAlertDialog/ClearStorageAlertDialog\";\r\nimport MainLayout from \"layouts/Main\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst App = () => {\r\n  const rooms = useSelector((state) => state.rooms);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(calculate_project_data(rooms));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch(calculate_project_data(rooms));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [rooms]);\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route path=\"/main\" render={(props) => <MainLayout {...props} />} />\r\n        <Redirect from=\"/\" to=\"/main/start\" />\r\n      </Switch>\r\n      <ClearStorageAlertDialog />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { calc_group } from \"./calc_group\";\r\nimport { calc_hight_ceiling } from \"./calc_hight_ceiling\";\r\n\r\nexport const calc_room_data = (obj, outsideT) => {\r\n  const wallHeatLoss = calc_group(obj.items, \"heatLoss\");\r\n  const areaAll = calc_group(obj.items, \"area\");\r\n\r\n  obj.deltaT = obj.roomT - outsideT;\r\n\r\n  if (obj.type === \"Simple room\") {\r\n    obj.area = obj.width * obj[\"length\"];\r\n  }\r\n\r\n  obj.roomVolume = obj.height * obj.area;\r\n  obj.reheatPover = obj.area * obj.heatingPover;\r\n  obj.airHeated = obj.roomVolume * obj.airExRate;\r\n  obj.venHeatLoss = obj.airHeated * 0.33 * obj.deltaT;\r\n  obj.transmissionLoss = wallHeatLoss;\r\n\r\n  //1 hight Ceiling factor\r\n  obj.hightCeilingF = calc_hight_ceiling(obj.height);\r\n\r\n  // total heat loss\r\n  obj.totalHeatLoss = Number(obj.venHeatLoss) + Number(wallHeatLoss);\r\n\r\n  // ceiling heat loss\r\n  obj.ceilingHeatLoss = obj.hightCeilingF * obj.totalHeatLoss;\r\n\r\n  // add ceiling heat loss to total heat loss\r\n  obj.totalHeatLoss += obj.ceilingHeatLoss;\r\n\r\n  obj.specHeatLoss = obj.totalHeatLoss / obj.area || 0;\r\n  obj.totalWallArea = areaAll;\r\n  obj.yearlyHeat = (obj.totalHeatLoss / obj.deltaT) * 24 * 2000 || 0;\r\n};\r\n","export const calc_hight_ceiling = (h) => {\r\n  const C1 = -0.0003211;\r\n  const C2 = 0.0066687;\r\n  const C3 = -0.0209595;\r\n  const C4 = 0.0164119;\r\n  if (h <= 2 || h >= 8) {\r\n    return 0;\r\n  } else {\r\n    const fCeiling = C1 * (h * h * h) + C2 * (h * h) + C3 * h + C4;\r\n    return fCeiling;\r\n  }\r\n};\r\n","// t - insulation thickness [m]\r\n// y - thermal conductivity [W/mK]\r\n// area - area of room [m²]\r\n// P - perimeter of exposed walls [m]\r\n// U - thermal resistivity [W/m²K]\r\n\r\nexport const calc_ground_floor_heatLoss = (t, P, area, y) => {\r\n  if (t === 0) {\r\n    const U =\r\n      -0.4993 * ((P / area) * (P / area)) + 1.5095 * (P / area) + 0.1234;\r\n    return U;\r\n  }\r\n\r\n  if (t >= 25) {\r\n    const a1 = -0.0545621;\r\n    const a2 = 0.3016047;\r\n    const a3 = -0.575197;\r\n    const b1 = 0.1436498;\r\n    const b2 = -0.7512028;\r\n    const b3 = 1.263755;\r\n    const c1 = -0.0078826;\r\n    const c2 = 0.0119111;\r\n    const c3 = 0.153662;\r\n\r\n    const A = a1 * ((t / y) * (t / y)) + a2 * (t / y) + a3;\r\n    const B = b1 * ((t / y) * (t / y)) + b2 * (t / y) + b3;\r\n    const C = c1 * ((t / y) * (t / y)) + c2 * (t / y) + c3;\r\n\r\n    const U = A * ((P / area) * (P / area)) + B * (P / area) + C;\r\n    return U;\r\n  }\r\n\r\n  if (t !== 0 && t <= 25) {\r\n    const U1 =\r\n      -0.4993 * ((P / area) * (P / area)) + 1.5095 * (P / area) + 0.1234;\r\n\r\n    const a1 = -0.0545621;\r\n    const a2 = 0.3016047;\r\n    const a3 = -0.575197;\r\n    const b1 = 0.1436498;\r\n    const b2 = -0.7512028;\r\n    const b3 = 1.263755;\r\n    const c1 = -0.0078826;\r\n    const c2 = 0.0119111;\r\n    const c3 = 0.153662;\r\n\r\n    const A = a1 * ((t / y) * (t / y)) + a2 * (t / y) + a3;\r\n    const B = b1 * ((t / y) * (t / y)) + b2 * (t / y) + b3;\r\n    const C = c1 * ((t / y) * (t / y)) + c2 * (t / y) + c3;\r\n\r\n    const U2 = A * ((P / area) * (P / area)) + B * (P / area) + C;\r\n\r\n    return (U1 + U2) / 2;\r\n  }\r\n};\r\nconsole.log(calc_ground_floor_heatLoss(0.05, 5, 25, 0.04));\r\n","import { calc_group } from \"./calc_group\";\r\nimport { calc_ground_floor_heatLoss } from \"./calc_ground_floor_heatLoss\";\r\n\r\nexport const calc_wall_data = (obj, deltaT, bTypeValue) => {\r\n  if (obj.exWallGroup === \"ground floor\") {\r\n    const uValue = calc_ground_floor_heatLoss(\r\n      obj.thickInsul,\r\n      obj.expPerimeter,\r\n      obj.area,\r\n      obj.thermInsul\r\n    );\r\n    obj.uValue = uValue;\r\n    obj.heatLoss = obj.uValue * obj.area * deltaT + bTypeValue;\r\n    return;\r\n  } else if (obj.exWallGroup === \"party floor\") {\r\n    const uValue = calc_ground_floor_heatLoss(\r\n      obj.thickInsul,\r\n      obj.expPerimeter,\r\n      obj.area,\r\n      obj.thermInsul\r\n    );\r\n    obj.uValue = uValue;\r\n    obj.heatLoss = obj.uValue * obj.area * obj.tempNroom + bTypeValue;\r\n    return;\r\n  } else if (obj.exWallGroup === \"roof\") {\r\n    console.log(obj);\r\n    obj.area = obj.area - calc_group(obj.items, \"area\");\r\n    // AND HEAT LOSS = HEAT LOSS + ALL HIS ITEMS HEAT LOSS\r\n    obj.heatLoss = obj.uValue * obj.area * deltaT + bTypeValue;\r\n    obj.heatLoss += calc_group(obj.items, \"heatLoss\");\r\n    return;\r\n  } else {\r\n    obj.area = obj.height * obj.length;\r\n    obj.area = obj.area - calc_group(obj.items, \"area\");\r\n\r\n    if (obj.exWallGroup === \"internall wall\") {\r\n      obj.heatLoss = obj.uValue * obj.area * obj.tempNroom + bTypeValue;\r\n    } else {\r\n      obj.heatLoss = obj.uValue * obj.area * deltaT + bTypeValue;\r\n    }\r\n\r\n    // AND HEAT LOSS = HEAT LOSS + ALL HIS ITEMS HEAT LOSS\r\n    obj.heatLoss += calc_group(obj.items, \"heatLoss\");\r\n  }\r\n};\r\n","import { calc_room_data } from \"../../../calculation/calc_room_data\";\r\nimport { calc_wall_data } from \"../../../calculation/calc_wall_data\";\r\n\r\nconst initialState = [\r\n  // {\r\n  //   id: \"1\",\r\n  //   name: \"Bed-room\",\r\n  //   type: \"Simple room\",\r\n  //   roomT: 2,\r\n  //   deltaT: 0,\r\n  //   height: 1,\r\n  //   area: 0,\r\n  //   length: 3,\r\n  //   width: 2,\r\n  //   airExRate: 5,\r\n  //   airEx: 0,\r\n  //   roomVolume: 0,\r\n  //   venHeatLoss: 0,\r\n  //   airHeated: 0,\r\n  //   transmissionLoss: 0,\r\n  //   totalWallArea: 0,\r\n  //   totalHeatLoss: 0,\r\n  //   yearlyHeat: 0,\r\n  //   hightCeilingF: 0,\r\n  //   ceilingHeatLoss: 0,\r\n  //   disusePeriod: 8,\r\n  //   bAir: \"low\",\r\n  //   bMass: \"low\",\r\n  //   reheatTime: 0.5,\r\n  //   heatingPover: 63,\r\n  //   reheatPover: 0,\r\n  //   items: [\r\n  //     {\r\n  //       id: \"1\",\r\n  //       name: \"redux room 1 item 1\",\r\n  //       type: \"redux room 1 item type 1\",\r\n  //       uValue: 3.1,\r\n  //       exWallGroup: \"external wall\",\r\n  //       exWallGroup1: \"Solid brick wall, dense plaster\",\r\n  //       exWallGroup2: \"102 mm brick\",\r\n  //       external: true,\r\n  //       itemName: \"102 mm brick, plaster\",\r\n  //       height: 2,\r\n  //       width: 5,\r\n  //       area: 0,\r\n  //       heatLoss: 0,\r\n  //       items: [],\r\n  //     },\r\n  //   ],\r\n  // },\r\n  // {\r\n  //   id: \"2\",\r\n  //   name: \"Kitchen\",\r\n  //   type: \"Simple room\",\r\n  //   area: 0,\r\n  //   roomT: 5,\r\n  //   height: 2,\r\n  //   length: 2,\r\n  //   width: 2,\r\n  //   deltaT: 0,\r\n  //   airHeated: 0,\r\n  //   airExRate: 1,\r\n  //   airEx: 0,\r\n  //   roomVolume: 0,\r\n  //   venHeatLoss: 0,\r\n  //   transmissionLoss: 0,\r\n  //   totalWallArea: 0,\r\n  //   totalHeatLoss: 0,\r\n  //   yearlyHeat: 0,\r\n  //   hightCeilingF: 0,\r\n  //   ceilingHeatLoss: 0,\r\n  //   disusePeriod: 8,\r\n  //   bAir: \"low\",\r\n  //   bMass: \"low\",\r\n  //   reheatTime: 0.5,\r\n  //   heatingPover: 63,\r\n  //   reheatPover: 0,\r\n  //   items: [\r\n  //     {\r\n  //       id: \"1\",\r\n  //       name: \"redux room 2 item 1\",\r\n  //       type: \"redux room 2 item type 1\",\r\n  //       exWallGroup: \"external wall\",\r\n  //       exWallGroup1: \"Solid brick wall, dense plaster\",\r\n  //       exWallGroup2: \"102 mm brick\",\r\n  //       uValue: 3.1,\r\n  //       external: true,\r\n  //       itemName: \"102 mm brick, plaster\",\r\n  //       height: 3,\r\n  //       width: 4,\r\n  //       area: 0,\r\n  //       heatLoss: 0,\r\n  //       items: [],\r\n  //     },\r\n  //     {\r\n  //       id: \"2\",\r\n  //       name: \"redux room 2 item 2\",\r\n  //       type: \"redux room 2 item type 2\",\r\n  //       exWallGroup: \"external wall\",\r\n  //       exWallGroup1: \"Solid brick wall, dense plaster\",\r\n  //       exWallGroup2: \"102 mm brick\",\r\n  //       uValue: 3.1,\r\n  //       itemName: \"102 mm brick, plaster\",\r\n  //       height: 3,\r\n  //       width: 3,\r\n  //       external: true,\r\n  //       area: 0,\r\n  //       heatLoss: 0,\r\n  //       items: [],\r\n  //     },\r\n  //   ],\r\n  // },\r\n  // {\r\n  //   id: \"3\",\r\n  //   name: \"Attic\",\r\n  //   type: \"Simple room\",\r\n  //   roomT: 4,\r\n  //   area: 0,\r\n  //   height: 3,\r\n  //   length: 3,\r\n  //   width: 3,\r\n  //   deltaT: 0,\r\n  //   totalWallArea: 0,\r\n  //   totalHeatLoss: 0,\r\n  //   transmissionLoss: 0,\r\n  //   airExRate: 5,\r\n  //   airEx: 0,\r\n  //   roomVolume: 0,\r\n  //   venHeatLoss: 0,\r\n  //   airHeated: 0,\r\n  //   yearlyHeat: 0,\r\n  //   hightCeilingF: 0,\r\n  //   ceilingHeatLoss: 0,\r\n  //   disusePeriod: 8,\r\n  //   bAir: \"low\",\r\n  //   bMass: \"low\",\r\n  //   reheatTime: 0.5,\r\n  //   heatingPover: 63,\r\n  //   reheatPover: 0,\r\n  //   items: [\r\n  //     {\r\n  //       id: \"1\",\r\n  //       name: \"redux room 3 item 1\",\r\n  //       type: \"redux room 3 item type 1\",\r\n  //       uValue: 3.1,\r\n  //       itemName: \"102 mm brick, plaster\",\r\n  //       exWallGroup: \"external wall\",\r\n  //       exWallGroup1: \"Solid brick wall, dense plaster\",\r\n  //       exWallGroup2: \"102 mm brick\",\r\n  //       height: 3,\r\n  //       external: true,\r\n  //       width: 5,\r\n  //       area: 0,\r\n  //       heatLoss: 0,\r\n  //       items: [],\r\n  //     },\r\n  //     {\r\n  //       id: \"2\",\r\n  //       name: \"redux room 3 item 2\",\r\n  //       type: \"redux room 3 item type 2\",\r\n  //       uValue: 3.1,\r\n  //       itemName: \"102 mm brick, plaster\",\r\n  //       exWallGroup: \"external wall\",\r\n  //       exWallGroup1: \"Solid brick wall, dense plaster\",\r\n  //       exWallGroup2: \"102 mm brick\",\r\n  //       external: true,\r\n  //       height: 6,\r\n  //       width: 3,\r\n  //       area: 0,\r\n  //       heatLoss: 0,\r\n  //       items: [],\r\n  //     },\r\n  //     {\r\n  //       id: \"3\",\r\n  //       name: \"redux room 3 item 3\",\r\n  //       type: \"redux room 3 item type 3\",\r\n  //       uValue: 3.1,\r\n  //       itemName: \"102 mm brick, plaster\",\r\n  //       exWallGroup: \"external wall\",\r\n  //       exWallGroup1: \"Solid brick wall, dense plaster\",\r\n  //       exWallGroup2: \"102 mm brick\",\r\n  //       external: true,\r\n  //       height: 5,\r\n  //       width: 5,\r\n  //       area: 0,\r\n  //       heatLoss: 0,\r\n  //       items: [],\r\n  //     },\r\n  //   ],\r\n  // },\r\n];\r\n\r\nexport const roomsReducer = (state = initialState, action) => {\r\n  let newState;\r\n  let roomIdx;\r\n  let a;\r\n  switch (action.type) {\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    case \"ADD_ROOM\":\r\n      return [...state, action.payload.data];\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    case \"EDIT_ROOM\":\r\n      newState = [...state];\r\n      roomIdx = state.findIndex((el) => {\r\n        return el.id === action.payload.roomId;\r\n      });\r\n      newState[roomIdx] = { ...state[roomIdx], ...action.payload.data };\r\n      return newState;\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    case \"DELETE_ROOM\":\r\n      newState = state.filter((el) => {\r\n        return el.id !== action.payload;\r\n      });\r\n      return newState;\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    case \"ADD_ITEM\":\r\n      newState = [...state];\r\n      a = action.payload;\r\n      newState[a.roomIdx].items = [...state[a.roomIdx].items, a.data];\r\n      return newState;\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    case \"EDIT_ROOM_ITEM\":\r\n      newState = [...state];\r\n      roomIdx = state.findIndex((el) => {\r\n        return el.id === action.payload.roomId;\r\n      });\r\n      const roomBuildingIdx = state[roomIdx].items.findIndex((el) => {\r\n        return el.id === action.payload.itemId;\r\n      });\r\n      newState[roomIdx].items[roomBuildingIdx] = {\r\n        ...newState[roomIdx].items[roomBuildingIdx],\r\n        ...action.payload.data,\r\n      };\r\n      return newState;\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    case \"DELETE_ITEM\":\r\n      roomIdx = state.findIndex((el) => {\r\n        return el.id === action.payload.roomId;\r\n      });\r\n      newState = [...state];\r\n      const newItems = [...newState[roomIdx].items].filter((el) => {\r\n        return el.id !== action.payload.itemId;\r\n      });\r\n      newState[roomIdx].items = newItems;\r\n      return newState;\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    case \"ADD_WALLITEM\":\r\n      newState = [...state];\r\n      newState[action.payload.roomIdx].items[action.payload.wallIdx].items = [\r\n        ...state[action.payload.roomIdx].items[action.payload.wallIdx].items,\r\n        action.payload.data,\r\n      ];\r\n      return newState;\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    case \"EDIT_ROOM_WALL_ITEM\":\r\n      newState = [...state];\r\n      newState[action.payload.roomIdx].items[action.payload.wallIdx].items[\r\n        action.payload.itemIdx\r\n      ].name = action.payload.data.name;\r\n      newState[action.payload.roomIdx].items[action.payload.wallIdx].items[\r\n        action.payload.itemIdx\r\n      ].type = action.payload.data.type;\r\n      newState[action.payload.roomIdx].items[action.payload.wallIdx].items[\r\n        action.payload.itemIdx\r\n      ].uValue = action.payload.data.uValue;\r\n      newState[action.payload.roomIdx].items[action.payload.wallIdx].items[\r\n        action.payload.itemIdx\r\n      ].itemName = action.payload.data.itemName;\r\n      newState[action.payload.roomIdx].items[action.payload.wallIdx].items[\r\n        action.payload.itemIdx\r\n      ].height = action.payload.data.height;\r\n      newState[action.payload.roomIdx].items[action.payload.wallIdx].items[\r\n        action.payload.itemIdx\r\n      ].width = action.payload.data.width;\r\n      newState[action.payload.roomIdx].items[action.payload.wallIdx].items[\r\n        action.payload.itemIdx\r\n      ].area = action.payload.data.area;\r\n      return newState;\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    case \"DELETE_WALLITEM\":\r\n      newState = [...state];\r\n      const newWallItems = [\r\n        ...newState[action.payload.roomIdx].items[action.payload.wallIdx].items,\r\n      ].filter((el, id) => {\r\n        return id !== action.payload.wallItemIdx;\r\n      });\r\n      newState[action.payload.roomIdx].items[action.payload.wallIdx].items =\r\n        newWallItems;\r\n      return newState;\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    case \"CALCULATE_ROOM_DATA\":\r\n      newState = [...state];\r\n      calc_room_data(newState[action.roomId], action.payload.outsideT);\r\n      return newState;\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    case \"CALCULATE_ITEM_DATA\":\r\n      newState = [...state];\r\n      calc_wall_data(\r\n        newState[action.roomId].items[action.itemId],\r\n        action.payload.deltaT,\r\n        action.payload.buildingTypeValue\r\n      );\r\n      return newState;\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    case \"CALCULATE_WALL_ITEM_DATA\":\r\n      newState = [...state];\r\n      a = newState[action.roomId].items[action.wallId].items[action.itemId];\r\n      a.area = a.height * a.width;\r\n      if (newState[action.roomId].items[action.wallId].external) {\r\n        a.heatLoss =\r\n          a.uValue * a.area * action.payload.deltaT +\r\n          action.payload.buildingTypeValue;\r\n      } else {\r\n        a.heatLoss =\r\n          a.uValue *\r\n            a.area *\r\n            newState[action.roomId].items[action.wallId].tempNroom +\r\n          action.payload.buildingTypeValue;\r\n      }\r\n      return newState;\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    // --------------------------------------------------------------------------------------------------------------------------------\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const isNumber = function isNumber(value) {\r\n  return typeof value === \"number\" && isFinite(value) && !isNaN(value);\r\n};\r\n\r\nexport const validate_numbers = (number, numberName, objName) => {\r\n  try {\r\n    if (!isNumber(number)) {\r\n      throw new SyntaxError(\"Error with number\");\r\n    }\r\n  } catch (e) {\r\n    // eslint-disable-next-line eqeqeq\r\n    if (e.name == \"SyntaxError\") {\r\n      console.warn(\r\n        \"Sorry, number wrong: infinity or NaN\",\r\n        \"NUMBER: \" + numberName + \" OBJECT: \" + objName\r\n      );\r\n    } else {\r\n      throw e;\r\n    }\r\n  }\r\n};\r\n","import { validate_numbers } from \"math/validate_numbers\";\r\nimport { calc_group } from \"./calc_group\";\r\n\r\n// prevState - previos project state\r\n// data - new project data from form\r\n\r\nexport const calculate_project_data = (prevState, data) => {\r\n  const totalHeatLoss = calc_group(data, \"totalHeatLoss\");\r\n  const totalFloorArea = calc_group(data, \"area\");\r\n  const specHeatLoss = totalHeatLoss / totalFloorArea || 0;\r\n\r\n  const result = {\r\n    totalHeatLoss: totalHeatLoss,\r\n    venHeatLoss: calc_group(data, \"venHeatLoss\"),\r\n    transmissionLoss: calc_group(data, \"transmissionLoss\"),\r\n    ceilingHeatLoss: calc_group(data, \"ceilingHeatLoss\"),\r\n    totalFloorArea: calc_group(data, \"area\"),\r\n    yearlyHeat: calc_group(data, \"yearlyHeat\"),\r\n    specHeatLoss: specHeatLoss,\r\n  };\r\n\r\n  validate_numbers(\r\n    result.totalHeatLoss,\r\n    \"TOTAL HEAT LOSS\",\r\n    \"PROJECT CALCULATION OBJECT\"\r\n  );\r\n  validate_numbers(\r\n    result.venHeatLoss,\r\n    \"VENTILATION HEAT LOSS\",\r\n    \"PROJECT CALCULATION OBJECT\"\r\n  );\r\n  validate_numbers(\r\n    result.transmissionLoss,\r\n    \"TRANSMISSION HEAT LOSS\",\r\n    \"PROJECT CALCULATION OBJECT\"\r\n  );\r\n  validate_numbers(\r\n    result.totalFloorArea,\r\n    \"TOTAL FLOOR AREA\",\r\n    \"PROJECT CALCULATION OBJECT\"\r\n  );\r\n  validate_numbers(\r\n    result.yearlyHeat,\r\n    \"YEARLY HEAT LOSS\",\r\n    \"PROJECT CALCULATION OBJECT\"\r\n  );\r\n  validate_numbers(\r\n    result.specHeatLoss,\r\n    \"SPECIAL HEAT LOSS\",\r\n    \"PROJECT CALCULATION OBJECT\"\r\n  );\r\n\r\n  return { ...prevState, ...result };\r\n};\r\n","import { calculate_project_data } from \"calculation/calculate_project_data\";\r\nimport { CALCULATE_PROJECT_DATA, EDIT_PROJECT_DATA } from \"./actionTypes\";\r\n\r\n// initialState interface = {\r\n//   name: NAME OF PROJECT - STRING,\r\n//   outsideT: OUTSIDE TEMPERATURE, NUMBER,\r\n//   groundT: GROUND TEMPERATURE, NUMBER,\r\n//   dDays: DEGREE DAYS, NUMBER,\r\n//   totalHeatLoss: TOTAL HEAT LOSS OF PROJECT, NUMBER,\r\n//   venHeatLoss: VENTILATION HEAT LOSS OF PROJECT, NUMBER,\r\n//   totalFloorArea: TOTAL FLOOR AREA OF PROJECT, NUMBER,\r\n//   transmissionLoss: TRANSMISSION HEAT LOSS OF PROJECT, NUMBER,\r\n//   yearlyHeat: YEARLY HEAT LOSS OF PROJECT, NUMBER,\r\n//   buildingType: THERMAL BRIDGING VALUE, NUMBER,\r\n// };\r\n\r\nconst initialState = {\r\n  name: \"Project №1 - Home\",\r\n  outsideT: -3,\r\n  groundT: 20,\r\n  dDays: 2000,\r\n  totalHeatLoss: 0,\r\n  venHeatLoss: 0,\r\n  totalFloorArea: 0,\r\n  transmissionLoss: 0,\r\n  yearlyHeat: 0,\r\n  buildingType: 0,\r\n  ceilingHeatLoss: 0,\r\n};\r\n\r\nexport const projectReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case CALCULATE_PROJECT_DATA:\r\n      return calculate_project_data({ ...state }, action.payload.data);\r\n    case EDIT_PROJECT_DATA:\r\n      return { ...state, ...action.payload.data };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { RESET_STORE } from \"../../actionTypes/actionTypes\";\r\n\r\nconst initialState = {\r\n  clearStore: false,\r\n};\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case RESET_STORE:\r\n      return { ...state, clearStore: true };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { roomsReducer } from \"./rooms/reducers\";\r\nimport { projectReducer } from \"./project/reducers\";\r\nimport { appReducer } from \"./app/reducers\";\r\n\r\nexport default combineReducers({\r\n  app: appReducer,\r\n  project: projectReducer,\r\n  rooms: roomsReducer,\r\n});\r\n","import { createStore } from \"redux\";\r\nimport rootReducer from \"./rootReducer\";\r\n\r\n// SETTING THE DEFAULT REDUX STATE ON REBOUT\r\nconst persistedState = localStorage.getItem(\"reduxState\")\r\n  ? JSON.parse(localStorage.getItem(\"reduxState\"))\r\n  : {};\r\n\r\n// STORE INIT\r\nexport const store = createStore(\r\n  rootReducer,\r\n  persistedState,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\n// IF SOMETHING ARE CHANGES IN STORE, WE WRITE NEW STATE IN LOCALSTORAGE\r\nstore.subscribe(() => {\r\n  localStorage.setItem(\"reduxState\", JSON.stringify(store.getState()));\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./assets/styles/style.css\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./redux/store/store\";\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}